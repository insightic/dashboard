import{h as Xu,d as jr,r as Ni,a as Mr,o as Fe,c as xr,w as dn,b as an,e as Xi,F as Xr,f as Tt,n as Fs,t as on,g as vy,i as Te,u as Cn,j as Ln,k as Va,l as py,m as oi,p as Ka,q as oo,s as Xo,v as Oc,x as go,y as Us,z as Sh,A as El,B as Sc,_ as Tc,C as Cc,D as Pc,E as Th,G as gy}from"./index-BMYW29oV.js";/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ch={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=(T,t,i,v)=>({color:O="currentColor",size:F,stroke:b,title:c,class:e,...n},{attrs:o,slots:f})=>{let s=[...v.map(a=>Xu(...a)),...f.default?[f.default()]:[]];return c&&(s=[Xu("title",c),...s]),Xu("svg",{...Ch[T],width:F,height:F,...o,class:["tabler-icon",`tabler-icon-${t}`],...T==="filled"?{fill:O}:{"stroke-width":b??Ch[T]["stroke-width"],stroke:O},...n},s)};/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lc=ji("outline","app-window","IconAppWindow",[["path",{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M6 8h.01",key:"svg-1"}],["path",{d:"M9 8h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var my=ji("outline","brand-discord","IconBrandDiscord",[["path",{d:"M8 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-0"}],["path",{d:"M14 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M15.5 17c0 1 1.5 3 2 3c1.5 0 2.833 -1.667 3.5 -3c.667 -1.667 .5 -5.833 -1.5 -11.5c-1.457 -1.015 -3 -1.34 -4.5 -1.5l-.972 1.923a11.913 11.913 0 0 0 -4.053 0l-.975 -1.923c-1.5 .16 -3.043 .485 -4.5 1.5c-2 5.667 -2.167 9.833 -1.5 11.5c.667 1.333 2 3 3.5 3c.5 0 2 -2 2 -3",key:"svg-2"}],["path",{d:"M7 16.5c3.5 1 6.5 1 10 0",key:"svg-3"}]]);/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yy=ji("outline","brand-facebook","IconBrandFacebook",[["path",{d:"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dc=ji("outline","brand-github","IconBrandGithub",[["path",{d:"M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _l=ji("outline","brand-linkedin","IconBrandLinkedin",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 11l0 5",key:"svg-1"}],["path",{d:"M8 8l0 .01",key:"svg-2"}],["path",{d:"M12 16l0 -5",key:"svg-3"}],["path",{d:"M16 16v-3a2 2 0 0 0 -4 0",key:"svg-4"}]]);/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nc=ji("outline","brand-reddit","IconBrandReddit",[["path",{d:"M12 8c2.648 0 5.028 .826 6.675 2.14a2.5 2.5 0 0 1 2.326 4.36c0 3.59 -4.03 6.5 -9 6.5c-4.875 0 -8.845 -2.8 -9 -6.294l-1 -.206a2.5 2.5 0 0 1 2.326 -4.36c1.646 -1.313 4.026 -2.14 6.674 -2.14z",key:"svg-0"}],["path",{d:"M12 8l1 -5l6 1",key:"svg-1"}],["path",{d:"M19 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["circle",{cx:"9",cy:"13",r:".5",fill:"currentColor",key:"svg-3"}],["circle",{cx:"15",cy:"13",r:".5",fill:"currentColor",key:"svg-4"}],["path",{d:"M10 17c.667 .333 1.333 .5 2 .5s1.333 -.167 2 -.5",key:"svg-5"}]]);/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ac=ji("outline","brand-telegram","IconBrandTelegram",[["path",{d:"M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4",key:"svg-0"}]]);/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xl=ji("outline","brand-x","IconBrandX",[["path",{d:"M4 4l11.733 16h4.267l-11.733 -16z",key:"svg-0"}],["path",{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ic=ji("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var by=ji("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ph=ji("outline","trending-down","IconTrendingDown",[["path",{d:"M3 7l6 6l4 -4l8 8",key:"svg-0"}],["path",{d:"M21 10l0 7l-7 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-vue v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lh=ji("outline","trending-up","IconTrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]);const wy={class:"d-flex"},Ey={class:"me-2"},Rc=jr({__name:"SubNavBar",props:{views:Array,viewIdx:Number},emits:["changeView"],setup(T,{emit:t}){const i=Ni("0"),v=t;function O(F){i.value=F.toString(),v("changeView",F)}return(F,b)=>{const c=Mr("el-menu-item"),e=Mr("el-menu");return Fe(),xr(e,{mode:"horizontal","default-active":i.value},{default:dn(()=>[(Fe(!0),an(Xr,null,Xi(T.views,(n,o)=>(Fe(),xr(c,{key:o,index:o.toString(),onClick:f=>O(o)},{default:dn(()=>[Tt("div",wy,[Tt("div",Ey,[Tt("i",{class:Fs(["bi",n.icon])},null,2)]),Tt("div",null,on(n.name),1)])]),_:2},1032,["index","onClick"]))),128))]),_:1},8,["default-active"])}}}),Ha=(T,t)=>{const i=T.__vccOpts||T;for(const[v,O]of t)i[v]=O;return i},_y={},xy={class:"w-100 h-100 small cursor-font"};function My(T,t){const i=Mr("el-card");return Fe(),xr(i,null,{default:dn(()=>[Tt("div",xy,[vy(T.$slots,"default")])]),_:3})}const yr=Ha(_y,[["render",My]]),Oy={class:"mb-3"},Sy={class:"row"},Ty={class:"col-md-8 my-2"},Cy={class:"row"},Py={class:"col-md-3 d-flex align-items-center justify-content-center"},Ly=["src"],Dy={class:"col-md-9"},Ny={class:"h3"},Ay={class:"mt-2 small"},Iy=["href"],Ry=["href"],By=["href"],ky=["href"],zy=["href"],Wy=["href"],Fy={class:"col-md-4 my-2"},Uy={class:"text-center h-100 d-flex flex-column align-items-center justify-content-center"},$y=Tt("div",{class:"small"},"RATING",-1),Gy=jr({__name:"HeaderView",props:{data:Object},setup(T){return(t,i)=>(Fe(),an("div",Oy,[Tt("div",Sy,[Tt("div",Ty,[Te(yr,{class:"h-100",style:{"min-height":"180px"}},{default:dn(()=>{var v,O,F,b,c,e,n,o,f,s,a,u;return[Tt("div",Cy,[Tt("div",Py,[Tt("img",{src:T.data.logoUrl,alt:"Logo",style:{"max-width":"128px"}},null,8,Ly)]),Tt("div",Dy,[Tt("div",Ny,on(T.data.name),1),Tt("div",null,on(T.data.description),1),Tt("div",Ay,[(O=(v=T.data)==null?void 0:v.links)!=null&&O.website?(Fe(),an("a",{key:0,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.links.website,target:"_blank"},[Te(Cn(Lc),{"stroke-width":1,size:18})],8,Iy)):Ln("",!0),(b=(F=T.data)==null?void 0:F.links)!=null&&b.twitter?(Fe(),an("a",{key:1,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.links.twitter,target:"_blank"},[Te(Cn(xl),{"stroke-width":1,size:18})],8,Ry)):Ln("",!0),(e=(c=T.data)==null?void 0:c.links)!=null&&e.linkedin?(Fe(),an("a",{key:2,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.links.linkedin,target:"_blank"},[Te(Cn(_l),{"stroke-width":1,size:18})],8,By)):Ln("",!0),(o=(n=T.data)==null?void 0:n.links)!=null&&o.reddit?(Fe(),an("a",{key:3,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.links.reddit,target:"_blank"},[Te(Cn(Nc),{"stroke-width":1,size:18})],8,ky)):Ln("",!0),(s=(f=T.data)==null?void 0:f.links)!=null&&s.github?(Fe(),an("a",{key:4,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.links.github,target:"_blank"},[Te(Cn(Dc),{"stroke-width":1,size:18})],8,zy)):Ln("",!0),(u=(a=T.data)==null?void 0:a.links)!=null&&u.telegram?(Fe(),an("a",{key:5,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.links.telegram,target:"_blank"},[Te(Cn(Ac),{"stroke-width":1,size:18})],8,Wy)):Ln("",!0)])])])]}),_:1})]),Tt("div",Fy,[Te(yr,{class:"h-100"},{default:dn(()=>{var v,O,F;return[Tt("div",Uy,[$y,(v=T.data)!=null&&v.rating?(Fe(),an("div",{key:0,class:"d-flex align-items-center justify-content-center",style:Va([{"font-size":"4.5rem"},{color:Cn(py)((O=T.data)==null?void 0:O.rating)}])},on((F=T.data)==null?void 0:F.rating),5)):Ln("",!0)])]}),_:1})])])]))}}),Vy={class:"mb-3"},Ky=Tt("div",{class:"h2 mb-2"},"Overview",-1),Hy={class:"row"},Yy={class:"col-md-12 my-2"},Xy=["innerHTML"],jy={class:"h2 mb-2"},Qy={class:"row"},Zy={class:"col-md-12 my-2"},Jy=["innerHTML"],qy=jr({__name:"OverviewView",props:{data:Object},setup(T){return(t,i)=>{var v;return Fe(),an(Xr,null,[Tt("div",Vy,[Ky,Tt("div",Hy,[Tt("div",Yy,[Te(yr,{class:"h-100"},{default:dn(()=>{var O;return[Tt("div",{innerHTML:Cn(oi)((O=T.data)==null?void 0:O.overview)},null,8,Xy)]}),_:1})])])]),(Fe(!0),an(Xr,null,Xi((v=T.data)==null?void 0:v.details,(O,F)=>(Fe(),an("div",{key:F,class:"mb-3"},[Tt("div",jy,on(O.title),1),Tt("div",Qy,[Tt("div",Zy,[Te(yr,{class:"h-100"},{default:dn(()=>[Tt("div",{innerHTML:Cn(oi)(O.value)},null,8,Jy)]),_:2},1024)])])]))),128))],64)}}});function Dr(T){var t=T.width,i=T.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:i}}function jo(T,t){return T.width===t.width&&T.height===t.height}var t1=function(){function T(t){var i=this;this._resolutionListener=function(){return i._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return T.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(T.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),T.prototype.subscribe=function(t){var i=this,v={next:t};return this._observers.push(v),{unsubscribe:function(){i._observers=i._observers.filter(function(O){return O!==v})}}},T.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},T.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},T.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},T.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(i){return i.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},T}();function e1(T){return new t1(T)}var n1=function(){function T(t,i,v){var O;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=Dr({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=i??function(F){return F},this._allowResizeObserver=(O=v==null?void 0:v.allowResizeObserver)!==null&&O!==void 0?O:!0,this._chooseAndInitObserver()}return T.prototype.dispose=function(){var t,i;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(i=this._devicePixelRatioObservable)===null||i===void 0||i.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(T.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"bitmapSize",{get:function(){return Dr({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),T.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=Dr(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},T.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},T.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(i){return i!==t})},Object.defineProperty(T.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),T.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},T.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(i){return i!==t})},T.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},T.prototype._resizeBitmap=function(t){var i=this.bitmapSize;jo(i,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(i,t))},T.prototype._emitBitmapSizeChanged=function(t,i){var v=this;this._bitmapSizeChangedListeners.forEach(function(O){return O.call(v,t,i)})},T.prototype._suggestNewBitmapSize=function(t){var i=this._suggestedBitmapSize,v=Dr(this._transformBitmapSize(t,this._canvasElementClientSize)),O=jo(this.bitmapSize,v)?null:v;i===null&&O===null||i!==null&&O!==null&&jo(i,O)||(this._suggestedBitmapSize=O,this._emitSuggestedBitmapSizeChanged(i,O))},T.prototype._emitSuggestedBitmapSizeChanged=function(t,i){var v=this;this._suggestedBitmapSizeChangedListeners.forEach(function(O){return O.call(v,t,i)})},T.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}i1().then(function(i){return i?t._initResizeObserver():t._initDevicePixelRatioObservable()})},T.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var i=Dh(this._canvasElement);if(i===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=e1(i),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},T.prototype._invalidateBitmapSize=function(){var t,i;if(this._canvasElement!==null){var v=Dh(this._canvasElement);if(v!==null){var O=(i=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&i!==void 0?i:v.devicePixelRatio,F=this._canvasElement.getClientRects(),b=F[0]!==void 0?o1(F[0],O):Dr({width:this._canvasElementClientSize.width*O,height:this._canvasElementClientSize.height*O});this._suggestNewBitmapSize(b)}}},T.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(i){var v=i.find(function(b){return b.target===t._canvasElement});if(!(!v||!v.devicePixelContentBoxSize||!v.devicePixelContentBoxSize[0])){var O=v.devicePixelContentBoxSize[0],F=Dr({width:O.inlineSize,height:O.blockSize});t._suggestNewBitmapSize(F)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},T}();function r1(T,t){if(t.type==="device-pixel-content-box")return new n1(T,t.transform,t.options);throw new Error("Unsupported binding target")}function Dh(T){return T.ownerDocument.defaultView}function i1(){return new Promise(function(T){var t=new ResizeObserver(function(i){T(i.every(function(v){return"devicePixelContentBoxSize"in v})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function o1(T,t){return Dr({width:Math.round(T.left*t+T.width*t)-Math.round(T.left*t),height:Math.round(T.top*t+T.height*t)-Math.round(T.top*t)})}var s1=function(){function T(t,i,v){if(i.width===0||i.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=i,v.width===0||v.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=v,this._context=t}return T.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},T.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(T.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),T}();function Qo(T,t){var i=T.canvasElementClientSize;if(i.width===0||i.height===0)return null;var v=T.bitmapSize;if(v.width===0||v.height===0)return null;var O=T.canvasElement.getContext("2d",t);return O===null?null:new s1(O,i,v)}/*!
 * @license
 * TradingView Lightweight Charts™ v4.2.0
 * Copyright (c) 2024 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const a1={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},u1={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},l1={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},f1={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},h1={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},c1={color:"#26a69a",base:0},Bc={color:"#2196f3"},kc={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Nh,Ah;function Zo(T,t){const i={0:[],1:[T.lineWidth,T.lineWidth],2:[2*T.lineWidth,2*T.lineWidth],3:[6*T.lineWidth,6*T.lineWidth],4:[T.lineWidth,4*T.lineWidth]}[t];T.setLineDash(i)}function zc(T,t,i,v){T.beginPath();const O=T.lineWidth%2?.5:0;T.moveTo(i,t+O),T.lineTo(v,t+O),T.stroke()}function zo(T,t){if(!T)throw new Error("Assertion failed"+(t?": "+t:""))}function Oi(T){if(T===void 0)throw new Error("Value is undefined");return T}function Ge(T){if(T===null)throw new Error("Value is null");return T}function hs(T){return Ge(Oi(T))}(function(T){T[T.Simple=0]="Simple",T[T.WithSteps=1]="WithSteps",T[T.Curved=2]="Curved"})(Nh||(Nh={})),function(T){T[T.Solid=0]="Solid",T[T.Dotted=1]="Dotted",T[T.Dashed=2]="Dashed",T[T.LargeDashed=3]="LargeDashed",T[T.SparseDotted=4]="SparseDotted"}(Ah||(Ah={}));const Ih={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Yi(T){return T<0?0:T>255?255:Math.round(T)||0}function Wc(T){return T<=0||T>1?Math.min(Math.max(T,0),1):Math.round(1e4*T)/1e4}const d1=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,v1=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,p1=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,g1=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function $s(T){(T=T.toLowerCase())in Ih&&(T=Ih[T]);{const t=g1.exec(T)||p1.exec(T);if(t)return[Yi(parseInt(t[1],10)),Yi(parseInt(t[2],10)),Yi(parseInt(t[3],10)),Wc(t.length<5?1:parseFloat(t[4]))]}{const t=v1.exec(T);if(t)return[Yi(parseInt(t[1],16)),Yi(parseInt(t[2],16)),Yi(parseInt(t[3],16)),1]}{const t=d1.exec(T);if(t)return[Yi(17*parseInt(t[1],16)),Yi(17*parseInt(t[2],16)),Yi(17*parseInt(t[3],16)),1]}throw new Error(`Cannot parse color: ${T}`)}function Fc(T){return .199*T[0]+.687*T[1]+.114*T[2]}function Ya(T){const t=$s(T);return{t:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,i:Fc(t)>160?"black":"white"}}class Vr{constructor(){this.h=[]}l(t,i,v){const O={o:t,_:i,u:v===!0};this.h.push(O)}v(t){const i=this.h.findIndex(v=>t===v.o);i>-1&&this.h.splice(i,1)}p(t){this.h=this.h.filter(i=>i._!==t)}m(t,i,v){const O=[...this.h];this.h=this.h.filter(F=>!F.u),O.forEach(F=>F.o(t,i,v))}M(){return this.h.length>0}S(){this.h=[]}}function so(T,...t){for(const i of t)for(const v in i)i[v]!==void 0&&(typeof i[v]!="object"||T[v]===void 0||Array.isArray(i[v])?T[v]=i[v]:so(T[v],i[v]));return T}function po(T){return typeof T=="number"&&isFinite(T)}function Gs(T){return typeof T=="number"&&T%1==0}function Ys(T){return typeof T=="string"}function Pa(T){return typeof T=="boolean"}function Po(T){const t=T;if(!t||typeof t!="object")return t;let i,v,O;for(v in i=Array.isArray(t)?[]:{},t)t.hasOwnProperty(v)&&(O=t[v],i[v]=O&&typeof O=="object"?Po(O):O);return i}function m1(T){return T!==null}function Vs(T){return T===null?void 0:T}const Ml="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function vs(T,t,i){return t===void 0&&(t=Ml),`${i=i!==void 0?`${i} `:""}${T}px ${t}`}class y1{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,i=this.j(),v=this.H();return t.P===i&&t.D===v||(t.P=i,t.D=v,t.R=vs(i,v),t.L=2.5/12*i,t.B=t.L,t.A=i/12*t.T,t.I=i/12*t.T,t.N=0),t.V=this.$(),t.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class Ol{constructor(){this.Y=[]}Z(t){this.Y=t}X(t,i,v){this.Y.forEach(O=>{O.X(t,i,v)})}}class ao{X(t,i,v){t.useBitmapCoordinateSpace(O=>this.K(O,i,v))}}class b1 extends ao{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K({context:t,horizontalPixelRatio:i,verticalPixelRatio:v}){if(this.G===null||this.G.tt===null)return;const O=this.G.tt,F=this.G,b=Math.max(1,Math.floor(i))%2/2,c=e=>{t.beginPath();for(let n=O.to-1;n>=O.from;--n){const o=F.it[n],f=Math.round(o.nt*i)+b,s=o.st*v,a=e*v+b;t.moveTo(f,s),t.arc(f,s,a,0,2*Math.PI)}t.fill()};F.et>0&&(t.fillStyle=F.rt,c(F.ht+F.et)),t.fillStyle=F.lt,c(F.ht)}}function w1(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const E1={from:0,to:1};class _1{constructor(t,i){this.ut=new Ol,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=i,this.ut.Z(this.ct)}bt(t){const i=this.F.wt();i.length!==this.ct.length&&(this.dt=i.map(w1),this.ct=this.dt.map(v=>{const O=new b1;return O.J(v),O}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const t=this.vt.W().mode===2,i=this.F.wt(),v=this.vt.xt(),O=this.F.St();i.forEach((F,b)=>{var c;const e=this.dt[b],n=F.kt(v);if(t||n===null||!F.yt())return void(e.tt=null);const o=Ge(F.Ct());e.lt=n.Tt,e.ht=n.ht,e.et=n.Pt,e.it[0]._t=n._t,e.it[0].st=F.Dt().Rt(n._t,o.Vt),e.rt=(c=n.Ot)!==null&&c!==void 0?c:this.F.Bt(e.it[0].st/F.Dt().At()),e.it[0].ot=v,e.it[0].nt=O.It(v),e.tt=E1})}}class x1 extends ao{constructor(t){super(),this.zt=t}K({context:t,bitmapSize:i,horizontalPixelRatio:v,verticalPixelRatio:O}){if(this.zt===null)return;const F=this.zt.Lt.yt,b=this.zt.Et.yt;if(!F&&!b)return;const c=Math.round(this.zt.nt*v),e=Math.round(this.zt.st*O);t.lineCap="butt",F&&c>=0&&(t.lineWidth=Math.floor(this.zt.Lt.et*v),t.strokeStyle=this.zt.Lt.V,t.fillStyle=this.zt.Lt.V,Zo(t,this.zt.Lt.Nt),function(n,o,f,s){n.beginPath();const a=n.lineWidth%2?.5:0;n.moveTo(o+a,f),n.lineTo(o+a,s),n.stroke()}(t,c,0,i.height)),b&&e>=0&&(t.lineWidth=Math.floor(this.zt.Et.et*O),t.strokeStyle=this.zt.Et.V,t.fillStyle=this.zt.Et.V,Zo(t,this.zt.Et.Nt),zc(t,e,0,i.width))}}class M1{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new x1(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.yt(),i=Ge(this.jt.Ht()),v=i.$t().W().crosshair,O=this.Ft;if(v.mode===2)return O.Et.yt=!1,void(O.Lt.yt=!1);O.Et.yt=t&&this.jt.Ut(i),O.Lt.yt=t&&this.jt.qt(),O.Et.et=v.horzLine.width,O.Et.Nt=v.horzLine.style,O.Et.V=v.horzLine.color,O.Lt.et=v.vertLine.width,O.Lt.Nt=v.vertLine.style,O.Lt.V=v.vertLine.color,O.nt=this.jt.Yt(),O.st=this.jt.Zt()}}function O1(T,t,i,v,O,F){T.fillRect(t+F,i,v-2*F,F),T.fillRect(t+F,i+O-F,v-2*F,F),T.fillRect(t,i,F,O),T.fillRect(t+v-F,i,F,O)}function Xa(T,t,i,v,O,F){T.save(),T.globalCompositeOperation="copy",T.fillStyle=F,T.fillRect(t,i,v,O),T.restore()}function Rh(T,t,i,v,O,F){T.beginPath(),T.roundRect?T.roundRect(t,i,v,O,F):(T.lineTo(t+v-F[1],i),F[1]!==0&&T.arcTo(t+v,i,t+v,i+F[1],F[1]),T.lineTo(t+v,i+O-F[2]),F[2]!==0&&T.arcTo(t+v,i+O,t+v-F[2],i+O,F[2]),T.lineTo(t+F[3],i+O),F[3]!==0&&T.arcTo(t,i+O,t,i+O-F[3],F[3]),T.lineTo(t,i+F[0]),F[0]!==0&&T.arcTo(t,i,t+F[0],i,F[0]))}function Bh(T,t,i,v,O,F,b=0,c=[0,0,0,0],e=""){if(T.save(),!b||!e||e===F)return Rh(T,t,i,v,O,c),T.fillStyle=F,T.fill(),void T.restore();const n=b/2;var o;Rh(T,t+n,i+n,v-b,O-b,(o=-n,c.map(f=>f===0?f:f+o))),F!=="transparent"&&(T.fillStyle=F,T.fill()),e!=="transparent"&&(T.lineWidth=b,T.strokeStyle=e,T.closePath(),T.stroke()),T.restore()}function Uc(T,t,i,v,O,F,b){T.save(),T.globalCompositeOperation="copy";const c=T.createLinearGradient(0,0,0,O);c.addColorStop(0,F),c.addColorStop(1,b),T.fillStyle=c,T.fillRect(t,i,v,O),T.restore()}class kh{constructor(t,i){this.J(t,i)}J(t,i){this.zt=t,this.Xt=i}At(t,i){return this.zt.yt?t.P+t.L+t.B:0}X(t,i,v,O){if(!this.zt.yt||this.zt.Kt.length===0)return;const F=this.zt.V,b=this.Xt.t,c=t.useBitmapCoordinateSpace(e=>{const n=e.context;n.font=i.R;const o=this.Gt(e,i,v,O),f=o.Jt,s=(a,u)=>{o.Qt?Bh(n,f.ti,f.ii,f.ni,f.si,a,f.ei,[f.ht,0,0,f.ht],u):Bh(n,f.ri,f.ii,f.ni,f.si,a,f.ei,[0,f.ht,f.ht,0],u)};return s(b,"transparent"),this.zt.hi&&(n.fillStyle=F,n.fillRect(f.ri,f.li,f.ai-f.ri,f.oi)),s("transparent",b),this.zt._i&&(n.fillStyle=i.O,n.fillRect(o.Qt?f.ui-f.ei:0,f.ii,f.ei,f.ci-f.ii)),o});t.useMediaCoordinateSpace(({context:e})=>{const n=c.di;e.font=i.R,e.textAlign=c.Qt?"right":"left",e.textBaseline="middle",e.fillStyle=F,e.fillText(this.zt.Kt,n.fi,(n.ii+n.ci)/2+n.pi)})}Gt(t,i,v,O){var F;const{context:b,bitmapSize:c,mediaSize:e,horizontalPixelRatio:n,verticalPixelRatio:o}=t,f=this.zt.hi||!this.zt.mi?i.T:0,s=this.zt.bi?i.C:0,a=i.L+this.Xt.wi,u=i.B+this.Xt.gi,h=i.A,p=i.I,y=this.zt.Kt,w=i.P,d=v.Mi(b,y),M=Math.ceil(v.xi(b,y)),D=w+a+u,B=i.C+h+p+M+f,Y=Math.max(1,Math.floor(o));let N=Math.round(D*o);N%2!=Y%2&&(N+=1);const A=s>0?Math.max(1,Math.floor(s*n)):0,k=Math.round(B*n),tt=Math.round(f*n),et=(F=this.Xt.Si)!==null&&F!==void 0?F:this.Xt.ki,K=Math.round(et*o)-Math.floor(.5*o),U=Math.floor(K+Y/2-N/2),R=U+N,g=O==="right",C=g?e.width-s:s,W=g?c.width-A:A;let z,G,nt;return g?(z=W-k,G=W-tt,nt=C-f-h-s):(z=W+k,G=W+tt,nt=C+f+h),{Qt:g,Jt:{ii:U,li:K,ci:R,ni:k,si:N,ht:2*n,ei:A,ti:z,ri:W,ai:G,oi:Y,ui:c.width},di:{ii:U/o,ci:R/o,fi:nt,pi:d}}}}class ja{constructor(t){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(t||kh)(this.Ci,this.yi),this.Ri=new(t||kh)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(t,i=!1){return Math.max(this.Pi.At(t,i),this.Ri.At(t,i))}Vi(){return this.yi.Si||0}Oi(t){this.yi.Si=t}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(t){return this.Di(),this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.hi=this.Ti.hi&&t.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class S1 extends ja{constructor(t,i,v){super(),this.jt=t,this.Li=i,this.Ei=v}zi(t,i,v){if(t.yt=!1,this.jt.W().mode===2)return;const O=this.jt.W().horzLine;if(!O.labelVisible)return;const F=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||F===null)return;const b=Ya(O.labelBackgroundColor);v.t=b.t,t.V=b.i;const c=2/12*this.Li.P();v.wi=c,v.gi=c;const e=this.Ei(this.Li);v.ki=e.ki,t.Kt=this.Li.Fi(e._t,F),t.yt=!0}}const T1=/[1-9]/g;class $c{constructor(){this.zt=null}J(t){this.zt=t}X(t,i){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const v=t.useMediaCoordinateSpace(({context:s})=>(s.font=i.R,Math.round(i.Wi.xi(s,Ge(this.zt).Kt,T1))));if(v<=0)return;const O=i.ji,F=v+2*O,b=F/2,c=this.zt.Hi;let e=this.zt.ki,n=Math.floor(e-b)+.5;n<0?(e+=Math.abs(0-n),n=Math.floor(e-b)+.5):n+F>c&&(e-=Math.abs(c-(n+F)),n=Math.floor(e-b)+.5);const o=n+F,f=Math.ceil(0+i.C+i.T+i.L+i.P+i.B);t.useBitmapCoordinateSpace(({context:s,horizontalPixelRatio:a,verticalPixelRatio:u})=>{const h=Ge(this.zt);s.fillStyle=h.t;const p=Math.round(n*a),y=Math.round(0*u),w=Math.round(o*a),d=Math.round(f*u),M=Math.round(2*a);if(s.beginPath(),s.moveTo(p,y),s.lineTo(p,d-M),s.arcTo(p,d,p+M,d,M),s.lineTo(w-M,d),s.arcTo(w,d,w,d-M,M),s.lineTo(w,y),s.fill(),h.hi){const D=Math.round(h.ki*a),B=y,Y=Math.round((B+i.T)*u);s.fillStyle=h.V;const N=Math.max(1,Math.floor(a)),A=Math.floor(.5*a);s.fillRect(D-A,B,N,Y-B)}}),t.useMediaCoordinateSpace(({context:s})=>{const a=Ge(this.zt),u=0+i.C+i.T+i.L+i.P/2;s.font=i.R,s.textAlign="left",s.textBaseline="middle",s.fillStyle=a.V;const h=i.Wi.Mi(s,"Apr0");s.translate(n+O,u+h),s.fillText(a.Kt,0,0)})}}class C1{constructor(t,i,v){this.ft=!0,this.Wt=new $c,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=t,this.$i=i,this.Ei=v}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const t=this.Ft;if(t.yt=!1,this.vt.W().mode===2)return;const i=this.vt.W().vertLine;if(!i.labelVisible)return;const v=this.$i.St();if(v.Ni())return;t.Hi=v.Hi();const O=this.Ei();if(O===null)return;t.ki=O.ki;const F=v.Ui(this.vt.xt());t.Kt=v.qi(Ge(F)),t.yt=!0;const b=Ya(i.labelBackgroundColor);t.t=b.t,t.V=b.i,t.hi=v.W().ticksVisible}}class Sl{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(t){this.Zi=t}Dt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}yt(){return!0}}var Ua;(function(T){T[T.Normal=0]="Normal",T[T.Magnet=1]="Magnet",T[T.Hidden=2]="Hidden"})(Ua||(Ua={}));class P1 extends Sl{constructor(t,i){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=t,this.cn=i,this.dn=new _1(t,this),this.fn=((O,F)=>b=>{const c=F(),e=O();if(b===Ge(this.tn).vn())return{_t:e,ki:c};{const n=Ge(b.Ct());return{_t:b.pn(c,n),ki:c}}})(()=>this.nn,()=>this.an);const v=((O,F)=>()=>{const b=this.$i.St().mn(O()),c=F();return b&&Number.isFinite(c)?{ot:b,ki:c}:null})(()=>this.sn,()=>this.Yt());this.bn=new C1(this,t,v),this.wn=new M1(this)}W(){return this.cn}gn(t,i){this._n=t,this.un=i}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(t,i,v){this.hn||(this.hn=!0),this.en=!0,this.yn(t,i,v)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(t){return this.tn!==null?[this.wn,this.dn]:[]}Ut(t){return t===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(t,i){this.en&&this.tn===t||this.rn.clear();const v=[];return this.tn===t&&v.push(this.Dn(this.rn,i,this.fn)),v}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(t=>t.bt()),this.bn.bt(),this.dn.bt()}On(t){return t&&!t.vn().Ni()?t.vn():null}yn(t,i,v){this.Bn(t,i,v)&&this.Vn()}Bn(t,i,v){const O=this.ln,F=this.an,b=this.nn,c=this.sn,e=this.tn,n=this.On(v);this.sn=t,this.ln=isNaN(t)?NaN:this.$i.St().It(t),this.tn=v;const o=n!==null?n.Ct():null;return n!==null&&o!==null?(this.nn=i,this.an=n.Rt(i,o)):(this.nn=NaN,this.an=NaN),O!==this.ln||F!==this.an||c!==this.sn||b!==this.nn||e!==this.tn}Tn(){const t=this.$i.wt().map(v=>v.In().An()).filter(m1),i=t.length===0?null:Math.max(...t);this.sn=i!==null?i:NaN}Dn(t,i,v){let O=t.get(i);return O===void 0&&(O=new S1(this,i,v),t.set(i,O)),O}}function Qa(T){return T==="left"||T==="right"}class hi{constructor(t){this.zn=new Map,this.Ln=[],this.En=t}Nn(t,i){const v=function(O,F){return O===void 0?F:{Fn:Math.max(O.Fn,F.Fn),Wn:O.Wn||F.Wn}}(this.zn.get(t),i);this.zn.set(t,v)}jn(){return this.En}Hn(t){const i=this.zn.get(t);return i===void 0?{Fn:this.En}:{Fn:Math.max(this.En,i.Fn),Wn:i.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(t){this.Un(),this.Ln=[{qn:1,Vt:t}]}Zn(t){this.Xn(),this.Ln.push({qn:5,Vt:t})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(t){this.Un(),this.Ln.push({qn:2,Vt:t})}Jn(t){this.Un(),this.Ln.push({qn:3,Vt:t})}Qn(){return this.Ln}ts(t){for(const i of t.Ln)this.ns(i);this.En=Math.max(this.En,t.En),t.zn.forEach((i,v)=>{this.Nn(v,i)})}static ss(){return new hi(2)}static es(){return new hi(3)}ns(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Vt);break;case 2:this.Gn(t.Vt);break;case 3:this.Jn(t.Vt);break;case 4:this.Kn();break;case 5:this.Zn(t.Vt);break;case 6:this.Xn()}}Xn(){const t=this.Ln.findIndex(i=>i.qn===5);t!==-1&&this.Ln.splice(t,1)}}const zh=".";function Lo(T,t){if(!po(T))return"n/a";if(!Gs(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?T.toString():("0000000000000000"+T.toString()).slice(-t)}class Za{constructor(t,i){if(i||(i=1),po(t)&&Gs(t)||(t=100),t<0)throw new TypeError("invalid base");this.Li=t,this.rs=i,this.hs()}format(t){const i=t<0?"−":"";return t=Math.abs(t),i+this.ls(t)}hs(){if(this.os=0,this.Li>0&&this.rs>0){let t=this.Li;for(;t>1;)t/=10,this.os++}}ls(t){const i=this.Li/this.rs;let v=Math.floor(t),O="";const F=this.os!==void 0?this.os:NaN;if(i>1){let b=+(Math.round(t*i)-v*i).toFixed(this.os);b>=i&&(b-=i,v+=1),O=zh+Lo(+b.toFixed(this.os)*this.rs,F)}else v=Math.round(v*i)/i,F>0&&(O=zh+Lo(0,F));return v.toFixed(0)+O}}class Gc extends Za{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class L1{constructor(t){this._s=t}format(t){let i="";return t<0&&(i="-",t=-t),t<995?i+this.us(t):t<999995?i+this.us(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),i+this.us(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),i+this.us(t/1e9)+"B")}us(t){let i;const v=Math.pow(10,this._s);return i=(t=Math.round(t*v)/v)>=1e-15&&t<1?t.toFixed(this._s).replace(/\.?0+$/,""):String(t),i.replace(/(\.[1-9]*)0+$/,(O,F)=>F)}}function Vc(T,t,i,v,O,F,b){if(t.length===0||v.from>=t.length||v.to<=0)return;const{context:c,horizontalPixelRatio:e,verticalPixelRatio:n}=T,o=t[v.from];let f=F(T,o),s=o;if(v.to-v.from<2){const a=O/2;c.beginPath();const u={nt:o.nt-a,st:o.st},h={nt:o.nt+a,st:o.st};c.moveTo(u.nt*e,u.st*n),c.lineTo(h.nt*e,h.st*n),b(T,f,u,h)}else{const a=(h,p)=>{b(T,f,s,p),c.beginPath(),f=h,s=p};let u=s;c.beginPath(),c.moveTo(o.nt*e,o.st*n);for(let h=v.from+1;h<v.to;++h){u=t[h];const p=F(T,u);switch(i){case 0:c.lineTo(u.nt*e,u.st*n);break;case 1:c.lineTo(u.nt*e,t[h-1].st*n),p!==f&&(a(p,u),c.lineTo(u.nt*e,t[h-1].st*n)),c.lineTo(u.nt*e,u.st*n);break;case 2:{const[y,w]=D1(t,h-1,h);c.bezierCurveTo(y.nt*e,y.st*n,w.nt*e,w.st*n,u.nt*e,u.st*n);break}}i!==1&&p!==f&&(a(p,u),c.moveTo(u.nt*e,u.st*n))}(s!==u||s===u&&i===1)&&b(T,f,s,u)}}const Wh=6;function ju(T,t){return{nt:T.nt-t.nt,st:T.st-t.st}}function Fh(T,t){return{nt:T.nt/t,st:T.st/t}}function D1(T,t,i){const v=Math.max(0,t-1),O=Math.min(T.length-1,i+1);var F,b;return[(F=T[t],b=Fh(ju(T[i],T[v]),Wh),{nt:F.nt+b.nt,st:F.st+b.st}),ju(T[i],Fh(ju(T[O],T[t]),Wh))]}function N1(T,t,i,v,O){const{context:F,horizontalPixelRatio:b,verticalPixelRatio:c}=t;F.lineTo(O.nt*b,T*c),F.lineTo(v.nt*b,T*c),F.closePath(),F.fillStyle=i,F.fill()}class Kc extends ao{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){var i;if(this.G===null)return;const{it:v,tt:O,cs:F,et:b,Nt:c,ds:e}=this.G,n=(i=this.G.fs)!==null&&i!==void 0?i:this.G.vs?0:t.mediaSize.height;if(O===null)return;const o=t.context;o.lineCap="butt",o.lineJoin="round",o.lineWidth=b,Zo(o,c),o.lineWidth=1,Vc(t,v,e,O,F,this.ps.bind(this),N1.bind(null,n))}}function pl(T,t,i){return Math.min(Math.max(T,t),i)}function La(T,t,i){return t-T<=i}function Hc(T){const t=Math.ceil(T);return t%2==0?t-1:t}class Tl{bs(t,i){const v=this.ws,{gs:O,Ms:F,xs:b,Ss:c,ks:e,fs:n}=i;if(this.ys===void 0||v===void 0||v.gs!==O||v.Ms!==F||v.xs!==b||v.Ss!==c||v.fs!==n||v.ks!==e){const o=t.context.createLinearGradient(0,0,0,e);if(o.addColorStop(0,O),n!=null){const f=pl(n*t.verticalPixelRatio/e,0,1);o.addColorStop(f,F),o.addColorStop(f,b)}o.addColorStop(1,c),this.ys=o,this.ws=i}return this.ys}}class A1 extends Kc{constructor(){super(...arguments),this.Cs=new Tl}ps(t,i){return this.Cs.bs(t,{gs:i.Ts,Ms:"",xs:"",Ss:i.Ps,ks:t.bitmapSize.height})}}function I1(T,t){const i=T.context;i.strokeStyle=t,i.stroke()}class Yc extends ao{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){if(this.G===null)return;const{it:i,tt:v,cs:O,ds:F,et:b,Nt:c,Rs:e}=this.G;if(v===null)return;const n=t.context;n.lineCap="butt",n.lineWidth=b*t.verticalPixelRatio,Zo(n,c),n.lineJoin="round";const o=this.Ds.bind(this);F!==void 0&&Vc(t,i,F,v,O,o,I1),e&&function(f,s,a,u,h){const{horizontalPixelRatio:p,verticalPixelRatio:y,context:w}=f;let d=null;const M=Math.max(1,Math.floor(p))%2/2,D=a*y+M;for(let B=u.to-1;B>=u.from;--B){const Y=s[B];if(Y){const N=h(f,Y);N!==d&&(w.beginPath(),d!==null&&w.fill(),w.fillStyle=N,d=N);const A=Math.round(Y.nt*p)+M,k=Y.st*y;w.moveTo(A,k),w.arc(A,k,D,0,2*Math.PI)}}w.fill()}(t,i,e,v,o)}}class Xc extends Yc{Ds(t,i){return i.lt}}function jc(T,t,i,v,O=0,F=t.length){let b=F-O;for(;0<b;){const c=b>>1,e=O+c;v(t[e],i)===T?(O=e+1,b-=c+1):b=c}return O}const Xs=jc.bind(null,!0),Qc=jc.bind(null,!1);function R1(T,t){return T.ot<t}function B1(T,t){return t<T.ot}function Zc(T,t,i){const v=t.Vs(),O=t.ui(),F=Xs(T,v,R1),b=Qc(T,O,B1);if(!i)return{from:F,to:b};let c=F,e=b;return F>0&&F<T.length&&T[F].ot>=v&&(c=F-1),b>0&&b<T.length&&T[b-1].ot<=O&&(e=b+1),{from:c,to:e}}class Cl{constructor(t,i,v){this.Os=!0,this.Bs=!0,this.As=!0,this.Is=[],this.zs=null,this.Ls=t,this.Es=i,this.Ns=v}bt(t){this.Os=!0,t==="data"&&(this.Bs=!0),t==="options"&&(this.As=!0)}gt(){return this.Ls.yt()?(this.Fs(),this.zs===null?null:this.Ws):null}js(){this.Is=this.Is.map(t=>Object.assign(Object.assign({},t),this.Ls.$s().Hs(t.ot)))}Us(){this.zs=null}Fs(){this.Bs&&(this.qs(),this.Bs=!1),this.As&&(this.js(),this.As=!1),this.Os&&(this.Ys(),this.Os=!1)}Ys(){const t=this.Ls.Dt(),i=this.Es.St();if(this.Us(),i.Ni()||t.Ni())return;const v=i.Zs();if(v===null||this.Ls.In().Xs()===0)return;const O=this.Ls.Ct();O!==null&&(this.zs=Zc(this.Is,v,this.Ns),this.Ks(t,i,O.Vt),this.Gs())}}class Ja extends Cl{constructor(t,i){super(t,i,!0)}Ks(t,i,v){i.Js(this.Is,Vs(this.zs)),t.Qs(this.Is,v,Vs(this.zs))}te(t,i){return{ot:t,_t:i,nt:NaN,st:NaN}}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map(i=>{const v=i.Vt[3];return this.ne(i.se,v,t)})}}class k1 extends Ja{constructor(t,i){super(t,i),this.Ws=new Ol,this.ee=new A1,this.re=new Xc,this.Ws.Z([this.ee,this.re])}ne(t,i,v){return Object.assign(Object.assign({},this.te(t,i)),v.Hs(t))}Gs(){const t=this.Ls.W();this.ee.J({ds:t.lineType,it:this.Is,Nt:t.lineStyle,et:t.lineWidth,fs:null,vs:t.invertFilledArea,tt:this.zs,cs:this.Es.St().he()}),this.re.J({ds:t.lineVisible?t.lineType:void 0,it:this.Is,Nt:t.lineStyle,et:t.lineWidth,tt:this.zs,cs:this.Es.St().he(),Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class z1 extends ao{constructor(){super(...arguments),this.zt=null,this.le=0,this.ae=0}J(t){this.zt=t}K({context:t,horizontalPixelRatio:i,verticalPixelRatio:v}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.le=this.oe(i),this.le>=2&&Math.max(1,Math.floor(i))%2!=this.le%2&&this.le--,this.ae=this.zt._e?Math.min(this.le,Math.floor(i)):this.le;let O=null;const F=this.ae<=this.le&&this.zt.he>=Math.floor(1.5*i);for(let b=this.zt.tt.from;b<this.zt.tt.to;++b){const c=this.zt.In[b];O!==c.ue&&(t.fillStyle=c.ue,O=c.ue);const e=Math.floor(.5*this.ae),n=Math.round(c.nt*i),o=n-e,f=this.ae,s=o+f-1,a=Math.min(c.ce,c.de),u=Math.max(c.ce,c.de),h=Math.round(a*v)-e,p=Math.round(u*v)+e,y=Math.max(p-h,this.ae);t.fillRect(o,h,f,y);const w=Math.ceil(1.5*this.le);if(F){if(this.zt.fe){const B=n-w;let Y=Math.max(h,Math.round(c.ve*v)-e),N=Y+f-1;N>h+y-1&&(N=h+y-1,Y=N-f+1),t.fillRect(B,Y,o-B,N-Y+1)}const d=n+w;let M=Math.max(h,Math.round(c.pe*v)-e),D=M+f-1;D>h+y-1&&(D=h+y-1,M=D-f+1),t.fillRect(s+1,M,d-s,D-M+1)}}}oe(t){const i=Math.floor(t);return Math.max(i,Math.floor(function(v,O){return Math.floor(.3*v*O)}(Ge(this.zt).he,t)))}}class Jc extends Cl{constructor(t,i){super(t,i,!1)}Ks(t,i,v){i.Js(this.Is,Vs(this.zs)),t.me(this.Is,v,Vs(this.zs))}be(t,i,v){return{ot:t,we:i.Vt[0],ge:i.Vt[1],Me:i.Vt[2],xe:i.Vt[3],nt:NaN,ve:NaN,ce:NaN,de:NaN,pe:NaN}}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map(i=>this.ne(i.se,i,t))}}class W1 extends Jc{constructor(){super(...arguments),this.Ws=new z1}ne(t,i,v){return Object.assign(Object.assign({},this.be(t,i,v)),v.Hs(t))}Gs(){const t=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),fe:t.openVisible,_e:t.thinBars,tt:this.zs})}}class F1 extends Kc{constructor(){super(...arguments),this.Cs=new Tl}ps(t,i){const v=this.G;return this.Cs.bs(t,{gs:i.Se,Ms:i.ke,xs:i.ye,Ss:i.Ce,ks:t.bitmapSize.height,fs:v.fs})}}class U1 extends Yc{constructor(){super(...arguments),this.Te=new Tl}Ds(t,i){const v=this.G;return this.Te.bs(t,{gs:i.Pe,Ms:i.Pe,xs:i.Re,Ss:i.Re,ks:t.bitmapSize.height,fs:v.fs})}}class $1 extends Ja{constructor(t,i){super(t,i),this.Ws=new Ol,this.De=new F1,this.Ve=new U1,this.Ws.Z([this.De,this.Ve])}ne(t,i,v){return Object.assign(Object.assign({},this.te(t,i)),v.Hs(t))}Gs(){const t=this.Ls.Ct();if(t===null)return;const i=this.Ls.W(),v=this.Ls.Dt().Rt(i.baseValue.price,t.Vt),O=this.Es.St().he();this.De.J({it:this.Is,et:i.lineWidth,Nt:i.lineStyle,ds:i.lineType,fs:v,vs:!1,tt:this.zs,cs:O}),this.Ve.J({it:this.Is,et:i.lineWidth,Nt:i.lineStyle,ds:i.lineVisible?i.lineType:void 0,Rs:i.pointMarkersVisible?i.pointMarkersRadius||i.lineWidth/2+2:void 0,fs:v,tt:this.zs,cs:O})}}class G1 extends ao{constructor(){super(...arguments),this.zt=null,this.le=0}J(t){this.zt=t}K(t){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:i}=t;this.le=function(F,b){if(F>=2.5&&F<=4)return Math.floor(3*b);const c=1-.2*Math.atan(Math.max(4,F)-4)/(.5*Math.PI),e=Math.floor(F*c*b),n=Math.floor(F*b),o=Math.min(e,n);return Math.max(Math.floor(b),o)}(this.zt.he,i),this.le>=2&&Math.floor(i)%2!=this.le%2&&this.le--;const v=this.zt.In;this.zt.Oe&&this.Be(t,v,this.zt.tt),this.zt._i&&this.Ae(t,v,this.zt.tt);const O=this.Ie(i);(!this.zt._i||this.le>2*O)&&this.ze(t,v,this.zt.tt)}Be(t,i,v){if(this.zt===null)return;const{context:O,horizontalPixelRatio:F,verticalPixelRatio:b}=t;let c="",e=Math.min(Math.floor(F),Math.floor(this.zt.he*F));e=Math.max(Math.floor(F),Math.min(e,this.le));const n=Math.floor(.5*e);let o=null;for(let f=v.from;f<v.to;f++){const s=i[f];s.Le!==c&&(O.fillStyle=s.Le,c=s.Le);const a=Math.round(Math.min(s.ve,s.pe)*b),u=Math.round(Math.max(s.ve,s.pe)*b),h=Math.round(s.ce*b),p=Math.round(s.de*b);let y=Math.round(F*s.nt)-n;const w=y+e-1;o!==null&&(y=Math.max(o+1,y),y=Math.min(y,w));const d=w-y+1;O.fillRect(y,h,d,a-h),O.fillRect(y,u+1,d,p-u),o=w}}Ie(t){let i=Math.floor(1*t);this.le<=2*i&&(i=Math.floor(.5*(this.le-1)));const v=Math.max(Math.floor(t),i);return this.le<=2*v?Math.max(Math.floor(t),Math.floor(1*t)):v}Ae(t,i,v){if(this.zt===null)return;const{context:O,horizontalPixelRatio:F,verticalPixelRatio:b}=t;let c="";const e=this.Ie(F);let n=null;for(let o=v.from;o<v.to;o++){const f=i[o];f.Ee!==c&&(O.fillStyle=f.Ee,c=f.Ee);let s=Math.round(f.nt*F)-Math.floor(.5*this.le);const a=s+this.le-1,u=Math.round(Math.min(f.ve,f.pe)*b),h=Math.round(Math.max(f.ve,f.pe)*b);if(n!==null&&(s=Math.max(n+1,s),s=Math.min(s,a)),this.zt.he*F>2*e)O1(O,s,u,a-s+1,h-u+1,e);else{const p=a-s+1;O.fillRect(s,u,p,h-u+1)}n=a}}ze(t,i,v){if(this.zt===null)return;const{context:O,horizontalPixelRatio:F,verticalPixelRatio:b}=t;let c="";const e=this.Ie(F);for(let n=v.from;n<v.to;n++){const o=i[n];let f=Math.round(Math.min(o.ve,o.pe)*b),s=Math.round(Math.max(o.ve,o.pe)*b),a=Math.round(o.nt*F)-Math.floor(.5*this.le),u=a+this.le-1;if(o.ue!==c){const h=o.ue;O.fillStyle=h,c=h}this.zt._i&&(a+=e,f+=e,u-=e,s-=e),f>s||O.fillRect(a,f,u-a+1,s-f+1)}}}class V1 extends Jc{constructor(){super(...arguments),this.Ws=new G1}ne(t,i,v){return Object.assign(Object.assign({},this.be(t,i,v)),v.Hs(t))}Gs(){const t=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),Oe:t.wickVisible,_i:t.borderVisible,tt:this.zs})}}class K1{constructor(t,i){this.Ne=t,this.Li=i}X(t,i,v){this.Ne.draw(t,this.Li,i,v)}}class Qu extends Cl{constructor(t,i,v){super(t,i,!1),this.wn=v,this.Ws=new K1(this.wn.renderer(),O=>{const F=t.Ct();return F===null?null:t.Dt().Rt(O,F.Vt)})}Fe(t){return this.wn.priceValueBuilder(t)}We(t){return this.wn.isWhitespace(t)}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map(i=>Object.assign(Object.assign({ot:i.se,nt:NaN},t.Hs(i.se)),{je:i.He}))}Ks(t,i){i.Js(this.Is,Vs(this.zs))}Gs(){this.wn.update({bars:this.Is.map(H1),barSpacing:this.Es.St().he(),visibleRange:this.zs},this.Ls.W())}}function H1(T){return{x:T.nt,time:T.ot,originalData:T.je,barColor:T.ue}}class Y1 extends ao{constructor(){super(...arguments),this.zt=null,this.$e=[]}J(t){this.zt=t,this.$e=[]}K({context:t,horizontalPixelRatio:i,verticalPixelRatio:v}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.$e.length||this.Ue(i);const O=Math.max(1,Math.floor(v)),F=Math.round(this.zt.qe*v)-Math.floor(O/2),b=F+O;for(let c=this.zt.tt.from;c<this.zt.tt.to;c++){const e=this.zt.it[c],n=this.$e[c-this.zt.tt.from],o=Math.round(e.st*v);let f,s;t.fillStyle=e.ue,o<=F?(f=o,s=b):(f=F,s=o-Math.floor(O/2)+O),t.fillRect(n.Vs,f,n.ui-n.Vs+1,s-f)}}Ue(t){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.$e=[]);const i=Math.ceil(this.zt.he*t)<=1?0:Math.max(1,Math.floor(t)),v=Math.round(this.zt.he*t)-i;this.$e=new Array(this.zt.tt.to-this.zt.tt.from);for(let F=this.zt.tt.from;F<this.zt.tt.to;F++){const b=this.zt.it[F],c=Math.round(b.nt*t);let e,n;if(v%2){const o=(v-1)/2;e=c-o,n=c+o}else{const o=v/2;e=c-o,n=c+o-1}this.$e[F-this.zt.tt.from]={Vs:e,ui:n,Ye:c,Ze:b.nt*t,ot:b.ot}}for(let F=this.zt.tt.from+1;F<this.zt.tt.to;F++){const b=this.$e[F-this.zt.tt.from],c=this.$e[F-this.zt.tt.from-1];b.ot===c.ot+1&&b.Vs-c.ui!==i+1&&(c.Ye>c.Ze?c.ui=b.Vs-i-1:b.Vs=c.ui+i+1)}let O=Math.ceil(this.zt.he*t);for(let F=this.zt.tt.from;F<this.zt.tt.to;F++){const b=this.$e[F-this.zt.tt.from];b.ui<b.Vs&&(b.ui=b.Vs);const c=b.ui-b.Vs+1;O=Math.min(c,O)}if(i>0&&O<4)for(let F=this.zt.tt.from;F<this.zt.tt.to;F++){const b=this.$e[F-this.zt.tt.from];b.ui-b.Vs+1>O&&(b.Ye>b.Ze?b.ui-=1:b.Vs+=1)}}}class X1 extends Ja{constructor(){super(...arguments),this.Ws=new Y1}ne(t,i,v){return Object.assign(Object.assign({},this.te(t,i)),v.Hs(t))}Gs(){const t={it:this.Is,he:this.Es.St().he(),tt:this.zs,qe:this.Ls.Dt().Rt(this.Ls.W().base,Ge(this.Ls.Ct()).Vt)};this.Ws.J(t)}}class j1 extends Ja{constructor(){super(...arguments),this.Ws=new Xc}ne(t,i,v){return Object.assign(Object.assign({},this.te(t,i)),v.Hs(t))}Gs(){const t=this.Ls.W(),i={it:this.Is,Nt:t.lineStyle,ds:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.zs,cs:this.Es.St().he()};this.Ws.J(i)}}const Q1=/[2-9]/g;class Ks{constructor(t=50){this.Xe=0,this.Ke=1,this.Ge=1,this.Je={},this.Qe=new Map,this.tr=t}ir(){this.Xe=0,this.Qe.clear(),this.Ke=1,this.Ge=1,this.Je={}}xi(t,i,v){return this.nr(t,i,v).width}Mi(t,i,v){const O=this.nr(t,i,v);return((O.actualBoundingBoxAscent||0)-(O.actualBoundingBoxDescent||0))/2}nr(t,i,v){const O=v||Q1,F=String(i).replace(O,"0");if(this.Qe.has(F))return Oi(this.Qe.get(F)).sr;if(this.Xe===this.tr){const c=this.Je[this.Ge];delete this.Je[this.Ge],this.Qe.delete(c),this.Ge++,this.Xe--}t.save(),t.textBaseline="middle";const b=t.measureText(F);return t.restore(),b.width===0&&i.length||(this.Qe.set(F,{sr:b,er:this.Ke}),this.Je[this.Ke]=F,this.Xe++,this.Ke++),b}}class Z1{constructor(t){this.rr=null,this.k=null,this.hr="right",this.lr=t}ar(t,i,v){this.rr=t,this.k=i,this.hr=v}X(t){this.k!==null&&this.rr!==null&&this.rr.X(t,this.k,this.lr,this.hr)}}class qc{constructor(t,i,v){this._r=t,this.lr=new Ks(50),this.ur=i,this.F=v,this.j=-1,this.Wt=new Z1(this.lr)}gt(){const t=this.F.cr(this.ur);if(t===null)return null;const i=t.dr(this.ur)?t.vr():this.ur.Dt();if(i===null)return null;const v=t.pr(i);if(v==="overlay")return null;const O=this.F.mr();return O.P!==this.j&&(this.j=O.P,this.lr.ir()),this.Wt.ar(this._r.Ii(),O,v),this.Wt}}class J1 extends ao{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}br(t,i){var v;if(!(!((v=this.zt)===null||v===void 0)&&v.yt))return null;const{st:O,et:F,wr:b}=this.zt;return i>=O-F-7&&i<=O+F+7?{gr:this.zt,wr:b}:null}K({context:t,bitmapSize:i,horizontalPixelRatio:v,verticalPixelRatio:O}){if(this.zt===null||this.zt.yt===!1)return;const F=Math.round(this.zt.st*O);F<0||F>i.height||(t.lineCap="butt",t.strokeStyle=this.zt.V,t.lineWidth=Math.floor(this.zt.et*v),Zo(t,this.zt.Nt),zc(t,F,0,i.width))}}class Pl{constructor(t){this.Mr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.Sr=new J1,this.ft=!0,this.Ls=t,this.Es=t.$t(),this.Sr.J(this.Mr)}bt(){this.ft=!0}gt(){return this.Ls.yt()?(this.ft&&(this.kr(),this.ft=!1),this.Sr):null}}class q1 extends Pl{constructor(t){super(t)}kr(){this.Mr.yt=!1;const t=this.Ls.Dt(),i=t.yr().yr;if(i!==2&&i!==3)return;const v=this.Ls.W();if(!v.baseLineVisible||!this.Ls.yt())return;const O=this.Ls.Ct();O!==null&&(this.Mr.yt=!0,this.Mr.st=t.Rt(O.Vt,O.Vt),this.Mr.V=v.baseLineColor,this.Mr.et=v.baseLineWidth,this.Mr.Nt=v.baseLineStyle)}}class tb extends ao{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}He(){return this.zt}K({context:t,horizontalPixelRatio:i,verticalPixelRatio:v}){const O=this.zt;if(O===null)return;const F=Math.max(1,Math.floor(i)),b=F%2/2,c=Math.round(O.Ze.x*i)+b,e=O.Ze.y*v;t.fillStyle=O.Cr,t.beginPath();const n=Math.max(2,1.5*O.Tr)*i;t.arc(c,e,n,0,2*Math.PI,!1),t.fill(),t.fillStyle=O.Pr,t.beginPath(),t.arc(c,e,O.ht*i,0,2*Math.PI,!1),t.fill(),t.lineWidth=F,t.strokeStyle=O.Rr,t.beginPath(),t.arc(c,e,O.ht*i+F/2,0,2*Math.PI,!1),t.stroke()}}const eb=[{Dr:0,Vr:.25,Or:4,Br:10,Ar:.25,Ir:0,zr:.4,Lr:.8},{Dr:.25,Vr:.525,Or:10,Br:14,Ar:0,Ir:0,zr:.8,Lr:0},{Dr:.525,Vr:1,Or:14,Br:14,Ar:0,Ir:0,zr:0,Lr:0}];function Uh(T,t,i,v){return function(O,F){if(O==="transparent")return O;const b=$s(O),c=b[3];return`rgba(${b[0]}, ${b[1]}, ${b[2]}, ${F*c})`}(T,i+(v-i)*t)}function $h(T,t){const i=T%2600/2600;let v;for(const e of eb)if(i>=e.Dr&&i<=e.Vr){v=e;break}zo(v!==void 0,"Last price animation internal logic error");const O=(i-v.Dr)/(v.Vr-v.Dr);return{Pr:Uh(t,O,v.Ar,v.Ir),Rr:Uh(t,O,v.zr,v.Lr),ht:(F=O,b=v.Or,c=v.Br,b+(c-b)*F)};var F,b,c}class nb{constructor(t){this.Wt=new tb,this.ft=!0,this.Er=!0,this.Nr=performance.now(),this.Fr=this.Nr-1,this.Wr=t}jr(){this.Fr=this.Nr-1,this.bt()}Hr(){if(this.bt(),this.Wr.W().lastPriceAnimation===2){const t=performance.now(),i=this.Fr-t;if(i>0)return void(i<650&&(this.Fr+=2600));this.Nr=t,this.Fr=t+2600}}bt(){this.ft=!0}$r(){this.Er=!0}yt(){return this.Wr.W().lastPriceAnimation!==0}Ur(){switch(this.Wr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Fr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Er=!1):this.Er&&(this.qr(),this.Er=!1),this.Wt}Mt(){this.Wt.J(null);const t=this.Wr.$t().St(),i=t.Zs(),v=this.Wr.Ct();if(i===null||v===null)return;const O=this.Wr.Yr(!0);if(O.Zr||!i.Xr(O.se))return;const F={x:t.It(O.se),y:this.Wr.Dt().Rt(O._t,v.Vt)},b=O.V,c=this.Wr.W().lineWidth,e=$h(this.Kr(),b);this.Wt.J({Cr:b,Tr:c,Pr:e.Pr,Rr:e.Rr,ht:e.ht,Ze:F})}qr(){const t=this.Wt.He();if(t!==null){const i=$h(this.Kr(),t.Cr);t.Pr=i.Pr,t.Rr=i.Rr,t.ht=i.ht}}Kr(){return this.Ur()?performance.now()-this.Nr:2599}}function Bs(T,t){return Hc(Math.min(Math.max(T,12),30)*t)}function Hs(T,t){switch(T){case"arrowDown":case"arrowUp":return Bs(t,1);case"circle":return Bs(t,.8);case"square":return Bs(t,.7)}}function td(T){return function(t){const i=Math.ceil(t);return i%2!=0?i-1:i}(Bs(T,1))}function Gh(T){return Math.max(Bs(T,.1),3)}function Vh(T,t,i){return t?T:i?Math.ceil(T/2):0}function ed(T,t,i,v,O){const F=Hs("square",i),b=(F-1)/2,c=T-b,e=t-b;return v>=c&&v<=c+F&&O>=e&&O<=e+F}function Kh(T,t,i,v){const O=(Hs("arrowUp",v)-1)/2*i.Gr,F=(Hc(v/2)-1)/2*i.Gr;t.beginPath(),T?(t.moveTo(i.nt-O,i.st),t.lineTo(i.nt,i.st-O),t.lineTo(i.nt+O,i.st),t.lineTo(i.nt+F,i.st),t.lineTo(i.nt+F,i.st+O),t.lineTo(i.nt-F,i.st+O),t.lineTo(i.nt-F,i.st)):(t.moveTo(i.nt-O,i.st),t.lineTo(i.nt,i.st+O),t.lineTo(i.nt+O,i.st),t.lineTo(i.nt+F,i.st),t.lineTo(i.nt+F,i.st-O),t.lineTo(i.nt-F,i.st-O),t.lineTo(i.nt-F,i.st)),t.fill()}function rb(T,t,i,v,O,F){return ed(t,i,v,O,F)}class ib extends ao{constructor(){super(...arguments),this.zt=null,this.lr=new Ks,this.j=-1,this.H="",this.Jr=""}J(t){this.zt=t}ar(t,i){this.j===t&&this.H===i||(this.j=t,this.H=i,this.Jr=vs(t,i),this.lr.ir())}br(t,i){if(this.zt===null||this.zt.tt===null)return null;for(let v=this.zt.tt.from;v<this.zt.tt.to;v++){const O=this.zt.it[v];if(sb(O,t,i))return{gr:O.Qr,wr:O.wr}}return null}K({context:t,horizontalPixelRatio:i,verticalPixelRatio:v},O,F){if(this.zt!==null&&this.zt.tt!==null){t.textBaseline="middle",t.font=this.Jr;for(let b=this.zt.tt.from;b<this.zt.tt.to;b++){const c=this.zt.it[b];c.Kt!==void 0&&(c.Kt.Hi=this.lr.xi(t,c.Kt.th),c.Kt.At=this.j,c.Kt.nt=c.nt-c.Kt.Hi/2),ob(c,t,i,v)}}}}function ob(T,t,i,v){t.fillStyle=T.V,T.Kt!==void 0&&function(O,F,b,c,e,n){O.save(),O.scale(e,n),O.fillText(F,b,c),O.restore()}(t,T.Kt.th,T.Kt.nt,T.Kt.st,i,v),function(O,F,b){if(O.Xs!==0){switch(O.ih){case"arrowDown":return void Kh(!1,F,b,O.Xs);case"arrowUp":return void Kh(!0,F,b,O.Xs);case"circle":return void function(c,e,n){const o=(Hs("circle",n)-1)/2;c.beginPath(),c.arc(e.nt,e.st,o*e.Gr,0,2*Math.PI,!1),c.fill()}(F,b,O.Xs);case"square":return void function(c,e,n){const o=Hs("square",n),f=(o-1)*e.Gr/2,s=e.nt-f,a=e.st-f;c.fillRect(s,a,o*e.Gr,o*e.Gr)}(F,b,O.Xs)}O.ih}}(T,t,function(O,F,b){const c=Math.max(1,Math.floor(F))%2/2;return{nt:Math.round(O.nt*F)+c,st:O.st*b,Gr:F}}(T,i,v))}function sb(T,t,i){return!(T.Kt===void 0||!function(v,O,F,b,c,e){const n=b/2;return c>=v&&c<=v+F&&e>=O-n&&e<=O+n}(T.Kt.nt,T.Kt.st,T.Kt.Hi,T.Kt.At,t,i))||function(v,O,F){if(v.Xs===0)return!1;switch(v.ih){case"arrowDown":case"arrowUp":return rb(0,v.nt,v.st,v.Xs,O,F);case"circle":return function(b,c,e,n,o){const f=2+Hs("circle",e)/2,s=b-n,a=c-o;return Math.sqrt(s*s+a*a)<=f}(v.nt,v.st,v.Xs,O,F);case"square":return ed(v.nt,v.st,v.Xs,O,F)}}(T,t,i)}function ab(T,t,i,v,O,F,b,c,e){const n=po(i)?i:i.xe,o=po(i)?i:i.ge,f=po(i)?i:i.Me,s=po(t.size)?Math.max(t.size,0):1,a=td(c.he())*s,u=a/2;switch(T.Xs=a,t.position){case"inBar":return T.st=b.Rt(n,e),void(T.Kt!==void 0&&(T.Kt.st=T.st+u+F+.6*O));case"aboveBar":return T.st=b.Rt(o,e)-u-v.nh,T.Kt!==void 0&&(T.Kt.st=T.st-u-.6*O,v.nh+=1.2*O),void(v.nh+=a+F);case"belowBar":return T.st=b.Rt(f,e)+u+v.sh,T.Kt!==void 0&&(T.Kt.st=T.st+u+F+.6*O,v.sh+=1.2*O),void(v.sh+=a+F)}t.position}class ub{constructor(t,i){this.ft=!0,this.eh=!0,this.rh=!0,this.hh=null,this.ah=null,this.Wt=new ib,this.Wr=t,this.$i=i,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.rh=!0,t==="data"&&(this.eh=!0,this.ah=null)}gt(t){if(!this.Wr.yt())return null;this.ft&&this.oh();const i=this.$i.W().layout;return this.Wt.ar(i.fontSize,i.fontFamily),this.Wt.J(this.zt),this.Wt}_h(){if(this.rh){if(this.Wr.uh().length>0){const t=this.$i.St().he(),i=Gh(t),v=1.5*td(t)+2*i,O=this.dh();this.hh={above:Vh(v,O.aboveBar,O.inBar),below:Vh(v,O.belowBar,O.inBar)}}else this.hh=null;this.rh=!1}return this.hh}dh(){return this.ah===null&&(this.ah=this.Wr.uh().reduce((t,i)=>(t[i.position]||(t[i.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1})),this.ah}oh(){const t=this.Wr.Dt(),i=this.$i.St(),v=this.Wr.uh();this.eh&&(this.zt.it=v.map(o=>({ot:o.time,nt:0,st:0,Xs:0,ih:o.shape,V:o.color,Qr:o.Qr,wr:o.id,Kt:void 0})),this.eh=!1);const O=this.$i.W().layout;this.zt.tt=null;const F=i.Zs();if(F===null)return;const b=this.Wr.Ct();if(b===null||this.zt.it.length===0)return;let c=NaN;const e=Gh(i.he()),n={nh:e,sh:e};this.zt.tt=Zc(this.zt.it,F,!0);for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const f=v[o];f.time!==c&&(n.nh=e,n.sh=e,c=f.time);const s=this.zt.it[o];s.nt=i.It(f.time),f.text!==void 0&&f.text.length>0&&(s.Kt={th:f.text,nt:0,st:0,Hi:0,At:0});const a=this.Wr.fh(f.time);a!==null&&ab(s,f,a,n,O.fontSize,e,t,i,b.Vt)}this.ft=!1}}class lb extends Pl{constructor(t){super(t)}kr(){const t=this.Mr;t.yt=!1;const i=this.Ls.W();if(!i.priceLineVisible||!this.Ls.yt())return;const v=this.Ls.Yr(i.priceLineSource===0);v.Zr||(t.yt=!0,t.st=v.ki,t.V=this.Ls.ph(v.V),t.et=i.priceLineWidth,t.Nt=i.priceLineStyle)}}class fb extends ja{constructor(t){super(),this.jt=t}zi(t,i,v){t.yt=!1,i.yt=!1;const O=this.jt;if(!O.yt())return;const F=O.W(),b=F.lastValueVisible,c=O.mh()!=="",e=F.seriesLastValueMode===0,n=O.Yr(!1);if(n.Zr)return;b&&(t.Kt=this.bh(n,b,e),t.yt=t.Kt.length!==0),(c||e)&&(i.Kt=this.wh(n,b,c,e),i.yt=i.Kt.length>0);const o=O.ph(n.V),f=Ya(o);v.t=f.t,v.ki=n.ki,i.Ot=O.$t().Bt(n.ki/O.Dt().At()),t.Ot=o,t.V=f.i,i.V=f.i}wh(t,i,v,O){let F="";const b=this.jt.mh();return v&&b.length!==0&&(F+=`${b} `),i&&O&&(F+=this.jt.Dt().gh()?t.Mh:t.xh),F.trim()}bh(t,i,v){return i?v?this.jt.Dt().gh()?t.xh:t.Mh:t.Kt:""}}function Hh(T,t,i,v){const O=Number.isFinite(t),F=Number.isFinite(i);return O&&F?T(t,i):O||F?O?t:i:v}class Ai{constructor(t,i){this.Sh=t,this.kh=i}yh(t){return t!==null&&this.Sh===t.Sh&&this.kh===t.kh}Ch(){return new Ai(this.Sh,this.kh)}Th(){return this.Sh}Ph(){return this.kh}Rh(){return this.kh-this.Sh}Ni(){return this.kh===this.Sh||Number.isNaN(this.kh)||Number.isNaN(this.Sh)}ts(t){return t===null?this:new Ai(Hh(Math.min,this.Th(),t.Th(),-1/0),Hh(Math.max,this.Ph(),t.Ph(),1/0))}Dh(t){if(!po(t)||this.kh-this.Sh===0)return;const i=.5*(this.kh+this.Sh);let v=this.kh-i,O=this.Sh-i;v*=t,O*=t,this.kh=i+v,this.Sh=i+O}Vh(t){po(t)&&(this.kh+=t,this.Sh+=t)}Oh(){return{minValue:this.Sh,maxValue:this.kh}}static Bh(t){return t===null?null:new Ai(t.minValue,t.maxValue)}}class $a{constructor(t,i){this.Ah=t,this.Ih=i||null}zh(){return this.Ah}Lh(){return this.Ih}Oh(){return this.Ah===null?null:{priceRange:this.Ah.Oh(),margins:this.Ih||void 0}}static Bh(t){return t===null?null:new $a(Ai.Bh(t.priceRange),t.margins)}}class hb extends Pl{constructor(t,i){super(t),this.Eh=i}kr(){const t=this.Mr;t.yt=!1;const i=this.Eh.W();if(!this.Ls.yt()||!i.lineVisible)return;const v=this.Eh.Nh();v!==null&&(t.yt=!0,t.st=v,t.V=i.color,t.et=i.lineWidth,t.Nt=i.lineStyle,t.wr=this.Eh.W().id)}}class cb extends ja{constructor(t,i){super(),this.Wr=t,this.Eh=i}zi(t,i,v){t.yt=!1,i.yt=!1;const O=this.Eh.W(),F=O.axisLabelVisible,b=O.title!=="",c=this.Wr;if(!F||!c.yt())return;const e=this.Eh.Nh();if(e===null)return;b&&(i.Kt=O.title,i.yt=!0),i.Ot=c.$t().Bt(e/c.Dt().At()),t.Kt=this.Fh(O.price),t.yt=!0;const n=Ya(O.axisLabelColor||O.color);v.t=n.t;const o=O.axisLabelTextColor||n.i;t.V=o,i.V=o,v.ki=e}Fh(t){const i=this.Wr.Ct();return i===null?"":this.Wr.Dt().Fi(t,i.Vt)}}class db{constructor(t,i){this.Wr=t,this.cn=i,this.Wh=new hb(t,this),this._r=new cb(t,this),this.jh=new qc(this._r,t,t.$t())}Hh(t){so(this.cn,t),this.bt(),this.Wr.$t().$h()}W(){return this.cn}Uh(){return this.Wh}qh(){return this.jh}Yh(){return this._r}bt(){this.Wh.bt(),this._r.bt()}Nh(){const t=this.Wr,i=t.Dt();if(t.$t().St().Ni()||i.Ni())return null;const v=t.Ct();return v===null?null:i.Rt(this.cn.price,v.Vt)}}class vb extends Sl{constructor(t){super(),this.$i=t}$t(){return this.$i}}const pb={Bar:(T,t,i,v)=>{var O;const F=t.upColor,b=t.downColor,c=Ge(T(i,v)),e=hs(c.Vt[0])<=hs(c.Vt[3]);return{ue:(O=c.V)!==null&&O!==void 0?O:e?F:b}},Candlestick:(T,t,i,v)=>{var O,F,b;const c=t.upColor,e=t.downColor,n=t.borderUpColor,o=t.borderDownColor,f=t.wickUpColor,s=t.wickDownColor,a=Ge(T(i,v)),u=hs(a.Vt[0])<=hs(a.Vt[3]);return{ue:(O=a.V)!==null&&O!==void 0?O:u?c:e,Ee:(F=a.Ot)!==null&&F!==void 0?F:u?n:o,Le:(b=a.Zh)!==null&&b!==void 0?b:u?f:s}},Custom:(T,t,i,v)=>{var O;return{ue:(O=Ge(T(i,v)).V)!==null&&O!==void 0?O:t.color}},Area:(T,t,i,v)=>{var O,F,b,c;const e=Ge(T(i,v));return{ue:(O=e.lt)!==null&&O!==void 0?O:t.lineColor,lt:(F=e.lt)!==null&&F!==void 0?F:t.lineColor,Ts:(b=e.Ts)!==null&&b!==void 0?b:t.topColor,Ps:(c=e.Ps)!==null&&c!==void 0?c:t.bottomColor}},Baseline:(T,t,i,v)=>{var O,F,b,c,e,n;const o=Ge(T(i,v));return{ue:o.Vt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,Pe:(O=o.Pe)!==null&&O!==void 0?O:t.topLineColor,Re:(F=o.Re)!==null&&F!==void 0?F:t.bottomLineColor,Se:(b=o.Se)!==null&&b!==void 0?b:t.topFillColor1,ke:(c=o.ke)!==null&&c!==void 0?c:t.topFillColor2,ye:(e=o.ye)!==null&&e!==void 0?e:t.bottomFillColor1,Ce:(n=o.Ce)!==null&&n!==void 0?n:t.bottomFillColor2}},Line:(T,t,i,v)=>{var O,F;const b=Ge(T(i,v));return{ue:(O=b.V)!==null&&O!==void 0?O:t.color,lt:(F=b.V)!==null&&F!==void 0?F:t.color}},Histogram:(T,t,i,v)=>{var O;return{ue:(O=Ge(T(i,v)).V)!==null&&O!==void 0?O:t.color}}};class gb{constructor(t){this.Xh=(i,v)=>v!==void 0?v.Vt:this.Wr.In().Kh(i),this.Wr=t,this.Gh=pb[t.Jh()]}Hs(t,i){return this.Gh(this.Xh,this.Wr.W(),t,i)}}var Yh;(function(T){T[T.NearestLeft=-1]="NearestLeft",T[T.None=0]="None",T[T.NearestRight=1]="NearestRight"})(Yh||(Yh={}));const ko=30;class mb{constructor(){this.Qh=[],this.tl=new Map,this.il=new Map}nl(){return this.Xs()>0?this.Qh[this.Qh.length-1]:null}sl(){return this.Xs()>0?this.el(0):null}An(){return this.Xs()>0?this.el(this.Qh.length-1):null}Xs(){return this.Qh.length}Ni(){return this.Xs()===0}Xr(t){return this.rl(t,0)!==null}Kh(t){return this.hl(t)}hl(t,i=0){const v=this.rl(t,i);return v===null?null:Object.assign(Object.assign({},this.ll(v)),{se:this.el(v)})}ie(){return this.Qh}al(t,i,v){if(this.Ni())return null;let O=null;for(const F of v)O=Da(O,this.ol(t,i,F));return O}J(t){this.il.clear(),this.tl.clear(),this.Qh=t}el(t){return this.Qh[t].se}ll(t){return this.Qh[t]}rl(t,i){const v=this._l(t);if(v===null&&i!==0)switch(i){case-1:return this.ul(t);case 1:return this.cl(t);default:throw new TypeError("Unknown search mode")}return v}ul(t){let i=this.dl(t);return i>0&&(i-=1),i!==this.Qh.length&&this.el(i)<t?i:null}cl(t){const i=this.fl(t);return i!==this.Qh.length&&t<this.el(i)?i:null}_l(t){const i=this.dl(t);return i===this.Qh.length||t<this.Qh[i].se?null:i}dl(t){return Xs(this.Qh,t,(i,v)=>i.se<v)}fl(t){return Qc(this.Qh,t,(i,v)=>i.se>v)}vl(t,i,v){let O=null;for(let F=t;F<i;F++){const b=this.Qh[F].Vt[v];Number.isNaN(b)||(O===null?O={pl:b,ml:b}:(b<O.pl&&(O.pl=b),b>O.ml&&(O.ml=b)))}return O}ol(t,i,v){if(this.Ni())return null;let O=null;const F=Ge(this.sl()),b=Ge(this.An()),c=Math.max(t,F),e=Math.min(i,b),n=Math.ceil(c/ko)*ko,o=Math.max(n,Math.floor(e/ko)*ko);{const s=this.dl(c),a=this.fl(Math.min(e,n,i));O=Da(O,this.vl(s,a,v))}let f=this.tl.get(v);f===void 0&&(f=new Map,this.tl.set(v,f));for(let s=Math.max(n+1,c);s<o;s+=ko){const a=Math.floor(s/ko);let u=f.get(a);if(u===void 0){const h=this.dl(a*ko),p=this.fl((a+1)*ko-1);u=this.vl(h,p,v),f.set(a,u)}O=Da(O,u)}{const s=this.dl(o),a=this.fl(e);O=Da(O,this.vl(s,a,v))}return O}}function Da(T,t){return T===null?t:t===null?T:{pl:Math.min(T.pl,t.pl),ml:Math.max(T.ml,t.ml)}}class yb{constructor(t){this.bl=t}X(t,i,v){this.bl.draw(t)}wl(t,i,v){var O,F;(F=(O=this.bl).drawBackground)===null||F===void 0||F.call(O,t)}}class Zu{constructor(t){this.Qe=null,this.wn=t}gt(){var t;const i=this.wn.renderer();if(i===null)return null;if(((t=this.Qe)===null||t===void 0?void 0:t.gl)===i)return this.Qe.Ml;const v=new yb(i);return this.Qe={gl:i,Ml:v},v}xl(){var t,i,v;return(v=(i=(t=this.wn).zOrder)===null||i===void 0?void 0:i.call(t))!==null&&v!==void 0?v:"normal"}}function nd(T){var t,i,v,O,F;return{Kt:T.text(),ki:T.coordinate(),Si:(t=T.fixedCoordinate)===null||t===void 0?void 0:t.call(T),V:T.textColor(),t:T.backColor(),yt:(v=(i=T.visible)===null||i===void 0?void 0:i.call(T))===null||v===void 0||v,hi:(F=(O=T.tickVisible)===null||O===void 0?void 0:O.call(T))===null||F===void 0||F}}class bb{constructor(t,i){this.Wt=new $c,this.Sl=t,this.kl=i}gt(){return this.Wt.J(Object.assign({Hi:this.kl.Hi()},nd(this.Sl))),this.Wt}}class wb extends ja{constructor(t,i){super(),this.Sl=t,this.Li=i}zi(t,i,v){const O=nd(this.Sl);v.t=O.t,t.V=O.V;const F=2/12*this.Li.P();v.wi=F,v.gi=F,v.ki=O.ki,v.Si=O.Si,t.Kt=O.Kt,t.yt=O.yt,t.hi=O.hi}}class Eb{constructor(t,i){this.yl=null,this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=t,this.Wr=i}Vl(){return this.Dl}Vn(){var t,i;(i=(t=this.Dl).updateAllViews)===null||i===void 0||i.call(t)}Pn(){var t,i,v,O;const F=(v=(i=(t=this.Dl).paneViews)===null||i===void 0?void 0:i.call(t))!==null&&v!==void 0?v:[];if(((O=this.yl)===null||O===void 0?void 0:O.gl)===F)return this.yl.Ml;const b=F.map(c=>new Zu(c));return this.yl={gl:F,Ml:b},b}Qi(){var t,i,v,O;const F=(v=(i=(t=this.Dl).timeAxisViews)===null||i===void 0?void 0:i.call(t))!==null&&v!==void 0?v:[];if(((O=this.Cl)===null||O===void 0?void 0:O.gl)===F)return this.Cl.Ml;const b=this.Wr.$t().St(),c=F.map(e=>new bb(e,b));return this.Cl={gl:F,Ml:c},c}Rn(){var t,i,v,O;const F=(v=(i=(t=this.Dl).priceAxisViews)===null||i===void 0?void 0:i.call(t))!==null&&v!==void 0?v:[];if(((O=this.Tl)===null||O===void 0?void 0:O.gl)===F)return this.Tl.Ml;const b=this.Wr.Dt(),c=F.map(e=>new wb(e,b));return this.Tl={gl:F,Ml:c},c}Ol(){var t,i,v,O;const F=(v=(i=(t=this.Dl).priceAxisPaneViews)===null||i===void 0?void 0:i.call(t))!==null&&v!==void 0?v:[];if(((O=this.Pl)===null||O===void 0?void 0:O.gl)===F)return this.Pl.Ml;const b=F.map(c=>new Zu(c));return this.Pl={gl:F,Ml:b},b}Bl(){var t,i,v,O;const F=(v=(i=(t=this.Dl).timeAxisPaneViews)===null||i===void 0?void 0:i.call(t))!==null&&v!==void 0?v:[];if(((O=this.Rl)===null||O===void 0?void 0:O.gl)===F)return this.Rl.Ml;const b=F.map(c=>new Zu(c));return this.Rl={gl:F,Ml:b},b}Al(t,i){var v,O,F;return(F=(O=(v=this.Dl).autoscaleInfo)===null||O===void 0?void 0:O.call(v,t,i))!==null&&F!==void 0?F:null}br(t,i){var v,O,F;return(F=(O=(v=this.Dl).hitTest)===null||O===void 0?void 0:O.call(v,t,i))!==null&&F!==void 0?F:null}}function Ju(T,t,i,v){T.forEach(O=>{t(O).forEach(F=>{F.xl()===i&&v.push(F)})})}function qu(T){return T.Pn()}function _b(T){return T.Ol()}function xb(T){return T.Bl()}class Ll extends vb{constructor(t,i,v,O,F){super(t),this.zt=new mb,this.Wh=new lb(this),this.Il=[],this.zl=new q1(this),this.Ll=null,this.El=null,this.Nl=[],this.Fl=[],this.Wl=null,this.jl=[],this.cn=i,this.Hl=v;const b=new fb(this);this.rn=[b],this.jh=new qc(b,this,t),v!=="Area"&&v!=="Line"&&v!=="Baseline"||(this.Ll=new nb(this)),this.$l(),this.Ul(F)}S(){this.Wl!==null&&clearTimeout(this.Wl)}ph(t){return this.cn.priceLineColor||t}Yr(t){const i={Zr:!0},v=this.Dt();if(this.$t().St().Ni()||v.Ni()||this.zt.Ni())return i;const O=this.$t().St().Zs(),F=this.Ct();if(O===null||F===null)return i;let b,c;if(t){const f=this.zt.nl();if(f===null)return i;b=f,c=f.se}else{const f=this.zt.hl(O.ui(),-1);if(f===null||(b=this.zt.Kh(f.se),b===null))return i;c=f.se}const e=b.Vt[3],n=this.$s().Hs(c,{Vt:b}),o=v.Rt(e,F.Vt);return{Zr:!1,_t:e,Kt:v.Fi(e,F.Vt),Mh:v.ql(e),xh:v.Yl(e,F.Vt),V:n.ue,ki:o,se:c}}$s(){return this.El!==null||(this.El=new gb(this)),this.El}W(){return this.cn}Hh(t){const i=t.priceScaleId;i!==void 0&&i!==this.cn.priceScaleId&&this.$t().Zl(this,i),so(this.cn,t),t.priceFormat!==void 0&&(this.$l(),this.$t().Xl()),this.$t().Kl(this),this.$t().Gl(),this.wn.bt("options")}J(t,i){this.zt.J(t),this.Jl(),this.wn.bt("data"),this.dn.bt("data"),this.Ll!==null&&(i&&i.Ql?this.Ll.Hr():t.length===0&&this.Ll.jr());const v=this.$t().cr(this);this.$t().ta(v),this.$t().Kl(this),this.$t().Gl(),this.$t().$h()}ia(t){this.Nl=t,this.Jl();const i=this.$t().cr(this);this.dn.bt("data"),this.$t().ta(i),this.$t().Kl(this),this.$t().Gl(),this.$t().$h()}na(){return this.Nl}uh(){return this.Fl}sa(t){const i=new db(this,t);return this.Il.push(i),this.$t().Kl(this),i}ea(t){const i=this.Il.indexOf(t);i!==-1&&this.Il.splice(i,1),this.$t().Kl(this)}Jh(){return this.Hl}Ct(){const t=this.ra();return t===null?null:{Vt:t.Vt[3],ha:t.ot}}ra(){const t=this.$t().St().Zs();if(t===null)return null;const i=t.Vs();return this.zt.hl(i,1)}In(){return this.zt}fh(t){const i=this.zt.Kh(t);return i===null?null:this.Hl==="Bar"||this.Hl==="Candlestick"||this.Hl==="Custom"?{we:i.Vt[0],ge:i.Vt[1],Me:i.Vt[2],xe:i.Vt[3]}:i.Vt[3]}la(t){const i=[];Ju(this.jl,qu,"top",i);const v=this.Ll;return v!==null&&v.yt()&&(this.Wl===null&&v.Ur()&&(this.Wl=setTimeout(()=>{this.Wl=null,this.$t().aa()},0)),v.$r(),i.unshift(v)),i}Pn(){const t=[];this.oa()||t.push(this.zl),t.push(this.wn,this.Wh,this.dn);const i=this.Il.map(v=>v.Uh());return t.push(...i),Ju(this.jl,qu,"normal",t),t}_a(){return this.ua(qu,"bottom")}ca(t){return this.ua(_b,t)}da(t){return this.ua(xb,t)}fa(t,i){return this.jl.map(v=>v.br(t,i)).filter(v=>v!==null)}Ji(t){return[this.jh,...this.Il.map(i=>i.qh())]}Rn(t,i){if(i!==this.Yi&&!this.oa())return[];const v=[...this.rn];for(const O of this.Il)v.push(O.Yh());return this.jl.forEach(O=>{v.push(...O.Rn())}),v}Qi(){const t=[];return this.jl.forEach(i=>{t.push(...i.Qi())}),t}Al(t,i){if(this.cn.autoscaleInfoProvider!==void 0){const v=this.cn.autoscaleInfoProvider(()=>{const O=this.va(t,i);return O===null?null:O.Oh()});return $a.Bh(v)}return this.va(t,i)}pa(){return this.cn.priceFormat.minMove}ma(){return this.ba}Vn(){var t;this.wn.bt(),this.dn.bt();for(const i of this.rn)i.bt();for(const i of this.Il)i.bt();this.Wh.bt(),this.zl.bt(),(t=this.Ll)===null||t===void 0||t.bt(),this.jl.forEach(i=>i.Vn())}Dt(){return Ge(super.Dt())}kt(t){if(!((this.Hl==="Line"||this.Hl==="Area"||this.Hl==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const i=this.zt.Kh(t);return i===null?null:{_t:i.Vt[3],ht:this.wa(),Ot:this.ga(),Pt:this.Ma(),Tt:this.xa(t)}}mh(){return this.cn.title}yt(){return this.cn.visible}Sa(t){this.jl.push(new Eb(t,this))}ka(t){this.jl=this.jl.filter(i=>i.Vl()!==t)}ya(){if(this.wn instanceof Qu)return t=>this.wn.Fe(t)}Ca(){if(this.wn instanceof Qu)return t=>this.wn.We(t)}oa(){return!Qa(this.Dt().Ta())}va(t,i){if(!Gs(t)||!Gs(i)||this.zt.Ni())return null;const v=this.Hl==="Line"||this.Hl==="Area"||this.Hl==="Baseline"||this.Hl==="Histogram"?[3]:[2,1],O=this.zt.al(t,i,v);let F=O!==null?new Ai(O.pl,O.ml):null;if(this.Jh()==="Histogram"){const c=this.cn.base,e=new Ai(c,c);F=F!==null?F.ts(e):e}let b=this.dn._h();return this.jl.forEach(c=>{const e=c.Al(t,i);if(e!=null&&e.priceRange){const a=new Ai(e.priceRange.minValue,e.priceRange.maxValue);F=F!==null?F.ts(a):a}var n,o,f,s;e!=null&&e.margins&&(n=b,o=e.margins,b={above:Math.max((f=n==null?void 0:n.above)!==null&&f!==void 0?f:0,o.above),below:Math.max((s=n==null?void 0:n.below)!==null&&s!==void 0?s:0,o.below)})}),new $a(F,b)}wa(){switch(this.Hl){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}ga(){switch(this.Hl){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}Ma(){switch(this.Hl){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}xa(t){switch(this.Hl){case"Line":case"Area":case"Baseline":{const i=this.cn.crosshairMarkerBackgroundColor;if(i.length!==0)return i}}return this.$s().Hs(t).ue}$l(){switch(this.cn.priceFormat.type){case"custom":this.ba={format:this.cn.priceFormat.formatter};break;case"volume":this.ba=new L1(this.cn.priceFormat.precision);break;case"percent":this.ba=new Gc(this.cn.priceFormat.precision);break;default:{const t=Math.pow(10,this.cn.priceFormat.precision);this.ba=new Za(t,this.cn.priceFormat.minMove*t)}}this.Yi!==null&&this.Yi.Pa()}Jl(){const t=this.$t().St();if(!t.Ra()||this.zt.Ni())return void(this.Fl=[]);const i=Ge(this.zt.sl());this.Fl=this.Nl.map((v,O)=>{const F=Ge(t.Da(v.time,!0)),b=F<i?1:-1;return{time:Ge(this.zt.hl(F,b)).se,position:v.position,shape:v.shape,color:v.color,id:v.id,Qr:O,text:v.text,size:v.size,originalTime:v.originalTime}})}Ul(t){switch(this.dn=new ub(this,this.$t()),this.Hl){case"Bar":this.wn=new W1(this,this.$t());break;case"Candlestick":this.wn=new V1(this,this.$t());break;case"Line":this.wn=new j1(this,this.$t());break;case"Custom":this.wn=new Qu(this,this.$t(),Oi(t));break;case"Area":this.wn=new k1(this,this.$t());break;case"Baseline":this.wn=new $1(this,this.$t());break;case"Histogram":this.wn=new X1(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.Hl)}}ua(t,i){const v=[];return Ju(this.jl,t,i,v),v}}class Mb{constructor(t){this.cn=t}Va(t,i,v){let O=t;if(this.cn.mode===0)return O;const F=v.vn(),b=F.Ct();if(b===null)return O;const c=F.Rt(t,b),e=v.Oa().filter(o=>o instanceof Ll).reduce((o,f)=>{if(v.dr(f)||!f.yt())return o;const s=f.Dt(),a=f.In();if(s.Ni()||!a.Xr(i))return o;const u=a.Kh(i);if(u===null)return o;const h=hs(f.Ct());return o.concat([s.Rt(u.Vt[3],h.Vt)])},[]);if(e.length===0)return O;e.sort((o,f)=>Math.abs(o-c)-Math.abs(f-c));const n=e[0];return O=F.pn(n,b),O}}class Ob extends ao{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}K({context:t,bitmapSize:i,horizontalPixelRatio:v,verticalPixelRatio:O}){if(this.zt===null)return;const F=Math.max(1,Math.floor(v));t.lineWidth=F,function(b,c){b.save(),b.lineWidth%2&&b.translate(.5,.5),c(),b.restore()}(t,()=>{const b=Ge(this.zt);if(b.Ba){t.strokeStyle=b.Aa,Zo(t,b.Ia),t.beginPath();for(const c of b.za){const e=Math.round(c.La*v);t.moveTo(e,-F),t.lineTo(e,i.height+F)}t.stroke()}if(b.Ea){t.strokeStyle=b.Na,Zo(t,b.Fa),t.beginPath();for(const c of b.Wa){const e=Math.round(c.La*O);t.moveTo(-F,e),t.lineTo(i.width+F,e)}t.stroke()}})}}class Sb{constructor(t){this.Wt=new Ob,this.ft=!0,this.tn=t}bt(){this.ft=!0}gt(){if(this.ft){const t=this.tn.$t().W().grid,i={Ea:t.horzLines.visible,Ba:t.vertLines.visible,Na:t.horzLines.color,Aa:t.vertLines.color,Fa:t.horzLines.style,Ia:t.vertLines.style,Wa:this.tn.vn().ja(),za:(this.tn.$t().St().ja()||[]).map(v=>({La:v.coord}))};this.Wt.J(i),this.ft=!1}return this.Wt}}class Tb{constructor(t){this.wn=new Sb(t)}Uh(){return this.wn}}const tl={Ha:4,$a:1e-4};function cs(T,t){const i=100*(T-t)/t;return t<0?-i:i}function Cb(T,t){const i=cs(T.Th(),t),v=cs(T.Ph(),t);return new Ai(i,v)}function ks(T,t){const i=100*(T-t)/t+100;return t<0?-i:i}function Pb(T,t){const i=ks(T.Th(),t),v=ks(T.Ph(),t);return new Ai(i,v)}function Ga(T,t){const i=Math.abs(T);if(i<1e-15)return 0;const v=Math.log10(i+t.$a)+t.Ha;return T<0?-v:v}function zs(T,t){const i=Math.abs(T);if(i<1e-15)return 0;const v=Math.pow(10,i-t.Ha)-t.$a;return T<0?-v:v}function Rs(T,t){if(T===null)return null;const i=Ga(T.Th(),t),v=Ga(T.Ph(),t);return new Ai(i,v)}function Na(T,t){if(T===null)return null;const i=zs(T.Th(),t),v=zs(T.Ph(),t);return new Ai(i,v)}function el(T){if(T===null)return tl;const t=Math.abs(T.Ph()-T.Th());if(t>=1||t<1e-15)return tl;const i=Math.ceil(Math.abs(Math.log10(t))),v=tl.Ha+i;return{Ha:v,$a:1/Math.pow(10,v)}}class nl{constructor(t,i){if(this.Ua=t,this.qa=i,function(v){if(v<0)return!1;for(let O=v;O>1;O/=10)if(O%10!=0)return!1;return!0}(this.Ua))this.Ya=[2,2.5,2];else{this.Ya=[];for(let v=this.Ua;v!==1;){if(v%2==0)this.Ya.push(2),v/=2;else{if(v%5!=0)throw new Error("unexpected base");this.Ya.push(2,2.5),v/=5}if(this.Ya.length>100)throw new Error("something wrong with base")}}}Za(t,i,v){const O=this.Ua===0?0:1/this.Ua;let F=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-i)))),b=0,c=this.qa[0];for(;;){const f=La(F,O,1e-14)&&F>O+1e-14,s=La(F,v*c,1e-14),a=La(F,1,1e-14);if(!(f&&s&&a))break;F/=c,c=this.qa[++b%this.qa.length]}if(F<=O+1e-14&&(F=O),F=Math.max(1,F),this.Ya.length>0&&(e=F,n=1,o=1e-14,Math.abs(e-n)<o))for(b=0,c=this.Ya[0];La(F,v*c,1e-14)&&F>O+1e-14;)F/=c,c=this.Ya[++b%this.Ya.length];var e,n,o;return F}}class Xh{constructor(t,i,v,O){this.Xa=[],this.Li=t,this.Ua=i,this.Ka=v,this.Ga=O}Za(t,i){if(t<i)throw new Error("high < low");const v=this.Li.At(),O=(t-i)*this.Ja()/v,F=new nl(this.Ua,[2,2.5,2]),b=new nl(this.Ua,[2,2,2.5]),c=new nl(this.Ua,[2.5,2,2]),e=[];return e.push(F.Za(t,i,O),b.Za(t,i,O),c.Za(t,i,O)),function(n){if(n.length<1)throw Error("array is empty");let o=n[0];for(let f=1;f<n.length;++f)n[f]<o&&(o=n[f]);return o}(e)}Qa(){const t=this.Li,i=t.Ct();if(i===null)return void(this.Xa=[]);const v=t.At(),O=this.Ka(v-1,i),F=this.Ka(0,i),b=this.Li.W().entireTextOnly?this.io()/2:0,c=b,e=v-1-b,n=Math.max(O,F),o=Math.min(O,F);if(n===o)return void(this.Xa=[]);let f=this.Za(n,o),s=n%f;s+=s<0?f:0;const a=n>=o?1:-1;let u=null,h=0;for(let p=n-s;p>o;p-=f){const y=this.Ga(p,i,!0);u!==null&&Math.abs(y-u)<this.Ja()||y<c||y>e||(h<this.Xa.length?(this.Xa[h].La=y,this.Xa[h].no=t.so(p)):this.Xa.push({La:y,no:t.so(p)}),h++,u=y,t.eo()&&(f=this.Za(p*a,o)))}this.Xa.length=h}ja(){return this.Xa}io(){return this.Li.P()}Ja(){return Math.ceil(2.5*this.io())}}function rd(T){return T.slice().sort((t,i)=>Ge(t.Xi())-Ge(i.Xi()))}var jh;(function(T){T[T.Normal=0]="Normal",T[T.Logarithmic=1]="Logarithmic",T[T.Percentage=2]="Percentage",T[T.IndexedTo100=3]="IndexedTo100"})(jh||(jh={}));const Qh=new Gc,Zh=new Za(100,1);class Lb{constructor(t,i,v,O){this.ro=0,this.ho=null,this.Ah=null,this.lo=null,this.ao={oo:!1,_o:null},this.uo=0,this.co=0,this.do=new Vr,this.fo=new Vr,this.vo=[],this.po=null,this.mo=null,this.bo=null,this.wo=null,this.ba=Zh,this.Mo=el(null),this.xo=t,this.cn=i,this.So=v,this.ko=O,this.yo=new Xh(this,100,this.Co.bind(this),this.To.bind(this))}Ta(){return this.xo}W(){return this.cn}Hh(t){if(so(this.cn,t),this.Pa(),t.mode!==void 0&&this.Po({yr:t.mode}),t.scaleMargins!==void 0){const i=Oi(t.scaleMargins.top),v=Oi(t.scaleMargins.bottom);if(i<0||i>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${i}`);if(v<0||v>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${v}`);if(i+v>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${i+v}`);this.Ro(),this.mo=null}}Do(){return this.cn.autoScale}eo(){return this.cn.mode===1}gh(){return this.cn.mode===2}Vo(){return this.cn.mode===3}yr(){return{Wn:this.cn.autoScale,Oo:this.cn.invertScale,yr:this.cn.mode}}Po(t){const i=this.yr();let v=null;t.Wn!==void 0&&(this.cn.autoScale=t.Wn),t.yr!==void 0&&(this.cn.mode=t.yr,t.yr!==2&&t.yr!==3||(this.cn.autoScale=!0),this.ao.oo=!1),i.yr===1&&t.yr!==i.yr&&(function(F,b){if(F===null)return!1;const c=zs(F.Th(),b),e=zs(F.Ph(),b);return isFinite(c)&&isFinite(e)}(this.Ah,this.Mo)?(v=Na(this.Ah,this.Mo),v!==null&&this.Bo(v)):this.cn.autoScale=!0),t.yr===1&&t.yr!==i.yr&&(v=Rs(this.Ah,this.Mo),v!==null&&this.Bo(v));const O=i.yr!==this.cn.mode;O&&(i.yr===2||this.gh())&&this.Pa(),O&&(i.yr===3||this.Vo())&&this.Pa(),t.Oo!==void 0&&i.Oo!==t.Oo&&(this.cn.invertScale=t.Oo,this.Ao()),this.fo.m(i,this.yr())}Io(){return this.fo}P(){return this.So.fontSize}At(){return this.ro}zo(t){this.ro!==t&&(this.ro=t,this.Ro(),this.mo=null)}Lo(){if(this.ho)return this.ho;const t=this.At()-this.Eo()-this.No();return this.ho=t,t}zh(){return this.Fo(),this.Ah}Bo(t,i){const v=this.Ah;(i||v===null&&t!==null||v!==null&&!v.yh(t))&&(this.mo=null,this.Ah=t)}Ni(){return this.Fo(),this.ro===0||!this.Ah||this.Ah.Ni()}Wo(t){return this.Oo()?t:this.At()-1-t}Rt(t,i){return this.gh()?t=cs(t,i):this.Vo()&&(t=ks(t,i)),this.To(t,i)}Qs(t,i,v){this.Fo();const O=this.No(),F=Ge(this.zh()),b=F.Th(),c=F.Ph(),e=this.Lo()-1,n=this.Oo(),o=e/(c-b),f=v===void 0?0:v.from,s=v===void 0?t.length:v.to,a=this.jo();for(let u=f;u<s;u++){const h=t[u],p=h._t;if(isNaN(p))continue;let y=p;a!==null&&(y=a(h._t,i));const w=O+o*(y-b),d=n?w:this.ro-1-w;h.st=d}}me(t,i,v){this.Fo();const O=this.No(),F=Ge(this.zh()),b=F.Th(),c=F.Ph(),e=this.Lo()-1,n=this.Oo(),o=e/(c-b),f=v===void 0?0:v.from,s=v===void 0?t.length:v.to,a=this.jo();for(let u=f;u<s;u++){const h=t[u];let p=h.we,y=h.ge,w=h.Me,d=h.xe;a!==null&&(p=a(h.we,i),y=a(h.ge,i),w=a(h.Me,i),d=a(h.xe,i));let M=O+o*(p-b),D=n?M:this.ro-1-M;h.ve=D,M=O+o*(y-b),D=n?M:this.ro-1-M,h.ce=D,M=O+o*(w-b),D=n?M:this.ro-1-M,h.de=D,M=O+o*(d-b),D=n?M:this.ro-1-M,h.pe=D}}pn(t,i){const v=this.Co(t,i);return this.Ho(v,i)}Ho(t,i){let v=t;return this.gh()?v=function(O,F){return F<0&&(O=-O),O/100*F+F}(v,i):this.Vo()&&(v=function(O,F){return O-=100,F<0&&(O=-O),O/100*F+F}(v,i)),v}Oa(){return this.vo}$o(){if(this.po)return this.po;let t=[];for(let i=0;i<this.vo.length;i++){const v=this.vo[i];v.Xi()===null&&v.Ki(i+1),t.push(v)}return t=rd(t),this.po=t,this.po}Uo(t){this.vo.indexOf(t)===-1&&(this.vo.push(t),this.Pa(),this.qo())}Yo(t){const i=this.vo.indexOf(t);if(i===-1)throw new Error("source is not attached to scale");this.vo.splice(i,1),this.vo.length===0&&(this.Po({Wn:!0}),this.Bo(null)),this.Pa(),this.qo()}Ct(){let t=null;for(const i of this.vo){const v=i.Ct();v!==null&&(t===null||v.ha<t.ha)&&(t=v)}return t===null?null:t.Vt}Oo(){return this.cn.invertScale}ja(){const t=this.Ct()===null;if(this.mo!==null&&(t||this.mo.Zo===t))return this.mo.ja;this.yo.Qa();const i=this.yo.ja();return this.mo={ja:i,Zo:t},this.do.m(),i}Xo(){return this.do}Ko(t){this.gh()||this.Vo()||this.bo===null&&this.lo===null&&(this.Ni()||(this.bo=this.ro-t,this.lo=Ge(this.zh()).Ch()))}Go(t){if(this.gh()||this.Vo()||this.bo===null)return;this.Po({Wn:!1}),(t=this.ro-t)<0&&(t=0);let i=(this.bo+.2*(this.ro-1))/(t+.2*(this.ro-1));const v=Ge(this.lo).Ch();i=Math.max(i,.1),v.Dh(i),this.Bo(v)}Jo(){this.gh()||this.Vo()||(this.bo=null,this.lo=null)}Qo(t){this.Do()||this.wo===null&&this.lo===null&&(this.Ni()||(this.wo=t,this.lo=Ge(this.zh()).Ch()))}t_(t){if(this.Do()||this.wo===null)return;const i=Ge(this.zh()).Rh()/(this.Lo()-1);let v=t-this.wo;this.Oo()&&(v*=-1);const O=v*i,F=Ge(this.lo).Ch();F.Vh(O),this.Bo(F,!0),this.mo=null}i_(){this.Do()||this.wo!==null&&(this.wo=null,this.lo=null)}ma(){return this.ba||this.Pa(),this.ba}Fi(t,i){switch(this.cn.mode){case 2:return this.n_(cs(t,i));case 3:return this.ma().format(ks(t,i));default:return this.Fh(t)}}so(t){switch(this.cn.mode){case 2:return this.n_(t);case 3:return this.ma().format(t);default:return this.Fh(t)}}ql(t){return this.Fh(t,Ge(this.s_()).ma())}Yl(t,i){return t=cs(t,i),this.n_(t,Qh)}e_(){return this.vo}r_(t){this.ao={_o:t,oo:!1}}Vn(){this.vo.forEach(t=>t.Vn())}Pa(){this.mo=null;const t=this.s_();let i=100;t!==null&&(i=Math.round(1/t.pa())),this.ba=Zh,this.gh()?(this.ba=Qh,i=100):this.Vo()?(this.ba=new Za(100,1),i=100):t!==null&&(this.ba=t.ma()),this.yo=new Xh(this,i,this.Co.bind(this),this.To.bind(this)),this.yo.Qa()}qo(){this.po=null}s_(){return this.vo[0]||null}Eo(){return this.Oo()?this.cn.scaleMargins.bottom*this.At()+this.co:this.cn.scaleMargins.top*this.At()+this.uo}No(){return this.Oo()?this.cn.scaleMargins.top*this.At()+this.uo:this.cn.scaleMargins.bottom*this.At()+this.co}Fo(){this.ao.oo||(this.ao.oo=!0,this.h_())}Ro(){this.ho=null}To(t,i){if(this.Fo(),this.Ni())return 0;t=this.eo()&&t?Ga(t,this.Mo):t;const v=Ge(this.zh()),O=this.No()+(this.Lo()-1)*(t-v.Th())/v.Rh();return this.Wo(O)}Co(t,i){if(this.Fo(),this.Ni())return 0;const v=this.Wo(t),O=Ge(this.zh()),F=O.Th()+O.Rh()*((v-this.No())/(this.Lo()-1));return this.eo()?zs(F,this.Mo):F}Ao(){this.mo=null,this.yo.Qa()}h_(){const t=this.ao._o;if(t===null)return;let i=null;const v=this.e_();let O=0,F=0;for(const e of v){if(!e.yt())continue;const n=e.Ct();if(n===null)continue;const o=e.Al(t.Vs(),t.ui());let f=o&&o.zh();if(f!==null){switch(this.cn.mode){case 1:f=Rs(f,this.Mo);break;case 2:f=Cb(f,n.Vt);break;case 3:f=Pb(f,n.Vt)}if(i=i===null?f:i.ts(Ge(f)),o!==null){const s=o.Lh();s!==null&&(O=Math.max(O,s.above),F=Math.max(F,s.below))}}}if(O===this.uo&&F===this.co||(this.uo=O,this.co=F,this.mo=null,this.Ro()),i!==null){if(i.Th()===i.Ph()){const e=this.s_(),n=5*(e===null||this.gh()||this.Vo()?1:e.pa());this.eo()&&(i=Na(i,this.Mo)),i=new Ai(i.Th()-n,i.Ph()+n),this.eo()&&(i=Rs(i,this.Mo))}if(this.eo()){const e=Na(i,this.Mo),n=el(e);if(b=n,c=this.Mo,b.Ha!==c.Ha||b.$a!==c.$a){const o=this.lo!==null?Na(this.lo,this.Mo):null;this.Mo=n,i=Rs(e,n),o!==null&&(this.lo=Rs(o,n))}}this.Bo(i)}else this.Ah===null&&(this.Bo(new Ai(-.5,.5)),this.Mo=el(null));var b,c;this.ao.oo=!0}jo(){return this.gh()?cs:this.Vo()?ks:this.eo()?t=>Ga(t,this.Mo):null}l_(t,i,v){return i===void 0?(v===void 0&&(v=this.ma()),v.format(t)):i(t)}Fh(t,i){return this.l_(t,this.ko.priceFormatter,i)}n_(t,i){return this.l_(t,this.ko.percentageFormatter,i)}}class Db{constructor(t,i){this.vo=[],this.a_=new Map,this.ro=0,this.o_=0,this.__=1e3,this.po=null,this.u_=new Vr,this.kl=t,this.$i=i,this.c_=new Tb(this);const v=i.W();this.d_=this.f_("left",v.leftPriceScale),this.v_=this.f_("right",v.rightPriceScale),this.d_.Io().l(this.p_.bind(this,this.d_),this),this.v_.Io().l(this.p_.bind(this,this.v_),this),this.m_(v)}m_(t){if(t.leftPriceScale&&this.d_.Hh(t.leftPriceScale),t.rightPriceScale&&this.v_.Hh(t.rightPriceScale),t.localization&&(this.d_.Pa(),this.v_.Pa()),t.overlayPriceScales){const i=Array.from(this.a_.values());for(const v of i){const O=Ge(v[0].Dt());O.Hh(t.overlayPriceScales),t.localization&&O.Pa()}}}b_(t){switch(t){case"left":return this.d_;case"right":return this.v_}return this.a_.has(t)?Oi(this.a_.get(t))[0].Dt():null}S(){this.$t().w_().p(this),this.d_.Io().p(this),this.v_.Io().p(this),this.vo.forEach(t=>{t.S&&t.S()}),this.u_.m()}g_(){return this.__}M_(t){this.__=t}$t(){return this.$i}Hi(){return this.o_}At(){return this.ro}x_(t){this.o_=t,this.S_()}zo(t){this.ro=t,this.d_.zo(t),this.v_.zo(t),this.vo.forEach(i=>{if(this.dr(i)){const v=i.Dt();v!==null&&v.zo(t)}}),this.S_()}Oa(){return this.vo}dr(t){const i=t.Dt();return i===null||this.d_!==i&&this.v_!==i}Uo(t,i,v){const O=v!==void 0?v:this.y_().k_+1;this.C_(t,i,O)}Yo(t){const i=this.vo.indexOf(t);zo(i!==-1,"removeDataSource: invalid data source"),this.vo.splice(i,1);const v=Ge(t.Dt()).Ta();if(this.a_.has(v)){const F=Oi(this.a_.get(v)),b=F.indexOf(t);b!==-1&&(F.splice(b,1),F.length===0&&this.a_.delete(v))}const O=t.Dt();O&&O.Oa().indexOf(t)>=0&&O.Yo(t),O!==null&&(O.qo(),this.T_(O)),this.po=null}pr(t){return t===this.d_?"left":t===this.v_?"right":"overlay"}P_(){return this.d_}R_(){return this.v_}D_(t,i){t.Ko(i)}V_(t,i){t.Go(i),this.S_()}O_(t){t.Jo()}B_(t,i){t.Qo(i)}A_(t,i){t.t_(i),this.S_()}I_(t){t.i_()}S_(){this.vo.forEach(t=>{t.Vn()})}vn(){let t=null;return this.$i.W().rightPriceScale.visible&&this.v_.Oa().length!==0?t=this.v_:this.$i.W().leftPriceScale.visible&&this.d_.Oa().length!==0?t=this.d_:this.vo.length!==0&&(t=this.vo[0].Dt()),t===null&&(t=this.v_),t}vr(){let t=null;return this.$i.W().rightPriceScale.visible?t=this.v_:this.$i.W().leftPriceScale.visible&&(t=this.d_),t}T_(t){t!==null&&t.Do()&&this.z_(t)}L_(t){const i=this.kl.Zs();t.Po({Wn:!0}),i!==null&&t.r_(i),this.S_()}E_(){this.z_(this.d_),this.z_(this.v_)}N_(){this.T_(this.d_),this.T_(this.v_),this.vo.forEach(t=>{this.dr(t)&&this.T_(t.Dt())}),this.S_(),this.$i.$h()}$o(){return this.po===null&&(this.po=rd(this.vo)),this.po}F_(){return this.u_}W_(){return this.c_}z_(t){const i=t.e_();if(i&&i.length>0&&!this.kl.Ni()){const v=this.kl.Zs();v!==null&&t.r_(v)}t.Vn()}y_(){const t=this.$o();if(t.length===0)return{j_:0,k_:0};let i=0,v=0;for(let O=0;O<t.length;O++){const F=t[O].Xi();F!==null&&(F<i&&(i=F),F>v&&(v=F))}return{j_:i,k_:v}}C_(t,i,v){let O=this.b_(i);if(O===null&&(O=this.f_(i,this.$i.W().overlayPriceScales)),this.vo.push(t),!Qa(i)){const F=this.a_.get(i)||[];F.push(t),this.a_.set(i,F)}O.Uo(t),t.Gi(O),t.Ki(v),this.T_(O),this.po=null}p_(t,i,v){i.yr!==v.yr&&this.z_(t)}f_(t,i){const v=Object.assign({visible:!0,autoScale:!0},Po(i)),O=new Lb(t,v,this.$i.W().layout,this.$i.W().localization);return O.zo(this.At()),O}}class Nb{constructor(t,i,v=50){this.Xe=0,this.Ke=1,this.Ge=1,this.Qe=new Map,this.Je=new Map,this.H_=t,this.U_=i,this.tr=v}q_(t){const i=t.time,v=this.U_.cacheKey(i),O=this.Qe.get(v);if(O!==void 0)return O.Y_;if(this.Xe===this.tr){const b=this.Je.get(this.Ge);this.Je.delete(this.Ge),this.Qe.delete(Oi(b)),this.Ge++,this.Xe--}const F=this.H_(t);return this.Qe.set(v,{Y_:F,er:this.Ke}),this.Je.set(this.Ke,v),this.Xe++,this.Ke++,F}}class Ws{constructor(t,i){zo(t<=i,"right should be >= left"),this.Z_=t,this.X_=i}Vs(){return this.Z_}ui(){return this.X_}K_(){return this.X_-this.Z_+1}Xr(t){return this.Z_<=t&&t<=this.X_}yh(t){return this.Z_===t.Vs()&&this.X_===t.ui()}}function Jh(T,t){return T===null||t===null?T===t:T.yh(t)}class Ab{constructor(){this.G_=new Map,this.Qe=null,this.J_=!1}Q_(t){this.J_=t,this.Qe=null}tu(t,i){this.iu(i),this.Qe=null;for(let v=i;v<t.length;++v){const O=t[v];let F=this.G_.get(O.timeWeight);F===void 0&&(F=[],this.G_.set(O.timeWeight,F)),F.push({index:v,time:O.time,weight:O.timeWeight,originalTime:O.originalTime})}}nu(t,i){const v=Math.ceil(i/t);return this.Qe!==null&&this.Qe.su===v||(this.Qe={ja:this.eu(v),su:v}),this.Qe.ja}iu(t){if(t===0)return void this.G_.clear();const i=[];this.G_.forEach((v,O)=>{t<=v[0].index?i.push(O):v.splice(Xs(v,t,F=>F.index<t),1/0)});for(const v of i)this.G_.delete(v)}eu(t){let i=[];for(const v of Array.from(this.G_.keys()).sort((O,F)=>F-O)){if(!this.G_.get(v))continue;const O=i;i=[];const F=O.length;let b=0;const c=Oi(this.G_.get(v)),e=c.length;let n=1/0,o=-1/0;for(let f=0;f<e;f++){const s=c[f],a=s.index;for(;b<F;){const u=O[b],h=u.index;if(!(h<a)){n=h;break}b++,i.push(u),o=h,n=1/0}if(n-a>=t&&a-o>=t)i.push(s),o=a;else if(this.J_)return O}for(;b<F;b++)i.push(O[b])}return i}}class ds{constructor(t){this.ru=t}hu(){return this.ru===null?null:new Ws(Math.floor(this.ru.Vs()),Math.ceil(this.ru.ui()))}lu(){return this.ru}static au(){return new ds(null)}}function Ib(T,t){return T.weight>t.weight?T:t}class Rb{constructor(t,i,v,O){this.o_=0,this.ou=null,this._u=[],this.wo=null,this.bo=null,this.uu=new Ab,this.cu=new Map,this.du=ds.au(),this.fu=!0,this.vu=new Vr,this.pu=new Vr,this.mu=new Vr,this.bu=null,this.wu=null,this.gu=[],this.cn=i,this.ko=v,this.Mu=i.rightOffset,this.xu=i.barSpacing,this.$i=t,this.U_=O,this.Su(),this.uu.Q_(i.uniformDistribution)}W(){return this.cn}ku(t){so(this.ko,t),this.yu(),this.Su()}Hh(t,i){var v;so(this.cn,t),this.cn.fixLeftEdge&&this.Cu(),this.cn.fixRightEdge&&this.Tu(),t.barSpacing!==void 0&&this.$i.Gn(t.barSpacing),t.rightOffset!==void 0&&this.$i.Jn(t.rightOffset),t.minBarSpacing!==void 0&&this.$i.Gn((v=t.barSpacing)!==null&&v!==void 0?v:this.xu),this.yu(),this.Su(),this.mu.m()}mn(t){var i,v;return(v=(i=this._u[t])===null||i===void 0?void 0:i.time)!==null&&v!==void 0?v:null}Ui(t){var i;return(i=this._u[t])!==null&&i!==void 0?i:null}Da(t,i){if(this._u.length<1)return null;if(this.U_.key(t)>this.U_.key(this._u[this._u.length-1].time))return i?this._u.length-1:null;const v=Xs(this._u,this.U_.key(t),(O,F)=>this.U_.key(O.time)<F);return this.U_.key(t)<this.U_.key(this._u[v].time)?i?v:null:v}Ni(){return this.o_===0||this._u.length===0||this.ou===null}Ra(){return this._u.length>0}Zs(){return this.Pu(),this.du.hu()}Ru(){return this.Pu(),this.du.lu()}Du(){const t=this.Zs();if(t===null)return null;const i={from:t.Vs(),to:t.ui()};return this.Vu(i)}Vu(t){const i=Math.round(t.from),v=Math.round(t.to),O=Ge(this.Ou()),F=Ge(this.Bu());return{from:Ge(this.Ui(Math.max(O,i))),to:Ge(this.Ui(Math.min(F,v)))}}Au(t){return{from:Ge(this.Da(t.from,!0)),to:Ge(this.Da(t.to,!0))}}Hi(){return this.o_}x_(t){if(!isFinite(t)||t<=0||this.o_===t)return;const i=this.Ru(),v=this.o_;if(this.o_=t,this.fu=!0,this.cn.lockVisibleTimeRangeOnResize&&v!==0){const O=this.xu*t/v;this.xu=O}if(this.cn.fixLeftEdge&&i!==null&&i.Vs()<=0){const O=v-t;this.Mu-=Math.round(O/this.xu)+1,this.fu=!0}this.Iu(),this.zu()}It(t){if(this.Ni()||!Gs(t))return 0;const i=this.Lu()+this.Mu-t;return this.o_-(i+.5)*this.xu-1}Js(t,i){const v=this.Lu(),O=i===void 0?0:i.from,F=i===void 0?t.length:i.to;for(let b=O;b<F;b++){const c=t[b].ot,e=v+this.Mu-c,n=this.o_-(e+.5)*this.xu-1;t[b].nt=n}}Eu(t){return Math.ceil(this.Nu(t))}Jn(t){this.fu=!0,this.Mu=t,this.zu(),this.$i.Fu(),this.$i.$h()}he(){return this.xu}Gn(t){this.Wu(t),this.zu(),this.$i.Fu(),this.$i.$h()}ju(){return this.Mu}ja(){if(this.Ni())return null;if(this.wu!==null)return this.wu;const t=this.xu,i=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),v=Math.round(i/t),O=Ge(this.Zs()),F=Math.max(O.Vs(),O.Vs()-v),b=Math.max(O.ui(),O.ui()-v),c=this.uu.nu(t,i),e=this.Ou()+v,n=this.Bu()-v,o=this.Hu(),f=this.cn.fixLeftEdge||o,s=this.cn.fixRightEdge||o;let a=0;for(const u of c){if(!(F<=u.index&&u.index<=b))continue;let h;a<this.gu.length?(h=this.gu[a],h.coord=this.It(u.index),h.label=this.$u(u),h.weight=u.weight):(h={needAlignCoordinate:!1,coord:this.It(u.index),label:this.$u(u),weight:u.weight},this.gu.push(h)),this.xu>i/2&&!o?h.needAlignCoordinate=!1:h.needAlignCoordinate=f&&u.index<=e||s&&u.index>=n,a++}return this.gu.length=a,this.wu=this.gu,this.gu}Uu(){this.fu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}qu(t){this.fu=!0,this.ou=t,this.zu(),this.Cu()}Yu(t,i){const v=this.Nu(t),O=this.he(),F=O+i*(O/10);this.Gn(F),this.cn.rightBarStaysOnScroll||this.Jn(this.ju()+(v-this.Nu(t)))}Ko(t){this.wo&&this.i_(),this.bo===null&&this.bu===null&&(this.Ni()||(this.bo=t,this.Zu()))}Go(t){if(this.bu===null)return;const i=pl(this.o_-t,0,this.o_),v=pl(this.o_-Ge(this.bo),0,this.o_);i!==0&&v!==0&&this.Gn(this.bu.he*i/v)}Jo(){this.bo!==null&&(this.bo=null,this.Xu())}Qo(t){this.wo===null&&this.bu===null&&(this.Ni()||(this.wo=t,this.Zu()))}t_(t){if(this.wo===null)return;const i=(this.wo-t)/this.he();this.Mu=Ge(this.bu).ju+i,this.fu=!0,this.zu()}i_(){this.wo!==null&&(this.wo=null,this.Xu())}Ku(){this.Gu(this.cn.rightOffset)}Gu(t,i=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(i)||i<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const v=this.Mu,O=performance.now();this.$i.Zn({Ju:F=>(F-O)/i>=1,Qu:F=>{const b=(F-O)/i;return b>=1?t:v+(t-v)*b}})}bt(t,i){this.fu=!0,this._u=t,this.uu.tu(t,i),this.zu()}tc(){return this.vu}nc(){return this.pu}sc(){return this.mu}Lu(){return this.ou||0}ec(t){const i=t.K_();this.Wu(this.o_/i),this.Mu=t.ui()-this.Lu(),this.zu(),this.fu=!0,this.$i.Fu(),this.$i.$h()}rc(){const t=this.Ou(),i=this.Bu();t!==null&&i!==null&&this.ec(new Ws(t,i+this.cn.rightOffset))}hc(t){const i=new Ws(t.from,t.to);this.ec(i)}qi(t){return this.ko.timeFormatter!==void 0?this.ko.timeFormatter(t.originalTime):this.U_.formatHorzItem(t.time)}Hu(){const{handleScroll:t,handleScale:i}=this.$i.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||i.axisDoubleClickReset.time||i.axisPressedMouseMove.time||i.mouseWheel||i.pinch)}Ou(){return this._u.length===0?null:0}Bu(){return this._u.length===0?null:this._u.length-1}lc(t){return(this.o_-1-t)/this.xu}Nu(t){const i=this.lc(t),v=this.Lu()+this.Mu-i;return Math.round(1e6*v)/1e6}Wu(t){const i=this.xu;this.xu=t,this.Iu(),i!==this.xu&&(this.fu=!0,this.ac())}Pu(){if(!this.fu)return;if(this.fu=!1,this.Ni())return void this.oc(ds.au());const t=this.Lu(),i=this.o_/this.xu,v=this.Mu+t,O=new Ws(v-i+1,v);this.oc(new ds(O))}Iu(){const t=this._c();if(this.xu<t&&(this.xu=t,this.fu=!0),this.o_!==0){const i=.5*this.o_;this.xu>i&&(this.xu=i,this.fu=!0)}}_c(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this._u.length!==0?this.o_/this._u.length:this.cn.minBarSpacing}zu(){const t=this.uc();this.Mu>t&&(this.Mu=t,this.fu=!0);const i=this.cc();i!==null&&this.Mu<i&&(this.Mu=i,this.fu=!0)}cc(){const t=this.Ou(),i=this.ou;return t===null||i===null?null:t-i-1+(this.cn.fixLeftEdge?this.o_/this.xu:Math.min(2,this._u.length))}uc(){return this.cn.fixRightEdge?0:this.o_/this.xu-Math.min(2,this._u.length)}Zu(){this.bu={he:this.he(),ju:this.ju()}}Xu(){this.bu=null}$u(t){let i=this.cu.get(t.weight);return i===void 0&&(i=new Nb(v=>this.dc(v),this.U_),this.cu.set(t.weight,i)),i.q_(t)}dc(t){return this.U_.formatTickmark(t,this.ko)}oc(t){const i=this.du;this.du=t,Jh(i.hu(),this.du.hu())||this.vu.m(),Jh(i.lu(),this.du.lu())||this.pu.m(),this.ac()}ac(){this.wu=null}yu(){this.ac(),this.cu.clear()}Su(){this.U_.updateFormatter(this.ko)}Cu(){if(!this.cn.fixLeftEdge)return;const t=this.Ou();if(t===null)return;const i=this.Zs();if(i===null)return;const v=i.Vs()-t;if(v<0){const O=this.Mu-v-1;this.Jn(O)}this.Iu()}Tu(){this.zu(),this.Iu()}}class Bb{X(t,i,v){t.useMediaCoordinateSpace(O=>this.K(O,i,v))}wl(t,i,v){t.useMediaCoordinateSpace(O=>this.fc(O,i,v))}fc(t,i,v){}}class kb extends Bb{constructor(t){super(),this.vc=new Map,this.zt=t}K(t){}fc(t){if(!this.zt.yt)return;const{context:i,mediaSize:v}=t;let O=0;for(const b of this.zt.mc){if(b.Kt.length===0)continue;i.font=b.R;const c=this.bc(i,b.Kt);c>v.width?b.Yu=v.width/c:b.Yu=1,O+=b.wc*b.Yu}let F=0;switch(this.zt.gc){case"top":F=0;break;case"center":F=Math.max((v.height-O)/2,0);break;case"bottom":F=Math.max(v.height-O,0)}i.fillStyle=this.zt.V;for(const b of this.zt.mc){i.save();let c=0;switch(this.zt.Mc){case"left":i.textAlign="left",c=b.wc/2;break;case"center":i.textAlign="center",c=v.width/2;break;case"right":i.textAlign="right",c=v.width-1-b.wc/2}i.translate(c,F),i.textBaseline="top",i.font=b.R,i.scale(b.Yu,b.Yu),i.fillText(b.Kt,0,b.xc),i.restore(),F+=b.wc*b.Yu}}bc(t,i){const v=this.Sc(t.font);let O=v.get(i);return O===void 0&&(O=t.measureText(i).width,v.set(i,O)),O}Sc(t){let i=this.vc.get(t);return i===void 0&&(i=new Map,this.vc.set(t,i)),i}}class zb{constructor(t){this.ft=!0,this.Ft={yt:!1,V:"",mc:[],gc:"center",Mc:"center"},this.Wt=new kb(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.W(),i=this.Ft;i.yt=t.visible,i.yt&&(i.V=t.color,i.Mc=t.horzAlign,i.gc=t.vertAlign,i.mc=[{Kt:t.text,R:vs(t.fontSize,t.fontFamily,t.fontStyle),wc:1.2*t.fontSize,xc:0,Yu:0}])}}class Wb extends Sl{constructor(t,i){super(),this.cn=i,this.wn=new zb(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var qh,tc,ec,nc,rc;(function(T){T[T.OnTouchEnd=0]="OnTouchEnd",T[T.OnNextTap=1]="OnNextTap"})(qh||(qh={}));class Fb{constructor(t,i,v){this.kc=[],this.yc=[],this.o_=0,this.Cc=null,this.Tc=new Vr,this.Pc=new Vr,this.Rc=null,this.Dc=t,this.cn=i,this.U_=v,this.Vc=new y1(this),this.kl=new Rb(this,i.timeScale,this.cn.localization,v),this.vt=new P1(this,i.crosshair),this.Oc=new Mb(i.crosshair),this.Bc=new Wb(this,i.watermark),this.Ac(),this.kc[0].M_(2e3),this.Ic=this.zc(0),this.Lc=this.zc(1)}Xl(){this.Ec(hi.es())}$h(){this.Ec(hi.ss())}aa(){this.Ec(new hi(1))}Kl(t){const i=this.Nc(t);this.Ec(i)}Fc(){return this.Cc}Wc(t){const i=this.Cc;this.Cc=t,i!==null&&this.Kl(i.jc),t!==null&&this.Kl(t.jc)}W(){return this.cn}Hh(t){so(this.cn,t),this.kc.forEach(i=>i.m_(t)),t.timeScale!==void 0&&this.kl.Hh(t.timeScale),t.localization!==void 0&&this.kl.ku(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Tc.m(),this.Ic=this.zc(0),this.Lc=this.zc(1),this.Xl()}Hc(t,i){if(t==="left")return void this.Hh({leftPriceScale:i});if(t==="right")return void this.Hh({rightPriceScale:i});const v=this.$c(t);v!==null&&(v.Dt.Hh(i),this.Tc.m())}$c(t){for(const i of this.kc){const v=i.b_(t);if(v!==null)return{Ht:i,Dt:v}}return null}St(){return this.kl}Uc(){return this.kc}qc(){return this.Bc}Yc(){return this.vt}Zc(){return this.Pc}Xc(t,i){t.zo(i),this.Fu()}x_(t){this.o_=t,this.kl.x_(this.o_),this.kc.forEach(i=>i.x_(t)),this.Fu()}Ac(t){const i=new Db(this.kl,this);t!==void 0?this.kc.splice(t,0,i):this.kc.push(i);const v=t===void 0?this.kc.length-1:t,O=hi.es();return O.Nn(v,{Fn:0,Wn:!0}),this.Ec(O),i}D_(t,i,v){t.D_(i,v)}V_(t,i,v){t.V_(i,v),this.Gl(),this.Ec(this.Kc(t,2))}O_(t,i){t.O_(i),this.Ec(this.Kc(t,2))}B_(t,i,v){i.Do()||t.B_(i,v)}A_(t,i,v){i.Do()||(t.A_(i,v),this.Gl(),this.Ec(this.Kc(t,2)))}I_(t,i){i.Do()||(t.I_(i),this.Ec(this.Kc(t,2)))}L_(t,i){t.L_(i),this.Ec(this.Kc(t,2))}Gc(t){this.kl.Ko(t)}Jc(t,i){const v=this.St();if(v.Ni()||i===0)return;const O=v.Hi();t=Math.max(1,Math.min(t,O)),v.Yu(t,i),this.Fu()}Qc(t){this.td(0),this.nd(t),this.sd()}ed(t){this.kl.Go(t),this.Fu()}rd(){this.kl.Jo(),this.$h()}td(t){this.kl.Qo(t)}nd(t){this.kl.t_(t),this.Fu()}sd(){this.kl.i_(),this.$h()}wt(){return this.yc}hd(t,i,v,O,F){this.vt.gn(t,i);let b=NaN,c=this.kl.Eu(t);const e=this.kl.Zs();e!==null&&(c=Math.min(Math.max(e.Vs(),c),e.ui()));const n=O.vn(),o=n.Ct();o!==null&&(b=n.pn(i,o)),b=this.Oc.Va(b,c,O),this.vt.kn(c,b,O),this.aa(),F||this.Pc.m(this.vt.xt(),{x:t,y:i},v)}ld(t,i,v){const O=v.vn(),F=O.Ct(),b=O.Rt(t,Ge(F)),c=this.kl.Da(i,!0),e=this.kl.It(Ge(c));this.hd(e,b,null,v,!0)}ad(t){this.Yc().Cn(),this.aa(),t||this.Pc.m(null,null,null)}Gl(){const t=this.vt.Ht();if(t!==null){const i=this.vt.xn(),v=this.vt.Sn();this.hd(i,v,null,t)}this.vt.Vn()}od(t,i,v){const O=this.kl.mn(0);i!==void 0&&v!==void 0&&this.kl.bt(i,v);const F=this.kl.mn(0),b=this.kl.Lu(),c=this.kl.Zs();if(c!==null&&O!==null&&F!==null){const e=c.Xr(b),n=this.U_.key(O)>this.U_.key(F),o=t!==null&&t>b&&!n,f=this.kl.W().allowShiftVisibleRangeOnWhitespaceReplacement,s=e&&(v!==void 0||f)&&this.kl.W().shiftVisibleRangeOnNewBar;if(o&&!s){const a=t-b;this.kl.Jn(this.kl.ju()-a)}}this.kl.qu(t)}ta(t){t!==null&&t.N_()}cr(t){const i=this.kc.find(v=>v.$o().includes(t));return i===void 0?null:i}Fu(){this.Bc.Vn(),this.kc.forEach(t=>t.N_()),this.Gl()}S(){this.kc.forEach(t=>t.S()),this.kc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}_d(){return this.Vc}mr(){return this.Vc.W()}w_(){return this.Tc}ud(t,i,v){const O=this.kc[0],F=this.dd(i,t,O,v);return this.yc.push(F),this.yc.length===1?this.Xl():this.$h(),F}fd(t){const i=this.cr(t),v=this.yc.indexOf(t);zo(v!==-1,"Series not found"),this.yc.splice(v,1),Ge(i).Yo(t),t.S&&t.S()}Zl(t,i){const v=Ge(this.cr(t));v.Yo(t);const O=this.$c(i);if(O===null){const F=t.Xi();v.Uo(t,i,F)}else{const F=O.Ht===v?t.Xi():void 0;O.Ht.Uo(t,i,F)}}rc(){const t=hi.ss();t.$n(),this.Ec(t)}vd(t){const i=hi.ss();i.Yn(t),this.Ec(i)}Kn(){const t=hi.ss();t.Kn(),this.Ec(t)}Gn(t){const i=hi.ss();i.Gn(t),this.Ec(i)}Jn(t){const i=hi.ss();i.Jn(t),this.Ec(i)}Zn(t){const i=hi.ss();i.Zn(t),this.Ec(i)}Un(){const t=hi.ss();t.Un(),this.Ec(t)}pd(){return this.cn.rightPriceScale.visible?"right":"left"}md(){return this.Lc}q(){return this.Ic}Bt(t){const i=this.Lc,v=this.Ic;if(i===v)return i;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Rc===null||this.Rc.Ts!==v||this.Rc.Ps!==i)this.Rc={Ts:v,Ps:i,bd:new Map};else{const F=this.Rc.bd.get(t);if(F!==void 0)return F}const O=function(F,b,c){const[e,n,o,f]=$s(F),[s,a,u,h]=$s(b),p=[Yi(e+c*(s-e)),Yi(n+c*(a-n)),Yi(o+c*(u-o)),Wc(f+c*(h-f))];return`rgba(${p[0]}, ${p[1]}, ${p[2]}, ${p[3]})`}(v,i,t/100);return this.Rc.bd.set(t,O),O}Kc(t,i){const v=new hi(i);if(t!==null){const O=this.kc.indexOf(t);v.Nn(O,{Fn:i})}return v}Nc(t,i){return i===void 0&&(i=2),this.Kc(this.cr(t),i)}Ec(t){this.Dc&&this.Dc(t),this.kc.forEach(i=>i.W_().Uh().bt())}dd(t,i,v,O){const F=new Ll(this,t,i,v,O),b=t.priceScaleId!==void 0?t.priceScaleId:this.pd();return v.Uo(F,b),Qa(b)||F.Hh(t),F}zc(t){const i=this.cn.layout;return i.background.type==="gradient"?t===0?i.background.topColor:i.background.bottomColor:i.background.color}}function gl(T){return!po(T)&&!Ys(T)}function id(T){return po(T)}(function(T){T[T.Disabled=0]="Disabled",T[T.Continuous=1]="Continuous",T[T.OnDataUpdate=2]="OnDataUpdate"})(tc||(tc={})),function(T){T[T.LastBar=0]="LastBar",T[T.LastVisible=1]="LastVisible"}(ec||(ec={})),function(T){T.Solid="solid",T.VerticalGradient="gradient"}(nc||(nc={})),function(T){T[T.Year=0]="Year",T[T.Month=1]="Month",T[T.DayOfMonth=2]="DayOfMonth",T[T.Time=3]="Time",T[T.TimeWithSeconds=4]="TimeWithSeconds"}(rc||(rc={}));const ic=T=>T.getUTCFullYear();function Ub(T,t,i){return t.replace(/yyyy/g,(v=>Lo(ic(v),4))(T)).replace(/yy/g,(v=>Lo(ic(v)%100,2))(T)).replace(/MMMM/g,((v,O)=>new Date(v.getUTCFullYear(),v.getUTCMonth(),1).toLocaleString(O,{month:"long"}))(T,i)).replace(/MMM/g,((v,O)=>new Date(v.getUTCFullYear(),v.getUTCMonth(),1).toLocaleString(O,{month:"short"}))(T,i)).replace(/MM/g,(v=>Lo((O=>O.getUTCMonth()+1)(v),2))(T)).replace(/dd/g,(v=>Lo((O=>O.getUTCDate())(v),2))(T))}class od{constructor(t="yyyy-MM-dd",i="default"){this.wd=t,this.gd=i}q_(t){return Ub(t,this.wd,this.gd)}}class $b{constructor(t){this.Md=t||"%h:%m:%s"}q_(t){return this.Md.replace("%h",Lo(t.getUTCHours(),2)).replace("%m",Lo(t.getUTCMinutes(),2)).replace("%s",Lo(t.getUTCSeconds(),2))}}const Gb={xd:"yyyy-MM-dd",Sd:"%h:%m:%s",kd:" ",yd:"default"};class Vb{constructor(t={}){const i=Object.assign(Object.assign({},Gb),t);this.Cd=new od(i.xd,i.yd),this.Td=new $b(i.Sd),this.Pd=i.kd}q_(t){return`${this.Cd.q_(t)}${this.Pd}${this.Td.q_(t)}`}}function Aa(T){return 60*T*60*1e3}function rl(T){return 60*T*1e3}const Ia=[{Rd:(oc=1,1e3*oc),Dd:10},{Rd:rl(1),Dd:20},{Rd:rl(5),Dd:21},{Rd:rl(30),Dd:22},{Rd:Aa(1),Dd:30},{Rd:Aa(3),Dd:31},{Rd:Aa(6),Dd:32},{Rd:Aa(12),Dd:33}];var oc;function sc(T,t){if(T.getUTCFullYear()!==t.getUTCFullYear())return 70;if(T.getUTCMonth()!==t.getUTCMonth())return 60;if(T.getUTCDate()!==t.getUTCDate())return 50;for(let i=Ia.length-1;i>=0;--i)if(Math.floor(t.getTime()/Ia[i].Rd)!==Math.floor(T.getTime()/Ia[i].Rd))return Ia[i].Dd;return 0}function il(T){let t=T;if(Ys(T)&&(t=Dl(T)),!gl(t))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{Vd:Math.round(i.getTime()/1e3),Od:t}}function ac(T){if(!id(T))throw new Error("time must be of type isUTCTimestamp");return{Vd:T}}function Dl(T){const t=new Date(T);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${T}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function uc(T){Ys(T.time)&&(T.time=Dl(T.time))}class lc{options(){return this.cn}setOptions(t){this.cn=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(i){i.forEach(uc)}(t):uc(t)}createConverterToInternalObj(t){return Ge(function(i){return i.length===0?null:gl(i[0].time)||Ys(i[0].time)?il:ac}(t))}key(t){return typeof t=="object"&&"Vd"in t?t.Vd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const i=t;return i.Od===void 0?new Date(1e3*i.Vd).getTime():new Date(Date.UTC(i.Od.year,i.Od.month-1,i.Od.day)).getTime()}convertHorzItemToInternal(t){return id(i=t)?ac(i):gl(i)?il(i):il(Dl(i));var i}updateFormatter(t){if(!this.cn)return;const i=t.dateFormat;this.cn.timeScale.timeVisible?this.Bd=new Vb({xd:i,Sd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",kd:"   ",yd:t.locale}):this.Bd=new od(i,t.locale)}formatHorzItem(t){const i=t;return this.Bd.q_(new Date(1e3*i.Vd))}formatTickmark(t,i){const v=function(F,b,c){switch(F){case 0:case 10:return b?c?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return b?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),O=this.cn.timeScale;if(O.tickMarkFormatter!==void 0){const F=O.tickMarkFormatter(t.originalTime,v,i.locale);if(F!==null)return F}return function(F,b,c){const e={};switch(b){case 0:e.year="numeric";break;case 1:e.month="short";break;case 2:e.day="numeric";break;case 3:e.hour12=!1,e.hour="2-digit",e.minute="2-digit";break;case 4:e.hour12=!1,e.hour="2-digit",e.minute="2-digit",e.second="2-digit"}const n=F.Od===void 0?new Date(1e3*F.Vd):new Date(Date.UTC(F.Od.year,F.Od.month-1,F.Od.day));return new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()).toLocaleString(c,e)}(t.time,v,i.locale)}maxTickMarkWeight(t){let i=t.reduce(Ib,t[0]).weight;return i>30&&i<50&&(i=30),i}fillWeightsForPoints(t,i){(function(v,O=0){if(v.length===0)return;let F=O===0?null:v[O-1].time.Vd,b=F!==null?new Date(1e3*F):null,c=0;for(let e=O;e<v.length;++e){const n=v[e],o=new Date(1e3*n.time.Vd);b!==null&&(n.timeWeight=sc(o,b)),c+=n.time.Vd-(F||n.time.Vd),F=n.time.Vd,b=o}if(O===0&&v.length>1){const e=Math.ceil(c/(v.length-1)),n=new Date(1e3*(v[0].time.Vd-e));v[0].timeWeight=sc(new Date(1e3*v[0].time.Vd),n)}})(t,i)}static Ad(t){return so({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const ps=typeof window<"u";function fc(){return!!ps&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function ol(){return!!ps&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function ml(T){return T+T%2}function sl(T,t){return T.Id-t.Id}function al(T,t,i){const v=(T.Id-t.Id)/(T.ot-t.ot);return Math.sign(v)*Math.min(Math.abs(v),i)}class Kb{constructor(t,i,v,O){this.zd=null,this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=0,this.jd=0,this.Hd=t,this.$d=i,this.Ud=v,this.rs=O}qd(t,i){if(this.zd!==null){if(this.zd.ot===i)return void(this.zd.Id=t);if(Math.abs(this.zd.Id-t)<this.rs)return}this.Nd=this.Ed,this.Ed=this.Ld,this.Ld=this.zd,this.zd={ot:i,Id:t}}Dr(t,i){if(this.zd===null||this.Ld===null||i-this.zd.ot>50)return;let v=0;const O=al(this.zd,this.Ld,this.$d),F=sl(this.zd,this.Ld),b=[O],c=[F];if(v+=F,this.Ed!==null){const n=al(this.Ld,this.Ed,this.$d);if(Math.sign(n)===Math.sign(O)){const o=sl(this.Ld,this.Ed);if(b.push(n),c.push(o),v+=o,this.Nd!==null){const f=al(this.Ed,this.Nd,this.$d);if(Math.sign(f)===Math.sign(O)){const s=sl(this.Ed,this.Nd);b.push(f),c.push(s),v+=s}}}}let e=0;for(let n=0;n<b.length;++n)e+=c[n]/v*b[n];Math.abs(e)<this.Hd||(this.Fd={Id:t,ot:i},this.jd=e,this.Wd=function(n,o){const f=Math.log(o);return Math.log(1*f/-n)/f}(Math.abs(e),this.Ud))}Qu(t){const i=Ge(this.Fd),v=t-i.ot;return i.Id+this.jd*(Math.pow(this.Ud,v)-1)/Math.log(this.Ud)}Ju(t){return this.Fd===null||this.Yd(t)===this.Wd}Yd(t){const i=t-Ge(this.Fd).ot;return Math.min(i,this.Wd)}}class Hb{constructor(t,i){this.Zd=void 0,this.Xd=void 0,this.Kd=void 0,this.en=!1,this.Gd=t,this.Jd=i,this.Qd()}bt(){this.Qd()}tf(){this.Zd&&this.Gd.removeChild(this.Zd),this.Xd&&this.Gd.removeChild(this.Xd),this.Zd=void 0,this.Xd=void 0}if(){return this.en!==this.nf()||this.Kd!==this.sf()}sf(){return Fc($s(this.Jd.W().layout.textColor))>160?"dark":"light"}nf(){return this.Jd.W().layout.attributionLogo}ef(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Qd(){this.if()&&(this.tf(),this.en=this.nf(),this.en&&(this.Kd=this.sf(),this.Xd=document.createElement("style"),this.Xd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Zd=document.createElement("a"),this.Zd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.ef()}`,this.Zd.title="Charting by TradingView",this.Zd.id="tv-attr-logo",this.Zd.target="_blank",this.Zd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Zd.toggleAttribute("data-dark",this.Kd==="dark"),this.Gd.appendChild(this.Xd),this.Gd.appendChild(this.Zd)))}}function Jo(T,t){const i=Ge(T.ownerDocument).createElement("canvas");T.appendChild(i);const v=r1(i,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(O,F)=>({width:Math.max(O.width,F.width),height:Math.max(O.height,F.height)})});return v.resizeCanvasElement(t),v}function qo(T){var t;T.width=1,T.height=1,(t=T.getContext("2d"))===null||t===void 0||t.clearRect(0,0,1,1)}function yl(T,t,i,v){T.wl&&T.wl(t,i,v)}function Fa(T,t,i,v){T.X(t,i,v)}function bl(T,t,i,v){const O=T(i,v);for(const F of O){const b=F.gt();b!==null&&t(b)}}function Yb(T){ps&&window.chrome!==void 0&&T.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class Nl{constructor(t,i,v){this.rf=0,this.hf=null,this.lf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.af=0,this._f=null,this.uf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.cf=null,this.df=!1,this.ff=null,this.vf=null,this.pf=!1,this.mf=!1,this.bf=!1,this.wf=null,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=0,this.Tf=!1,this.Pf=!1,this.Rf=!1,this.Df=0,this.Vf=null,this.Of=!ol(),this.Bf=O=>{this.Af(O)},this.If=O=>{if(this.zf(O)){const F=this.Lf(O);if(++this.af,this._f&&this.af>1){const{Ef:b}=this.Nf(vo(O),this.uf);b<30&&!this.bf&&this.Ff(F,this.jf.Wf),this.Hf()}}else{const F=this.Lf(O);if(++this.rf,this.hf&&this.rf>1){const{Ef:b}=this.Nf(vo(O),this.lf);b<5&&!this.mf&&this.$f(F,this.jf.Uf),this.qf()}}},this.Yf=t,this.jf=i,this.cn=v,this.Zf()}S(){this.wf!==null&&(this.wf(),this.wf=null),this.gf!==null&&(this.gf(),this.gf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Xf(),this.qf()}Kf(t){this.xf&&this.xf();const i=this.Gf.bind(this);if(this.xf=()=>{this.Yf.removeEventListener("mousemove",i)},this.Yf.addEventListener("mousemove",i),this.zf(t))return;const v=this.Lf(t);this.$f(v,this.jf.Jf),this.Of=!0}qf(){this.hf!==null&&clearTimeout(this.hf),this.rf=0,this.hf=null,this.lf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Hf(){this._f!==null&&clearTimeout(this._f),this.af=0,this._f=null,this.uf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Gf(t){if(this.Rf||this.vf!==null||this.zf(t))return;const i=this.Lf(t);this.$f(i,this.jf.Qf),this.Of=!0}tv(t){const i=ul(t.changedTouches,Ge(this.Vf));if(i===null||(this.Df=Ra(t),this.yf!==null)||this.Pf)return;this.Tf=!0;const v=this.Nf(vo(i),Ge(this.vf)),{iv:O,nv:F,Ef:b}=v;if(this.pf||!(b<5)){if(!this.pf){const c=.5*O,e=F>=c&&!this.cn.sv(),n=c>F&&!this.cn.ev();e||n||(this.Pf=!0),this.pf=!0,this.bf=!0,this.Xf(),this.Hf()}if(!this.Pf){const c=this.Lf(t,i);this.Ff(c,this.jf.rv),fs(t)}}}hv(t){if(t.button!==0)return;const i=this.Nf(vo(t),Ge(this.ff)),{Ef:v}=i;if(v>=5&&(this.mf=!0,this.qf()),this.mf){const O=this.Lf(t);this.$f(O,this.jf.lv)}}Nf(t,i){const v=Math.abs(i.nt-t.nt),O=Math.abs(i.st-t.st);return{iv:v,nv:O,Ef:v+O}}av(t){let i=ul(t.changedTouches,Ge(this.Vf));if(i===null&&t.touches.length===0&&(i=t.changedTouches[0]),i===null)return;this.Vf=null,this.Df=Ra(t),this.Xf(),this.vf=null,this.kf&&(this.kf(),this.kf=null);const v=this.Lf(t,i);if(this.Ff(v,this.jf.ov),++this.af,this._f&&this.af>1){const{Ef:O}=this.Nf(vo(i),this.uf);O<30&&!this.bf&&this.Ff(v,this.jf.Wf),this.Hf()}else this.bf||(this.Ff(v,this.jf._v),this.jf._v&&fs(t));this.af===0&&fs(t),t.touches.length===0&&this.df&&(this.df=!1,fs(t))}Af(t){if(t.button!==0)return;const i=this.Lf(t);if(this.ff=null,this.Rf=!1,this.Sf&&(this.Sf(),this.Sf=null),fc()&&this.Yf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Bf),!this.zf(t))if(this.$f(i,this.jf.uv),++this.rf,this.hf&&this.rf>1){const{Ef:v}=this.Nf(vo(t),this.lf);v<5&&!this.mf&&this.$f(i,this.jf.Uf),this.qf()}else this.mf||this.$f(i,this.jf.cv)}Xf(){this.cf!==null&&(clearTimeout(this.cf),this.cf=null)}dv(t){if(this.Vf!==null)return;const i=t.changedTouches[0];this.Vf=i.identifier,this.Df=Ra(t);const v=this.Yf.ownerDocument.documentElement;this.bf=!1,this.pf=!1,this.Pf=!1,this.vf=vo(i),this.kf&&(this.kf(),this.kf=null);{const F=this.tv.bind(this),b=this.av.bind(this);this.kf=()=>{v.removeEventListener("touchmove",F),v.removeEventListener("touchend",b)},v.addEventListener("touchmove",F,{passive:!1}),v.addEventListener("touchend",b,{passive:!1}),this.Xf(),this.cf=setTimeout(this.fv.bind(this,t),240)}const O=this.Lf(t,i);this.Ff(O,this.jf.vv),this._f||(this.af=0,this._f=setTimeout(this.Hf.bind(this),500),this.uf=vo(i))}pv(t){if(t.button!==0)return;const i=this.Yf.ownerDocument.documentElement;fc()&&i.addEventListener("mouseleave",this.Bf),this.mf=!1,this.ff=vo(t),this.Sf&&(this.Sf(),this.Sf=null);{const O=this.hv.bind(this),F=this.Af.bind(this);this.Sf=()=>{i.removeEventListener("mousemove",O),i.removeEventListener("mouseup",F)},i.addEventListener("mousemove",O),i.addEventListener("mouseup",F)}if(this.Rf=!0,this.zf(t))return;const v=this.Lf(t);this.$f(v,this.jf.mv),this.hf||(this.rf=0,this.hf=setTimeout(this.qf.bind(this),500),this.lf=vo(t))}Zf(){this.Yf.addEventListener("mouseenter",this.Kf.bind(this)),this.Yf.addEventListener("touchcancel",this.Xf.bind(this));{const t=this.Yf.ownerDocument,i=v=>{this.jf.bv&&(v.composed&&this.Yf.contains(v.composedPath()[0])||v.target&&this.Yf.contains(v.target)||this.jf.bv())};this.gf=()=>{t.removeEventListener("touchstart",i)},this.wf=()=>{t.removeEventListener("mousedown",i)},t.addEventListener("mousedown",i),t.addEventListener("touchstart",i,{passive:!0})}ol()&&(this.Mf=()=>{this.Yf.removeEventListener("dblclick",this.If)},this.Yf.addEventListener("dblclick",this.If)),this.Yf.addEventListener("mouseleave",this.wv.bind(this)),this.Yf.addEventListener("touchstart",this.dv.bind(this),{passive:!0}),Yb(this.Yf),this.Yf.addEventListener("mousedown",this.pv.bind(this)),this.gv(),this.Yf.addEventListener("touchmove",()=>{},{passive:!1})}gv(){this.jf.Mv===void 0&&this.jf.xv===void 0&&this.jf.Sv===void 0||(this.Yf.addEventListener("touchstart",t=>this.kv(t.touches),{passive:!0}),this.Yf.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.yf!==null&&this.jf.xv!==void 0){const i=hc(t.touches[0],t.touches[1])/this.Cf;this.jf.xv(this.yf,i),fs(t)}},{passive:!1}),this.Yf.addEventListener("touchend",t=>{this.kv(t.touches)}))}kv(t){t.length===1&&(this.Tf=!1),t.length!==2||this.Tf||this.df?this.yv():this.Cv(t)}Cv(t){const i=this.Yf.getBoundingClientRect()||{left:0,top:0};this.yf={nt:(t[0].clientX-i.left+(t[1].clientX-i.left))/2,st:(t[0].clientY-i.top+(t[1].clientY-i.top))/2},this.Cf=hc(t[0],t[1]),this.jf.Mv!==void 0&&this.jf.Mv(),this.Xf()}yv(){this.yf!==null&&(this.yf=null,this.jf.Sv!==void 0&&this.jf.Sv())}wv(t){if(this.xf&&this.xf(),this.zf(t)||!this.Of)return;const i=this.Lf(t);this.$f(i,this.jf.Tv),this.Of=!ol()}fv(t){const i=ul(t.touches,Ge(this.Vf));if(i===null)return;const v=this.Lf(t,i);this.Ff(v,this.jf.Pv),this.bf=!0,this.df=!0}zf(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:Ra(t)<this.Df+500}Ff(t,i){i&&i.call(this.jf,t)}$f(t,i){i&&i.call(this.jf,t)}Lf(t,i){const v=i||t,O=this.Yf.getBoundingClientRect()||{left:0,top:0};return{clientX:v.clientX,clientY:v.clientY,pageX:v.pageX,pageY:v.pageY,screenX:v.screenX,screenY:v.screenY,localX:v.clientX-O.left,localY:v.clientY-O.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Rv:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Dv:t.type,Vv:v.target,Ov:t.view,Bv:()=>{t.type!=="touchstart"&&fs(t)}}}}function hc(T,t){const i=T.clientX-t.clientX,v=T.clientY-t.clientY;return Math.sqrt(i*i+v*v)}function fs(T){T.cancelable&&T.preventDefault()}function vo(T){return{nt:T.pageX,st:T.pageY}}function Ra(T){return T.timeStamp||performance.now()}function ul(T,t){for(let i=0;i<T.length;++i)if(T[i].identifier===t)return T[i];return null}function Ba(T){return{jc:T.jc,Av:{wr:T.Iv.externalId},zv:T.Iv.cursorStyle}}function Xb(T,t,i){for(const v of T){const O=v.gt();if(O!==null&&O.br){const F=O.br(t,i);if(F!==null)return{Ov:v,Av:F}}}return null}function ll(T,t){return i=>{var v,O,F,b;return((O=(v=i.Dt())===null||v===void 0?void 0:v.Ta())!==null&&O!==void 0?O:"")!==t?[]:(b=(F=i.ca)===null||F===void 0?void 0:F.call(i,T))!==null&&b!==void 0?b:[]}}function cc(T,t,i,v){if(!T.length)return;let O=0;const F=i/2,b=T[0].At(v,!0);let c=t===1?F-(T[0].Vi()-b/2):T[0].Vi()-b/2-F;c=Math.max(0,c);for(let e=1;e<T.length;e++){const n=T[e],o=T[e-1],f=o.At(v,!1),s=n.Vi(),a=o.Vi();if(t===1?s>a-f:s<a+f){const u=a-f*t;n.Oi(u);const h=u-t*f/2;if((t===1?h<0:h>i)&&c>0){const p=t===1?-1-h:h-i,y=Math.min(p,c);for(let w=O;w<T.length;w++)T[w].Oi(T[w].Vi()+t*y);c-=y}}else O=e,c=t===1?a-f-s:s-(a+f)}}class dc{constructor(t,i,v,O){this.Li=null,this.Lv=null,this.Ev=!1,this.Nv=new Ks(200),this.Jr=null,this.Fv=0,this.Wv=!1,this.jv=()=>{this.Wv||this.tn.Hv().$t().$h()},this.$v=()=>{this.Wv||this.tn.Hv().$t().$h()},this.tn=t,this.cn=i,this.So=i.layout,this.Vc=v,this.Uv=O==="left",this.qv=ll("normal",O),this.Yv=ll("top",O),this.Zv=ll("bottom",O),this.Xv=document.createElement("div"),this.Xv.style.height="100%",this.Xv.style.overflow="hidden",this.Xv.style.width="25px",this.Xv.style.left="0",this.Xv.style.position="relative",this.Kv=Jo(this.Xv,Dr({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const F=this.Kv.canvasElement;F.style.position="absolute",F.style.zIndex="1",F.style.left="0",F.style.top="0",this.Gv=Jo(this.Xv,Dr({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const b=this.Gv.canvasElement;b.style.position="absolute",b.style.zIndex="2",b.style.left="0",b.style.top="0";const c={mv:this.Jv.bind(this),vv:this.Jv.bind(this),lv:this.Qv.bind(this),rv:this.Qv.bind(this),bv:this.tp.bind(this),uv:this.ip.bind(this),ov:this.ip.bind(this),Uf:this.np.bind(this),Wf:this.np.bind(this),Jf:this.sp.bind(this),Tv:this.ep.bind(this)};this.rp=new Nl(this.Gv.canvasElement,c,{sv:()=>!this.cn.handleScroll.vertTouchDrag,ev:()=>!0})}S(){this.rp.S(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),qo(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),qo(this.Kv.canvasElement),this.Kv.dispose(),this.Li!==null&&this.Li.Xo().p(this),this.Li=null}hp(){return this.Xv}P(){return this.So.fontSize}lp(){const t=this.Vc.W();return this.Jr!==t.R&&(this.Nv.ir(),this.Jr=t.R),t}ap(){if(this.Li===null)return 0;let t=0;const i=this.lp(),v=Ge(this.Kv.canvasElement.getContext("2d"));v.save();const O=this.Li.ja();v.font=this.op(),O.length>0&&(t=Math.max(this.Nv.xi(v,O[0].no),this.Nv.xi(v,O[O.length-1].no)));const F=this._p();for(let e=F.length;e--;){const n=this.Nv.xi(v,F[e].Kt());n>t&&(t=n)}const b=this.Li.Ct();if(b!==null&&this.Lv!==null){const e=this.Li.pn(1,b),n=this.Li.pn(this.Lv.height-2,b);t=Math.max(t,this.Nv.xi(v,this.Li.Fi(Math.floor(Math.min(e,n))+.11111111111111,b)),this.Nv.xi(v,this.Li.Fi(Math.ceil(Math.max(e,n))-.11111111111111,b)))}v.restore();const c=t||34;return ml(Math.ceil(i.C+i.T+i.A+i.I+5+c))}up(t){this.Lv!==null&&jo(this.Lv,t)||(this.Lv=t,this.Wv=!0,this.Kv.resizeCanvasElement(t),this.Gv.resizeCanvasElement(t),this.Wv=!1,this.Xv.style.width=`${t.width}px`,this.Xv.style.height=`${t.height}px`)}cp(){return Ge(this.Lv).width}Gi(t){this.Li!==t&&(this.Li!==null&&this.Li.Xo().p(this),this.Li=t,t.Xo().l(this.do.bind(this),this))}Dt(){return this.Li}ir(){const t=this.tn.dp();this.tn.Hv().$t().L_(t,Ge(this.Dt()))}fp(t){if(this.Lv===null)return;if(t!==1){this.vp(),this.Kv.applySuggestedBitmapSize();const v=Qo(this.Kv);v!==null&&(v.useBitmapCoordinateSpace(O=>{this.pp(O),this.Ae(O)}),this.tn.mp(v,this.Zv),this.bp(v),this.tn.mp(v,this.qv),this.wp(v))}this.Gv.applySuggestedBitmapSize();const i=Qo(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(({context:v,bitmapSize:O})=>{v.clearRect(0,0,O.width,O.height)}),this.gp(i),this.tn.mp(i,this.Yv))}Mp(){return this.Kv.bitmapSize}xp(t,i,v){const O=this.Mp();O.width>0&&O.height>0&&t.drawImage(this.Kv.canvasElement,i,v)}bt(){var t;(t=this.Li)===null||t===void 0||t.ja()}Jv(t){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const i=this.tn.Hv().$t(),v=this.tn.dp();this.Ev=!0,i.D_(v,this.Li,t.localY)}Qv(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const i=this.tn.Hv().$t(),v=this.tn.dp(),O=this.Li;i.V_(v,O,t.localY)}tp(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.tn.Hv().$t(),i=this.tn.dp(),v=this.Li;this.Ev&&(this.Ev=!1,t.O_(i,v))}ip(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const i=this.tn.Hv().$t(),v=this.tn.dp();this.Ev=!1,i.O_(v,this.Li)}np(t){this.cn.handleScale.axisDoubleClickReset.price&&this.ir()}sp(t){this.Li!==null&&(!this.tn.Hv().$t().W().handleScale.axisPressedMouseMove.price||this.Li.gh()||this.Li.Vo()||this.Sp(1))}ep(t){this.Sp(0)}_p(){const t=[],i=this.Li===null?void 0:this.Li;return(v=>{for(let O=0;O<v.length;++O){const F=v[O].Rn(this.tn.dp(),i);for(let b=0;b<F.length;b++)t.push(F[b])}})(this.tn.dp().$o()),t}pp({context:t,bitmapSize:i}){const{width:v,height:O}=i,F=this.tn.dp().$t(),b=F.q(),c=F.md();b===c?Xa(t,0,0,v,O,b):Uc(t,0,0,v,O,b,c)}Ae({context:t,bitmapSize:i,horizontalPixelRatio:v}){if(this.Lv===null||this.Li===null||!this.Li.W().borderVisible)return;t.fillStyle=this.Li.W().borderColor;const O=Math.max(1,Math.floor(this.lp().C*v));let F;F=this.Uv?i.width-O:0,t.fillRect(F,0,O,i.height)}bp(t){if(this.Lv===null||this.Li===null)return;const i=this.Li.ja(),v=this.Li.W(),O=this.lp(),F=this.Uv?this.Lv.width-O.T:0;v.borderVisible&&v.ticksVisible&&t.useBitmapCoordinateSpace(({context:b,horizontalPixelRatio:c,verticalPixelRatio:e})=>{b.fillStyle=v.borderColor;const n=Math.max(1,Math.floor(e)),o=Math.floor(.5*e),f=Math.round(O.T*c);b.beginPath();for(const s of i)b.rect(Math.floor(F*c),Math.round(s.La*e)-o,f,n);b.fill()}),t.useMediaCoordinateSpace(({context:b})=>{var c;b.font=this.op(),b.fillStyle=(c=v.textColor)!==null&&c!==void 0?c:this.So.textColor,b.textAlign=this.Uv?"right":"left",b.textBaseline="middle";const e=this.Uv?Math.round(F-O.A):Math.round(F+O.T+O.A),n=i.map(o=>this.Nv.Mi(b,o.no));for(let o=i.length;o--;){const f=i[o];b.fillText(f.no,e,f.La+n[o])}})}vp(){if(this.Lv===null||this.Li===null)return;const t=[],i=this.Li.$o().slice(),v=this.tn.dp(),O=this.lp();this.Li===v.vr()&&this.tn.dp().$o().forEach(b=>{v.dr(b)&&i.push(b)});const F=this.Li;i.forEach(b=>{b.Rn(v,F).forEach(c=>{c.Oi(null),c.Bi()&&t.push(c)})}),t.forEach(b=>b.Oi(b.ki())),this.Li.W().alignLabels&&this.kp(t,O)}kp(t,i){if(this.Lv===null)return;const v=this.Lv.height/2,O=t.filter(b=>b.ki()<=v),F=t.filter(b=>b.ki()>v);O.sort((b,c)=>c.ki()-b.ki()),F.sort((b,c)=>b.ki()-c.ki());for(const b of t){const c=Math.floor(b.At(i)/2),e=b.ki();e>-c&&e<c&&b.Oi(c),e>this.Lv.height-c&&e<this.Lv.height+c&&b.Oi(this.Lv.height-c)}cc(O,1,this.Lv.height,i),cc(F,-1,this.Lv.height,i)}wp(t){if(this.Lv===null)return;const i=this._p(),v=this.lp(),O=this.Uv?"right":"left";i.forEach(F=>{F.Ai()&&F.gt(Ge(this.Li)).X(t,v,this.Nv,O)})}gp(t){if(this.Lv===null||this.Li===null)return;const i=this.tn.Hv().$t(),v=[],O=this.tn.dp(),F=i.Yc().Rn(O,this.Li);F.length&&v.push(F);const b=this.lp(),c=this.Uv?"right":"left";v.forEach(e=>{e.forEach(n=>{n.gt(Ge(this.Li)).X(t,b,this.Nv,c)})})}Sp(t){this.Xv.style.cursor=t===1?"ns-resize":"default"}do(){const t=this.ap();this.Fv<t&&this.tn.Hv().$t().Xl(),this.Fv=t}op(){return vs(this.So.fontSize,this.So.fontFamily)}}function jb(T,t){var i,v;return(v=(i=T._a)===null||i===void 0?void 0:i.call(T,t))!==null&&v!==void 0?v:[]}function ka(T,t){var i,v;return(v=(i=T.Pn)===null||i===void 0?void 0:i.call(T,t))!==null&&v!==void 0?v:[]}function Qb(T,t){var i,v;return(v=(i=T.Ji)===null||i===void 0?void 0:i.call(T,t))!==null&&v!==void 0?v:[]}function Zb(T,t){var i,v;return(v=(i=T.la)===null||i===void 0?void 0:i.call(T,t))!==null&&v!==void 0?v:[]}class Al{constructor(t,i){this.Lv=Dr({width:0,height:0}),this.yp=null,this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=!1,this.Dp=new Vr,this.Vp=new Vr,this.Op=0,this.Bp=!1,this.Ap=null,this.Ip=!1,this.zp=null,this.Lp=null,this.Wv=!1,this.jv=()=>{this.Wv||this.Ep===null||this.$i().$h()},this.$v=()=>{this.Wv||this.Ep===null||this.$i().$h()},this.Jd=t,this.Ep=i,this.Ep.F_().l(this.Np.bind(this),this,!0),this.Fp=document.createElement("td"),this.Fp.style.padding="0",this.Fp.style.position="relative";const v=document.createElement("div");v.style.width="100%",v.style.height="100%",v.style.position="relative",v.style.overflow="hidden",this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Fp.appendChild(v),this.Kv=Jo(v,Dr({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const O=this.Kv.canvasElement;O.style.position="absolute",O.style.zIndex="1",O.style.left="0",O.style.top="0",this.Gv=Jo(v,Dr({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const F=this.Gv.canvasElement;F.style.position="absolute",F.style.zIndex="2",F.style.left="0",F.style.top="0",this.Hp=document.createElement("tr"),this.Hp.appendChild(this.Wp),this.Hp.appendChild(this.Fp),this.Hp.appendChild(this.jp),this.$p(),this.rp=new Nl(this.Gv.canvasElement,this,{sv:()=>this.Ap===null&&!this.Jd.W().handleScroll.vertTouchDrag,ev:()=>this.Ap===null&&!this.Jd.W().handleScroll.horzTouchDrag})}S(){this.yp!==null&&this.yp.S(),this.Cp!==null&&this.Cp.S(),this.Tp=null,this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),qo(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),qo(this.Kv.canvasElement),this.Kv.dispose(),this.Ep!==null&&this.Ep.F_().p(this),this.rp.S()}dp(){return Ge(this.Ep)}Up(t){var i,v;this.Ep!==null&&this.Ep.F_().p(this),this.Ep=t,this.Ep!==null&&this.Ep.F_().l(Al.prototype.Np.bind(this),this,!0),this.$p(),this.Jd.qp().indexOf(this)===this.Jd.qp().length-1?(this.Tp=(i=this.Tp)!==null&&i!==void 0?i:new Hb(this.Fp,this.Jd),this.Tp.bt()):((v=this.Tp)===null||v===void 0||v.tf(),this.Tp=null)}Hv(){return this.Jd}hp(){return this.Hp}$p(){if(this.Ep!==null&&(this.Yp(),this.$i().wt().length!==0)){if(this.yp!==null){const t=this.Ep.P_();this.yp.Gi(Ge(t))}if(this.Cp!==null){const t=this.Ep.R_();this.Cp.Gi(Ge(t))}}}Zp(){this.yp!==null&&this.yp.bt(),this.Cp!==null&&this.Cp.bt()}g_(){return this.Ep!==null?this.Ep.g_():0}M_(t){this.Ep&&this.Ep.M_(t)}Jf(t){if(!this.Ep)return;this.Xp();const i=t.localX,v=t.localY;this.Kp(i,v,t)}mv(t){this.Xp(),this.Gp(),this.Kp(t.localX,t.localY,t)}Qf(t){var i;if(!this.Ep)return;this.Xp();const v=t.localX,O=t.localY;this.Kp(v,O,t);const F=this.br(v,O);this.Jd.Jp((i=F==null?void 0:F.zv)!==null&&i!==void 0?i:null),this.$i().Wc(F&&{jc:F.jc,Av:F.Av})}cv(t){this.Ep!==null&&(this.Xp(),this.Qp(t))}Uf(t){this.Ep!==null&&this.tm(this.Vp,t)}Wf(t){this.Uf(t)}lv(t){this.Xp(),this.im(t),this.Kp(t.localX,t.localY,t)}uv(t){this.Ep!==null&&(this.Xp(),this.Bp=!1,this.nm(t))}_v(t){this.Ep!==null&&this.Qp(t)}Pv(t){if(this.Bp=!0,this.Ap===null){const i={x:t.localX,y:t.localY};this.sm(i,i,t)}}Tv(t){this.Ep!==null&&(this.Xp(),this.Ep.$t().Wc(null),this.rm())}hm(){return this.Dp}lm(){return this.Vp}Mv(){this.Op=1,this.$i().Un()}xv(t,i){if(!this.Jd.W().handleScale.pinch)return;const v=5*(i-this.Op);this.Op=i,this.$i().Jc(t.nt,v)}vv(t){this.Bp=!1,this.Ip=this.Ap!==null,this.Gp();const i=this.$i().Yc();this.Ap!==null&&i.yt()&&(this.zp={x:i.Yt(),y:i.Zt()},this.Ap={x:t.localX,y:t.localY})}rv(t){if(this.Ep===null)return;const i=t.localX,v=t.localY;if(this.Ap===null)this.im(t);else{this.Ip=!1;const O=Ge(this.zp),F=O.x+(i-this.Ap.x),b=O.y+(v-this.Ap.y);this.Kp(F,b,t)}}ov(t){this.Hv().W().trackingMode.exitMode===0&&(this.Ip=!0),this.am(),this.nm(t)}br(t,i){const v=this.Ep;return v===null?null:function(O,F,b){const c=O.$o(),e=function(n,o,f){var s,a;let u,h;for(const w of n){const d=(a=(s=w.fa)===null||s===void 0?void 0:s.call(w,o,f))!==null&&a!==void 0?a:[];for(const M of d)p=M.zOrder,(!(y=u==null?void 0:u.zOrder)||p==="top"&&y!=="top"||p==="normal"&&y==="bottom")&&(u=M,h=w)}var p,y;return u&&h?{Iv:u,jc:h}:null}(c,F,b);if((e==null?void 0:e.Iv.zOrder)==="top")return Ba(e);for(const n of c){if(e&&e.jc===n&&e.Iv.zOrder!=="bottom"&&!e.Iv.isBackground)return Ba(e);const o=Xb(n.Pn(O),F,b);if(o!==null)return{jc:n,Ov:o.Ov,Av:o.Av};if(e&&e.jc===n&&e.Iv.zOrder!=="bottom"&&e.Iv.isBackground)return Ba(e)}return e!=null&&e.Iv?Ba(e):null}(v,t,i)}om(t,i){Ge(i==="left"?this.yp:this.Cp).up(Dr({width:t,height:this.Lv.height}))}_m(){return this.Lv}up(t){jo(this.Lv,t)||(this.Lv=t,this.Wv=!0,this.Kv.resizeCanvasElement(t),this.Gv.resizeCanvasElement(t),this.Wv=!1,this.Fp.style.width=t.width+"px",this.Fp.style.height=t.height+"px")}um(){const t=Ge(this.Ep);t.T_(t.P_()),t.T_(t.R_());for(const i of t.Oa())if(t.dr(i)){const v=i.Dt();v!==null&&t.T_(v),i.Vn()}}Mp(){return this.Kv.bitmapSize}xp(t,i,v){const O=this.Mp();O.width>0&&O.height>0&&t.drawImage(this.Kv.canvasElement,i,v)}fp(t){if(t===0||this.Ep===null)return;if(t>1&&this.um(),this.yp!==null&&this.yp.fp(t),this.Cp!==null&&this.Cp.fp(t),t!==1){this.Kv.applySuggestedBitmapSize();const v=Qo(this.Kv);v!==null&&(v.useBitmapCoordinateSpace(O=>{this.pp(O)}),this.Ep&&(this.dm(v,jb),this.fm(v),this.vm(v),this.dm(v,ka),this.dm(v,Qb)))}this.Gv.applySuggestedBitmapSize();const i=Qo(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(({context:v,bitmapSize:O})=>{v.clearRect(0,0,O.width,O.height)}),this.pm(i),this.dm(i,Zb))}bm(){return this.yp}wm(){return this.Cp}mp(t,i){this.dm(t,i)}Np(){this.Ep!==null&&this.Ep.F_().p(this),this.Ep=null}Qp(t){this.tm(this.Dp,t)}tm(t,i){const v=i.localX,O=i.localY;t.M()&&t.m(this.$i().St().Eu(v),{x:v,y:O},i)}pp({context:t,bitmapSize:i}){const{width:v,height:O}=i,F=this.$i(),b=F.q(),c=F.md();b===c?Xa(t,0,0,v,O,c):Uc(t,0,0,v,O,b,c)}fm(t){const i=Ge(this.Ep).W_().Uh().gt();i!==null&&i.X(t,!1)}vm(t){const i=this.$i().qc();this.gm(t,ka,yl,i),this.gm(t,ka,Fa,i)}pm(t){this.gm(t,ka,Fa,this.$i().Yc())}dm(t,i){const v=Ge(this.Ep).$o();for(const O of v)this.gm(t,i,yl,O);for(const O of v)this.gm(t,i,Fa,O)}gm(t,i,v,O){const F=Ge(this.Ep),b=F.$t().Fc(),c=b!==null&&b.jc===O,e=b!==null&&c&&b.Av!==void 0?b.Av.gr:void 0;bl(i,n=>v(n,t,c,e),O,F)}Yp(){if(this.Ep===null)return;const t=this.Jd,i=this.Ep.P_().W().visible,v=this.Ep.R_().W().visible;i||this.yp===null||(this.Wp.removeChild(this.yp.hp()),this.yp.S(),this.yp=null),v||this.Cp===null||(this.jp.removeChild(this.Cp.hp()),this.Cp.S(),this.Cp=null);const O=t.$t()._d();i&&this.yp===null&&(this.yp=new dc(this,t.W(),O,"left"),this.Wp.appendChild(this.yp.hp())),v&&this.Cp===null&&(this.Cp=new dc(this,t.W(),O,"right"),this.jp.appendChild(this.Cp.hp()))}Mm(t){return t.Rv&&this.Bp||this.Ap!==null}xm(t){return Math.max(0,Math.min(t,this.Lv.width-1))}Sm(t){return Math.max(0,Math.min(t,this.Lv.height-1))}Kp(t,i,v){this.$i().hd(this.xm(t),this.Sm(i),v,Ge(this.Ep))}rm(){this.$i().ad()}am(){this.Ip&&(this.Ap=null,this.rm())}sm(t,i,v){this.Ap=t,this.Ip=!1,this.Kp(i.x,i.y,v);const O=this.$i().Yc();this.zp={x:O.Yt(),y:O.Zt()}}$i(){return this.Jd.$t()}nm(t){if(!this.Rp)return;const i=this.$i(),v=this.dp();if(i.I_(v,v.vn()),this.Pp=null,this.Rp=!1,i.sd(),this.Lp!==null){const O=performance.now(),F=i.St();this.Lp.Dr(F.ju(),O),this.Lp.Ju(O)||i.Zn(this.Lp)}}Xp(){this.Ap=null}Gp(){if(this.Ep){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Ge(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Ep.vn().Ni()&&this.$i().St().Ni()}}im(t){if(this.Ep===null)return;const i=this.$i(),v=i.St();if(v.Ni())return;const O=this.Jd.W(),F=O.handleScroll,b=O.kineticScroll;if((!F.pressedMouseMove||t.Rv)&&(!F.horzTouchDrag&&!F.vertTouchDrag||!t.Rv))return;const c=this.Ep.vn(),e=performance.now();if(this.Pp!==null||this.Mm(t)||(this.Pp={x:t.clientX,y:t.clientY,Vd:e,km:t.localX,ym:t.localY}),this.Pp!==null&&!this.Rp&&(this.Pp.x!==t.clientX||this.Pp.y!==t.clientY)){if(t.Rv&&b.touch||!t.Rv&&b.mouse){const n=v.he();this.Lp=new Kb(.2/n,7/n,.997,15/n),this.Lp.qd(v.ju(),this.Pp.Vd)}else this.Lp=null;c.Ni()||i.B_(this.Ep,c,t.localY),i.td(t.localX),this.Rp=!0}this.Rp&&(c.Ni()||i.A_(this.Ep,c,t.localY),i.nd(t.localX),this.Lp!==null&&this.Lp.qd(v.ju(),e))}}class vc{constructor(t,i,v,O,F){this.ft=!0,this.Lv=Dr({width:0,height:0}),this.jv=()=>this.fp(3),this.Uv=t==="left",this.Vc=v._d,this.cn=i,this.Cm=O,this.Tm=F,this.Xv=document.createElement("div"),this.Xv.style.width="25px",this.Xv.style.height="100%",this.Xv.style.overflow="hidden",this.Kv=Jo(this.Xv,Dr({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv)}S(){this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),qo(this.Kv.canvasElement),this.Kv.dispose()}hp(){return this.Xv}_m(){return this.Lv}up(t){jo(this.Lv,t)||(this.Lv=t,this.Kv.resizeCanvasElement(t),this.Xv.style.width=`${t.width}px`,this.Xv.style.height=`${t.height}px`,this.ft=!0)}fp(t){if(t<3&&!this.ft||this.Lv.width===0||this.Lv.height===0)return;this.ft=!1,this.Kv.applySuggestedBitmapSize();const i=Qo(this.Kv);i!==null&&i.useBitmapCoordinateSpace(v=>{this.pp(v),this.Ae(v)})}Mp(){return this.Kv.bitmapSize}xp(t,i,v){const O=this.Mp();O.width>0&&O.height>0&&t.drawImage(this.Kv.canvasElement,i,v)}Ae({context:t,bitmapSize:i,horizontalPixelRatio:v,verticalPixelRatio:O}){if(!this.Cm())return;t.fillStyle=this.cn.timeScale.borderColor;const F=Math.floor(this.Vc.W().C*v),b=Math.floor(this.Vc.W().C*O),c=this.Uv?i.width-F:0;t.fillRect(c,0,F,b)}pp({context:t,bitmapSize:i}){Xa(t,0,0,i.width,i.height,this.Tm())}}function Il(T){return t=>{var i,v;return(v=(i=t.da)===null||i===void 0?void 0:i.call(t,T))!==null&&v!==void 0?v:[]}}const Jb=Il("normal"),qb=Il("top"),tw=Il("bottom");class ew{constructor(t,i){this.Pm=null,this.Rm=null,this.k=null,this.Dm=!1,this.Lv=Dr({width:0,height:0}),this.Vm=new Vr,this.Nv=new Ks(5),this.Wv=!1,this.jv=()=>{this.Wv||this.Jd.$t().$h()},this.$v=()=>{this.Wv||this.Jd.$t().$h()},this.Jd=t,this.U_=i,this.cn=t.W().layout,this.Zd=document.createElement("tr"),this.Om=document.createElement("td"),this.Om.style.padding="0",this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Xv=document.createElement("td"),this.Xv.style.height="25px",this.Xv.style.padding="0",this.Am=document.createElement("div"),this.Am.style.width="100%",this.Am.style.height="100%",this.Am.style.position="relative",this.Am.style.overflow="hidden",this.Xv.appendChild(this.Am),this.Kv=Jo(this.Am,Dr({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const v=this.Kv.canvasElement;v.style.position="absolute",v.style.zIndex="1",v.style.left="0",v.style.top="0",this.Gv=Jo(this.Am,Dr({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const O=this.Gv.canvasElement;O.style.position="absolute",O.style.zIndex="2",O.style.left="0",O.style.top="0",this.Zd.appendChild(this.Om),this.Zd.appendChild(this.Xv),this.Zd.appendChild(this.Bm),this.Im(),this.Jd.$t().w_().l(this.Im.bind(this),this),this.rp=new Nl(this.Gv.canvasElement,this,{sv:()=>!0,ev:()=>!this.Jd.W().handleScroll.horzTouchDrag})}S(){this.rp.S(),this.Pm!==null&&this.Pm.S(),this.Rm!==null&&this.Rm.S(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),qo(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),qo(this.Kv.canvasElement),this.Kv.dispose()}hp(){return this.Zd}zm(){return this.Pm}Lm(){return this.Rm}mv(t){if(this.Dm)return;this.Dm=!0;const i=this.Jd.$t();!i.St().Ni()&&this.Jd.W().handleScale.axisPressedMouseMove.time&&i.Gc(t.localX)}vv(t){this.mv(t)}bv(){const t=this.Jd.$t();!t.St().Ni()&&this.Dm&&(this.Dm=!1,this.Jd.W().handleScale.axisPressedMouseMove.time&&t.rd())}lv(t){const i=this.Jd.$t();!i.St().Ni()&&this.Jd.W().handleScale.axisPressedMouseMove.time&&i.ed(t.localX)}rv(t){this.lv(t)}uv(){this.Dm=!1;const t=this.Jd.$t();t.St().Ni()&&!this.Jd.W().handleScale.axisPressedMouseMove.time||t.rd()}ov(){this.uv()}Uf(){this.Jd.W().handleScale.axisDoubleClickReset.time&&this.Jd.$t().Kn()}Wf(){this.Uf()}Jf(){this.Jd.$t().W().handleScale.axisPressedMouseMove.time&&this.Sp(1)}Tv(){this.Sp(0)}_m(){return this.Lv}Em(){return this.Vm}Nm(t,i,v){jo(this.Lv,t)||(this.Lv=t,this.Wv=!0,this.Kv.resizeCanvasElement(t),this.Gv.resizeCanvasElement(t),this.Wv=!1,this.Xv.style.width=`${t.width}px`,this.Xv.style.height=`${t.height}px`,this.Vm.m(t)),this.Pm!==null&&this.Pm.up(Dr({width:i,height:t.height})),this.Rm!==null&&this.Rm.up(Dr({width:v,height:t.height}))}Fm(){const t=this.Wm();return Math.ceil(t.C+t.T+t.P+t.L+t.B+t.jm)}bt(){this.Jd.$t().St().ja()}Mp(){return this.Kv.bitmapSize}xp(t,i,v){const O=this.Mp();O.width>0&&O.height>0&&t.drawImage(this.Kv.canvasElement,i,v)}fp(t){if(t===0)return;if(t!==1){this.Kv.applySuggestedBitmapSize();const v=Qo(this.Kv);v!==null&&(v.useBitmapCoordinateSpace(O=>{this.pp(O),this.Ae(O),this.Hm(v,tw)}),this.bp(v),this.Hm(v,Jb)),this.Pm!==null&&this.Pm.fp(t),this.Rm!==null&&this.Rm.fp(t)}this.Gv.applySuggestedBitmapSize();const i=Qo(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(({context:v,bitmapSize:O})=>{v.clearRect(0,0,O.width,O.height)}),this.$m([...this.Jd.$t().wt(),this.Jd.$t().Yc()],i),this.Hm(i,qb))}Hm(t,i){const v=this.Jd.$t().wt();for(const O of v)bl(i,F=>yl(F,t,!1,void 0),O,void 0);for(const O of v)bl(i,F=>Fa(F,t,!1,void 0),O,void 0)}pp({context:t,bitmapSize:i}){Xa(t,0,0,i.width,i.height,this.Jd.$t().md())}Ae({context:t,bitmapSize:i,verticalPixelRatio:v}){if(this.Jd.W().timeScale.borderVisible){t.fillStyle=this.Um();const O=Math.max(1,Math.floor(this.Wm().C*v));t.fillRect(0,0,i.width,O)}}bp(t){const i=this.Jd.$t().St(),v=i.ja();if(!v||v.length===0)return;const O=this.U_.maxTickMarkWeight(v),F=this.Wm(),b=i.W();b.borderVisible&&b.ticksVisible&&t.useBitmapCoordinateSpace(({context:c,horizontalPixelRatio:e,verticalPixelRatio:n})=>{c.strokeStyle=this.Um(),c.fillStyle=this.Um();const o=Math.max(1,Math.floor(e)),f=Math.floor(.5*e);c.beginPath();const s=Math.round(F.T*n);for(let a=v.length;a--;){const u=Math.round(v[a].coord*e);c.rect(u-f,0,o,s)}c.fill()}),t.useMediaCoordinateSpace(({context:c})=>{const e=F.C+F.T+F.L+F.P/2;c.textAlign="center",c.textBaseline="middle",c.fillStyle=this.$(),c.font=this.op();for(const n of v)if(n.weight<O){const o=n.needAlignCoordinate?this.qm(c,n.coord,n.label):n.coord;c.fillText(n.label,o,e)}this.Jd.W().timeScale.allowBoldLabels&&(c.font=this.Ym());for(const n of v)if(n.weight>=O){const o=n.needAlignCoordinate?this.qm(c,n.coord,n.label):n.coord;c.fillText(n.label,o,e)}})}qm(t,i,v){const O=this.Nv.xi(t,v),F=O/2,b=Math.floor(i-F)+.5;return b<0?i+=Math.abs(0-b):b+O>this.Lv.width&&(i-=Math.abs(this.Lv.width-(b+O))),i}$m(t,i){const v=this.Wm();for(const O of t)for(const F of O.Qi())F.gt().X(i,v)}Um(){return this.Jd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}op(){return vs(this.j(),this.cn.fontFamily)}Ym(){return vs(this.j(),this.cn.fontFamily,"bold")}Wm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new Ks,jm:0});const t=this.k,i=this.op();if(t.R!==i){const v=this.j();t.P=v,t.R=i,t.L=3*v/12,t.B=3*v/12,t.ji=9*v/12,t.N=0,t.jm=4*v/12,t.Wi.ir()}return this.k}Sp(t){this.Xv.style.cursor=t===1?"ew-resize":"default"}Im(){const t=this.Jd.$t(),i=t.W();i.leftPriceScale.visible||this.Pm===null||(this.Om.removeChild(this.Pm.hp()),this.Pm.S(),this.Pm=null),i.rightPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.hp()),this.Rm.S(),this.Rm=null);const v={_d:this.Jd.$t()._d()},O=()=>i.leftPriceScale.borderVisible&&t.St().W().borderVisible,F=()=>t.md();i.leftPriceScale.visible&&this.Pm===null&&(this.Pm=new vc("left",i,v,O,F),this.Om.appendChild(this.Pm.hp())),i.rightPriceScale.visible&&this.Rm===null&&(this.Rm=new vc("right",i,v,O,F),this.Bm.appendChild(this.Rm.hp()))}}const nw=!!ps&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(T=>T.brand.includes("Chromium"))&&!!ps&&(!((fl=navigator==null?void 0:navigator.userAgentData)===null||fl===void 0)&&fl.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var fl;class rw{constructor(t,i,v){var O;this.Zm=[],this.Xm=0,this.ro=0,this.o_=0,this.Km=0,this.Gm=0,this.Jm=null,this.Qm=!1,this.Dp=new Vr,this.Vp=new Vr,this.Pc=new Vr,this.tb=null,this.ib=null,this.Gd=t,this.cn=i,this.U_=v,this.Zd=document.createElement("div"),this.Zd.classList.add("tv-lightweight-charts"),this.Zd.style.overflow="hidden",this.Zd.style.direction="ltr",this.Zd.style.width="100%",this.Zd.style.height="100%",(O=this.Zd).style.userSelect="none",O.style.webkitUserSelect="none",O.style.msUserSelect="none",O.style.MozUserSelect="none",O.style.webkitTapHighlightColor="transparent",this.nb=document.createElement("table"),this.nb.setAttribute("cellspacing","0"),this.Zd.appendChild(this.nb),this.sb=this.eb.bind(this),hl(this.cn)&&this.rb(!0),this.$i=new Fb(this.Dc.bind(this),this.cn,v),this.$t().Zc().l(this.hb.bind(this),this),this.lb=new ew(this,this.U_),this.nb.appendChild(this.lb.hp());const F=i.autoSize&&this.ab();let b=this.cn.width,c=this.cn.height;if(F||b===0||c===0){const e=t.getBoundingClientRect();b=b||e.width,c=c||e.height}this.ob(b,c),this._b(),t.appendChild(this.Zd),this.ub(),this.$i.St().sc().l(this.$i.Xl.bind(this.$i),this),this.$i.w_().l(this.$i.Xl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}qp(){return this.Zm}cb(){return this.lb}S(){this.rb(!1),this.Xm!==0&&window.cancelAnimationFrame(this.Xm),this.$i.Zc().p(this),this.$i.St().sc().p(this),this.$i.w_().p(this),this.$i.S();for(const t of this.Zm)this.nb.removeChild(t.hp()),t.hm().p(this),t.lm().p(this),t.S();this.Zm=[],Ge(this.lb).S(),this.Zd.parentElement!==null&&this.Zd.parentElement.removeChild(this.Zd),this.Pc.S(),this.Dp.S(),this.Vp.S(),this.fb()}ob(t,i,v=!1){if(this.ro===i&&this.o_===t)return;const O=function(c){const e=Math.floor(c.width),n=Math.floor(c.height);return Dr({width:e-e%2,height:n-n%2})}(Dr({width:t,height:i}));this.ro=O.height,this.o_=O.width;const F=this.ro+"px",b=this.o_+"px";Ge(this.Zd).style.height=F,Ge(this.Zd).style.width=b,this.nb.style.height=F,this.nb.style.width=b,v?this.pb(hi.es(),performance.now()):this.$i.Xl()}fp(t){t===void 0&&(t=hi.es());for(let i=0;i<this.Zm.length;i++)this.Zm[i].fp(t.Hn(i).Fn);this.cn.timeScale.visible&&this.lb.fp(t.jn())}Hh(t){const i=hl(this.cn);this.$i.Hh(t);const v=hl(this.cn);v!==i&&this.rb(v),this.ub(),this.mb(t)}hm(){return this.Dp}lm(){return this.Vp}Zc(){return this.Pc}bb(){this.Jm!==null&&(this.pb(this.Jm,performance.now()),this.Jm=null);const t=this.wb(null),i=document.createElement("canvas");i.width=t.width,i.height=t.height;const v=Ge(i.getContext("2d"));return this.wb(v),i}gb(t){return t==="left"&&!this.Mb()||t==="right"&&!this.xb()||this.Zm.length===0?0:Ge(t==="left"?this.Zm[0].bm():this.Zm[0].wm()).cp()}Sb(){return this.cn.autoSize&&this.tb!==null}kb(){return this.Zd}Jp(t){this.ib=t,this.ib?this.kb().style.setProperty("cursor",t):this.kb().style.removeProperty("cursor")}yb(){return this.ib}Cb(){return Oi(this.Zm[0])._m()}mb(t){(t.autoSize!==void 0||!this.tb||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.tb&&this.ab(),t.autoSize===!1&&this.tb!==null&&this.fb(),t.autoSize||t.width===void 0&&t.height===void 0||this.ob(t.width||this.o_,t.height||this.ro))}wb(t){let i=0,v=0;const O=this.Zm[0],F=(c,e)=>{let n=0;for(let o=0;o<this.Zm.length;o++){const f=this.Zm[o],s=Ge(c==="left"?f.bm():f.wm()),a=s.Mp();t!==null&&s.xp(t,e,n),n+=a.height}};this.Mb()&&(F("left",0),i+=Ge(O.bm()).Mp().width);for(let c=0;c<this.Zm.length;c++){const e=this.Zm[c],n=e.Mp();t!==null&&e.xp(t,i,v),v+=n.height}i+=O.Mp().width,this.xb()&&(F("right",i),i+=Ge(O.wm()).Mp().width);const b=(c,e,n)=>{Ge(c==="left"?this.lb.zm():this.lb.Lm()).xp(Ge(t),e,n)};if(this.cn.timeScale.visible){const c=this.lb.Mp();if(t!==null){let e=0;this.Mb()&&(b("left",e,v),e=Ge(O.bm()).Mp().width),this.lb.xp(t,e,v),e+=c.width,this.xb()&&b("right",e,v)}v+=c.height}return Dr({width:i,height:v})}Tb(){let t=0,i=0,v=0;for(const u of this.Zm)this.Mb()&&(i=Math.max(i,Ge(u.bm()).ap(),this.cn.leftPriceScale.minimumWidth)),this.xb()&&(v=Math.max(v,Ge(u.wm()).ap(),this.cn.rightPriceScale.minimumWidth)),t+=u.g_();i=ml(i),v=ml(v);const O=this.o_,F=this.ro,b=Math.max(O-i-v,0),c=this.cn.timeScale.visible;let e=c?Math.max(this.lb.Fm(),this.cn.timeScale.minimumHeight):0;var n;e=(n=e)+n%2;const o=0+e,f=F<o?0:F-o,s=f/t;let a=0;for(let u=0;u<this.Zm.length;++u){const h=this.Zm[u];h.Up(this.$i.Uc()[u]);let p=0,y=0;y=u===this.Zm.length-1?f-a:Math.round(h.g_()*s),p=Math.max(y,2),a+=p,h.up(Dr({width:b,height:p})),this.Mb()&&h.om(i,"left"),this.xb()&&h.om(v,"right"),h.dp()&&this.$i.Xc(h.dp(),p)}this.lb.Nm(Dr({width:c?b:0,height:e}),c?i:0,c?v:0),this.$i.x_(b),this.Km!==i&&(this.Km=i),this.Gm!==v&&(this.Gm=v)}rb(t){t?this.Zd.addEventListener("wheel",this.sb,{passive:!1}):this.Zd.removeEventListener("wheel",this.sb)}Pb(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return nw?1/window.devicePixelRatio:1}eb(t){if(!(t.deltaX!==0&&this.cn.handleScroll.mouseWheel||t.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const i=this.Pb(t),v=i*t.deltaX/100,O=-i*t.deltaY/100;if(t.cancelable&&t.preventDefault(),O!==0&&this.cn.handleScale.mouseWheel){const F=Math.sign(O)*Math.min(1,Math.abs(O)),b=t.clientX-this.Zd.getBoundingClientRect().left;this.$t().Jc(b,F)}v!==0&&this.cn.handleScroll.mouseWheel&&this.$t().Qc(-80*v)}pb(t,i){var v;const O=t.jn();O===3&&this.Rb(),O!==3&&O!==2||(this.Db(t),this.Vb(t,i),this.lb.bt(),this.Zm.forEach(F=>{F.Zp()}),((v=this.Jm)===null||v===void 0?void 0:v.jn())===3&&(this.Jm.ts(t),this.Rb(),this.Db(this.Jm),this.Vb(this.Jm,i),t=this.Jm,this.Jm=null)),this.fp(t)}Vb(t,i){for(const v of t.Qn())this.ns(v,i)}Db(t){const i=this.$i.Uc();for(let v=0;v<i.length;v++)t.Hn(v).Wn&&i[v].E_()}ns(t,i){const v=this.$i.St();switch(t.qn){case 0:v.rc();break;case 1:v.hc(t.Vt);break;case 2:v.Gn(t.Vt);break;case 3:v.Jn(t.Vt);break;case 4:v.Uu();break;case 5:t.Vt.Ju(i)||v.Jn(t.Vt.Qu(i))}}Dc(t){this.Jm!==null?this.Jm.ts(t):this.Jm=t,this.Qm||(this.Qm=!0,this.Xm=window.requestAnimationFrame(i=>{if(this.Qm=!1,this.Xm=0,this.Jm!==null){const v=this.Jm;this.Jm=null,this.pb(v,i);for(const O of v.Qn())if(O.qn===5&&!O.Vt.Ju(i)){this.$t().Zn(O.Vt);break}}}))}Rb(){this._b()}_b(){const t=this.$i.Uc(),i=t.length,v=this.Zm.length;for(let O=i;O<v;O++){const F=Oi(this.Zm.pop());this.nb.removeChild(F.hp()),F.hm().p(this),F.lm().p(this),F.S()}for(let O=v;O<i;O++){const F=new Al(this,t[O]);F.hm().l(this.Ob.bind(this),this),F.lm().l(this.Bb.bind(this),this),this.Zm.push(F),this.nb.insertBefore(F.hp(),this.lb.hp())}for(let O=0;O<i;O++){const F=t[O],b=this.Zm[O];b.dp()!==F?b.Up(F):b.$p()}this.ub(),this.Tb()}Ab(t,i,v){var O;const F=new Map;t!==null&&this.$i.wt().forEach(o=>{const f=o.In().hl(t);f!==null&&F.set(o,f)});let b;if(t!==null){const o=(O=this.$i.St().Ui(t))===null||O===void 0?void 0:O.originalTime;o!==void 0&&(b=o)}const c=this.$t().Fc(),e=c!==null&&c.jc instanceof Ll?c.jc:void 0,n=c!==null&&c.Av!==void 0?c.Av.wr:void 0;return{Ib:b,se:t??void 0,zb:i??void 0,Lb:e,Eb:F,Nb:n,Fb:v??void 0}}Ob(t,i,v){this.Dp.m(()=>this.Ab(t,i,v))}Bb(t,i,v){this.Vp.m(()=>this.Ab(t,i,v))}hb(t,i,v){this.Pc.m(()=>this.Ab(t,i,v))}ub(){const t=this.cn.timeScale.visible?"":"none";this.lb.hp().style.display=t}Mb(){return this.Zm[0].dp().P_().W().visible}xb(){return this.Zm[0].dp().R_().W().visible}ab(){return"ResizeObserver"in window&&(this.tb=new ResizeObserver(t=>{const i=t.find(v=>v.target===this.Gd);i&&this.ob(i.contentRect.width,i.contentRect.height)}),this.tb.observe(this.Gd,{box:"border-box"}),!0)}fb(){this.tb!==null&&this.tb.disconnect(),this.tb=null}}function hl(T){return!!(T.handleScroll.mouseWheel||T.handleScale.mouseWheel)}function iw(T){return function(t){return t.open!==void 0}(T)||function(t){return t.value!==void 0}(T)}function sd(T,t){var i={};for(var v in T)Object.prototype.hasOwnProperty.call(T,v)&&t.indexOf(v)<0&&(i[v]=T[v]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function"){var O=0;for(v=Object.getOwnPropertySymbols(T);O<v.length;O++)t.indexOf(v[O])<0&&Object.prototype.propertyIsEnumerable.call(T,v[O])&&(i[v[O]]=T[v[O]])}return i}function pc(T,t,i,v){const O=i.value,F={se:t,ot:T,Vt:[O,O,O,O],Ib:v};return i.color!==void 0&&(F.V=i.color),F}function ow(T,t,i,v){const O=i.value,F={se:t,ot:T,Vt:[O,O,O,O],Ib:v};return i.lineColor!==void 0&&(F.lt=i.lineColor),i.topColor!==void 0&&(F.Ts=i.topColor),i.bottomColor!==void 0&&(F.Ps=i.bottomColor),F}function sw(T,t,i,v){const O=i.value,F={se:t,ot:T,Vt:[O,O,O,O],Ib:v};return i.topLineColor!==void 0&&(F.Pe=i.topLineColor),i.bottomLineColor!==void 0&&(F.Re=i.bottomLineColor),i.topFillColor1!==void 0&&(F.Se=i.topFillColor1),i.topFillColor2!==void 0&&(F.ke=i.topFillColor2),i.bottomFillColor1!==void 0&&(F.ye=i.bottomFillColor1),i.bottomFillColor2!==void 0&&(F.Ce=i.bottomFillColor2),F}function aw(T,t,i,v){const O={se:t,ot:T,Vt:[i.open,i.high,i.low,i.close],Ib:v};return i.color!==void 0&&(O.V=i.color),O}function uw(T,t,i,v){const O={se:t,ot:T,Vt:[i.open,i.high,i.low,i.close],Ib:v};return i.color!==void 0&&(O.V=i.color),i.borderColor!==void 0&&(O.Ot=i.borderColor),i.wickColor!==void 0&&(O.Zh=i.wickColor),O}function lw(T,t,i,v,O){const F=Oi(O)(i),b=Math.max(...F),c=Math.min(...F),e=F[F.length-1],n=[e,b,c,e],o=i,{time:f,color:s}=o;return{se:t,ot:T,Vt:n,Ib:v,He:sd(o,["time","color"]),V:s}}function za(T){return T.Vt!==void 0}function gc(T,t){return t.customValues!==void 0&&(T.Wb=t.customValues),T}function Yo(T){return(t,i,v,O,F,b)=>function(c,e){return e?e(c):(n=c).open===void 0&&n.value===void 0;var n}(v,b)?gc({ot:t,se:i,Ib:O},v):gc(T(t,i,v,O,F),v)}function mc(T){return{Candlestick:Yo(uw),Bar:Yo(aw),Area:Yo(ow),Baseline:Yo(sw),Histogram:Yo(pc),Line:Yo(pc),Custom:Yo(lw)}[T]}function yc(T){return{se:0,jb:new Map,ha:T}}function bc(T,t){if(T!==void 0&&T.length!==0)return{Hb:t.key(T[0].ot),$b:t.key(T[T.length-1].ot)}}function wc(T){let t;return T.forEach(i=>{t===void 0&&(t=i.Ib)}),Oi(t)}class fw{constructor(t){this.Ub=new Map,this.qb=new Map,this.Yb=new Map,this.Zb=[],this.U_=t}S(){this.Ub.clear(),this.qb.clear(),this.Yb.clear(),this.Zb=[]}Xb(t,i){let v=this.Ub.size!==0,O=!1;const F=this.qb.get(t);if(F!==void 0)if(this.qb.size===1)v=!1,O=!0,this.Ub.clear();else for(const e of this.Zb)e.pointData.jb.delete(t)&&(O=!0);let b=[];if(i.length!==0){const e=i.map(a=>a.time),n=this.U_.createConverterToInternalObj(i),o=mc(t.Jh()),f=t.ya(),s=t.Ca();b=i.map((a,u)=>{const h=n(a.time),p=this.U_.key(h);let y=this.Ub.get(p);y===void 0&&(y=yc(h),this.Ub.set(p,y),O=!0);const w=o(h,y.se,a,e[u],f,s);return y.jb.set(t,w),w})}v&&this.Kb(),this.Gb(t,b);let c=-1;if(O){const e=[];this.Ub.forEach(n=>{e.push({timeWeight:0,time:n.ha,pointData:n,originalTime:wc(n.jb)})}),e.sort((n,o)=>this.U_.key(n.time)-this.U_.key(o.time)),c=this.Jb(e)}return this.Qb(t,c,function(e,n,o){const f=bc(e,o),s=bc(n,o);if(f!==void 0&&s!==void 0)return{Ql:f.$b>=s.$b&&f.Hb>=s.Hb}}(this.qb.get(t),F,this.U_))}fd(t){return this.Xb(t,[])}tw(t,i){const v=i;(function(h){h.Ib===void 0&&(h.Ib=h.time)})(v),this.U_.preprocessData(i);const O=this.U_.createConverterToInternalObj([i])(i.time),F=this.Yb.get(t);if(F!==void 0&&this.U_.key(O)<this.U_.key(F))throw new Error(`Cannot update oldest data, last time=${F}, new time=${O}`);let b=this.Ub.get(this.U_.key(O));const c=b===void 0;b===void 0&&(b=yc(O),this.Ub.set(this.U_.key(O),b));const e=mc(t.Jh()),n=t.ya(),o=t.Ca(),f=e(O,b.se,i,v.Ib,n,o);b.jb.set(t,f),this.iw(t,f);const s={Ql:za(f)};if(!c)return this.Qb(t,-1,s);const a={timeWeight:0,time:b.ha,pointData:b,originalTime:wc(b.jb)},u=Xs(this.Zb,this.U_.key(a.time),(h,p)=>this.U_.key(h.time)<p);this.Zb.splice(u,0,a);for(let h=u;h<this.Zb.length;++h)cl(this.Zb[h].pointData,h);return this.U_.fillWeightsForPoints(this.Zb,u),this.Qb(t,u,s)}iw(t,i){let v=this.qb.get(t);v===void 0&&(v=[],this.qb.set(t,v));const O=v.length!==0?v[v.length-1]:null;O===null||this.U_.key(i.ot)>this.U_.key(O.ot)?za(i)&&v.push(i):za(i)?v[v.length-1]=i:v.splice(-1,1),this.Yb.set(t,i.ot)}Gb(t,i){i.length!==0?(this.qb.set(t,i.filter(za)),this.Yb.set(t,i[i.length-1].ot)):(this.qb.delete(t),this.Yb.delete(t))}Kb(){for(const t of this.Zb)t.pointData.jb.size===0&&this.Ub.delete(this.U_.key(t.time))}Jb(t){let i=-1;for(let v=0;v<this.Zb.length&&v<t.length;++v){const O=this.Zb[v],F=t[v];if(this.U_.key(O.time)!==this.U_.key(F.time)){i=v;break}F.timeWeight=O.timeWeight,cl(F.pointData,v)}if(i===-1&&this.Zb.length!==t.length&&(i=Math.min(this.Zb.length,t.length)),i===-1)return-1;for(let v=i;v<t.length;++v)cl(t[v].pointData,v);return this.U_.fillWeightsForPoints(t,i),this.Zb=t,i}nw(){if(this.qb.size===0)return null;let t=0;return this.qb.forEach(i=>{i.length!==0&&(t=Math.max(t,i[i.length-1].se))}),t}Qb(t,i,v){const O={sw:new Map,St:{Lu:this.nw()}};if(i!==-1)this.qb.forEach((F,b)=>{O.sw.set(b,{He:F,ew:b===t?v:void 0})}),this.qb.has(t)||O.sw.set(t,{He:[],ew:v}),O.St.rw=this.Zb,O.St.hw=i;else{const F=this.qb.get(t);O.sw.set(t,{He:F||[],ew:v})}return O}}function cl(T,t){T.se=t,T.jb.forEach(i=>{i.se=t})}function Rl(T){const t={value:T.Vt[3],time:T.Ib};return T.Wb!==void 0&&(t.customValues=T.Wb),t}function Ec(T){const t=Rl(T);return T.V!==void 0&&(t.color=T.V),t}function hw(T){const t=Rl(T);return T.lt!==void 0&&(t.lineColor=T.lt),T.Ts!==void 0&&(t.topColor=T.Ts),T.Ps!==void 0&&(t.bottomColor=T.Ps),t}function cw(T){const t=Rl(T);return T.Pe!==void 0&&(t.topLineColor=T.Pe),T.Re!==void 0&&(t.bottomLineColor=T.Re),T.Se!==void 0&&(t.topFillColor1=T.Se),T.ke!==void 0&&(t.topFillColor2=T.ke),T.ye!==void 0&&(t.bottomFillColor1=T.ye),T.Ce!==void 0&&(t.bottomFillColor2=T.Ce),t}function ad(T){const t={open:T.Vt[0],high:T.Vt[1],low:T.Vt[2],close:T.Vt[3],time:T.Ib};return T.Wb!==void 0&&(t.customValues=T.Wb),t}function dw(T){const t=ad(T);return T.V!==void 0&&(t.color=T.V),t}function vw(T){const t=ad(T),{V:i,Ot:v,Zh:O}=T;return i!==void 0&&(t.color=i),v!==void 0&&(t.borderColor=v),O!==void 0&&(t.wickColor=O),t}function wl(T){return{Area:hw,Line:Ec,Baseline:cw,Histogram:Ec,Bar:dw,Candlestick:vw,Custom:pw}[T]}function pw(T){const t=T.Ib;return Object.assign(Object.assign({},T.He),{time:t})}const gw={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},mw={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},yw={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Ml,attributionLogo:!0},dl={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},bw={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},ww={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Ml,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function _c(){return{width:0,height:0,autoSize:!1,layout:yw,crosshair:gw,grid:mw,overlayPriceScales:Object.assign({},dl),leftPriceScale:Object.assign(Object.assign({},dl),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},dl),{visible:!0}),timeScale:bw,watermark:ww,localization:{locale:ps?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Ew{constructor(t,i){this.lw=t,this.aw=i}applyOptions(t){this.lw.$t().Hc(this.aw,t)}options(){return this.Li().W()}width(){return Qa(this.aw)?this.lw.gb(this.aw):0}Li(){return Ge(this.lw.$t().$c(this.aw)).Dt}}function xc(T,t,i){const v=sd(T,["time","originalTime"]),O=Object.assign({time:t},v);return i!==void 0&&(O.originalTime=i),O}const _w={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class xw{constructor(t){this.Eh=t}applyOptions(t){this.Eh.Hh(t)}options(){return this.Eh.W()}ow(){return this.Eh}}class Mw{constructor(t,i,v,O,F){this._w=new Vr,this.Ls=t,this.uw=i,this.cw=v,this.U_=F,this.dw=O}S(){this._w.S()}priceFormatter(){return this.Ls.ma()}priceToCoordinate(t){const i=this.Ls.Ct();return i===null?null:this.Ls.Dt().Rt(t,i.Vt)}coordinateToPrice(t){const i=this.Ls.Ct();return i===null?null:this.Ls.Dt().pn(t,i.Vt)}barsInLogicalRange(t){if(t===null)return null;const i=new ds(new Ws(t.from,t.to)).hu(),v=this.Ls.In();if(v.Ni())return null;const O=v.hl(i.Vs(),1),F=v.hl(i.ui(),-1),b=Ge(v.sl()),c=Ge(v.An());if(O!==null&&F!==null&&O.se>F.se)return{barsBefore:t.from-b,barsAfter:c-t.to};const e={barsBefore:O===null||O.se===b?t.from-b:O.se-b,barsAfter:F===null||F.se===c?c-t.to:c-F.se};return O!==null&&F!==null&&(e.from=O.Ib,e.to=F.Ib),e}setData(t){this.U_,this.Ls.Jh(),this.uw.fw(this.Ls,t),this.pw("full")}update(t){this.Ls.Jh(),this.uw.mw(this.Ls,t),this.pw("update")}dataByIndex(t,i){const v=this.Ls.In().hl(t,i);return v===null?null:wl(this.seriesType())(v)}data(){const t=wl(this.seriesType());return this.Ls.In().ie().map(i=>t(i))}subscribeDataChanged(t){this._w.l(t)}unsubscribeDataChanged(t){this._w.v(t)}setMarkers(t){this.U_;const i=t.map(v=>xc(v,this.U_.convertHorzItemToInternal(v.time),v.time));this.Ls.ia(i)}markers(){return this.Ls.na().map(t=>xc(t,t.originalTime,void 0))}applyOptions(t){this.Ls.Hh(t)}options(){return Po(this.Ls.W())}priceScale(){return this.cw.priceScale(this.Ls.Dt().Ta())}createPriceLine(t){const i=so(Po(_w),t),v=this.Ls.sa(i);return new xw(v)}removePriceLine(t){this.Ls.ea(t.ow())}seriesType(){return this.Ls.Jh()}attachPrimitive(t){this.Ls.Sa(t),t.attached&&t.attached({chart:this.dw,series:this,requestUpdate:()=>this.Ls.$t().Xl()})}detachPrimitive(t){this.Ls.ka(t),t.detached&&t.detached()}pw(t){this._w.M()&&this._w.m(t)}}class Ow{constructor(t,i,v){this.bw=new Vr,this.pu=new Vr,this.Vm=new Vr,this.$i=t,this.kl=t.St(),this.lb=i,this.kl.tc().l(this.ww.bind(this)),this.kl.nc().l(this.gw.bind(this)),this.lb.Em().l(this.Mw.bind(this)),this.U_=v}S(){this.kl.tc().p(this),this.kl.nc().p(this),this.lb.Em().p(this),this.bw.S(),this.pu.S(),this.Vm.S()}scrollPosition(){return this.kl.ju()}scrollToPosition(t,i){i?this.kl.Gu(t,1e3):this.$i.Jn(t)}scrollToRealTime(){this.kl.Ku()}getVisibleRange(){const t=this.kl.Du();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const i={from:this.U_.convertHorzItemToInternal(t.from),to:this.U_.convertHorzItemToInternal(t.to)},v=this.kl.Au(i);this.$i.vd(v)}getVisibleLogicalRange(){const t=this.kl.Ru();return t===null?null:{from:t.Vs(),to:t.ui()}}setVisibleLogicalRange(t){zo(t.from<=t.to,"The from index cannot be after the to index."),this.$i.vd(t)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.rc()}logicalToCoordinate(t){const i=this.$i.St();return i.Ni()?null:i.It(t)}coordinateToLogical(t){return this.kl.Ni()?null:this.kl.Eu(t)}timeToCoordinate(t){const i=this.U_.convertHorzItemToInternal(t),v=this.kl.Da(i,!1);return v===null?null:this.kl.It(v)}coordinateToTime(t){const i=this.$i.St(),v=i.Eu(t),O=i.Ui(v);return O===null?null:O.originalTime}width(){return this.lb._m().width}height(){return this.lb._m().height}subscribeVisibleTimeRangeChange(t){this.bw.l(t)}unsubscribeVisibleTimeRangeChange(t){this.bw.v(t)}subscribeVisibleLogicalRangeChange(t){this.pu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.pu.v(t)}subscribeSizeChange(t){this.Vm.l(t)}unsubscribeSizeChange(t){this.Vm.v(t)}applyOptions(t){this.kl.Hh(t)}options(){return Object.assign(Object.assign({},Po(this.kl.W())),{barSpacing:this.kl.he()})}ww(){this.bw.M()&&this.bw.m(this.getVisibleRange())}gw(){this.pu.M()&&this.pu.m(this.getVisibleLogicalRange())}Mw(t){this.Vm.m(t.width,t.height)}}function Sw(T){if(T===void 0||T.type==="custom")return;const t=T;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(i){if(i>=1)return 0;let v=0;for(;v<8;v++){const O=Math.round(i);if(Math.abs(O-i)<1e-8)return v;i*=10}return v}(t.minMove))}function Mc(T){return function(t){if(Pa(t.handleScale)){const v=t.handleScale;t.handleScale={axisDoubleClickReset:{time:v,price:v},axisPressedMouseMove:{time:v,price:v},mouseWheel:v,pinch:v}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:v,axisDoubleClickReset:O}=t.handleScale;Pa(v)&&(t.handleScale.axisPressedMouseMove={time:v,price:v}),Pa(O)&&(t.handleScale.axisDoubleClickReset={time:O,price:O})}const i=t.handleScroll;Pa(i)&&(t.handleScroll={horzTouchDrag:i,vertTouchDrag:i,mouseWheel:i,pressedMouseMove:i})}(T),T}class Tw{constructor(t,i,v){this.xw=new Map,this.Sw=new Map,this.kw=new Vr,this.yw=new Vr,this.Cw=new Vr,this.Tw=new fw(i);const O=v===void 0?Po(_c()):so(Po(_c()),Mc(v));this.U_=i,this.lw=new rw(t,O,i),this.lw.hm().l(b=>{this.kw.M()&&this.kw.m(this.Pw(b()))},this),this.lw.lm().l(b=>{this.yw.M()&&this.yw.m(this.Pw(b()))},this),this.lw.Zc().l(b=>{this.Cw.M()&&this.Cw.m(this.Pw(b()))},this);const F=this.lw.$t();this.Rw=new Ow(F,this.lw.cb(),this.U_)}remove(){this.lw.hm().p(this),this.lw.lm().p(this),this.lw.Zc().p(this),this.Rw.S(),this.lw.S(),this.xw.clear(),this.Sw.clear(),this.kw.S(),this.yw.S(),this.Cw.S(),this.Tw.S()}resize(t,i,v){this.autoSizeActive()||this.lw.ob(t,i,v)}addCustomSeries(t,i){const v=hs(t),O=Object.assign(Object.assign({},Bc),v.defaultOptions());return this.Dw("Custom",O,i,v)}addAreaSeries(t){return this.Dw("Area",f1,t)}addBaselineSeries(t){return this.Dw("Baseline",h1,t)}addBarSeries(t){return this.Dw("Bar",u1,t)}addCandlestickSeries(t={}){return function(i){i.borderColor!==void 0&&(i.borderUpColor=i.borderColor,i.borderDownColor=i.borderColor),i.wickColor!==void 0&&(i.wickUpColor=i.wickColor,i.wickDownColor=i.wickColor)}(t),this.Dw("Candlestick",a1,t)}addHistogramSeries(t){return this.Dw("Histogram",c1,t)}addLineSeries(t){return this.Dw("Line",l1,t)}removeSeries(t){const i=Oi(this.xw.get(t)),v=this.Tw.fd(i);this.lw.$t().fd(i),this.Vw(v),this.xw.delete(t),this.Sw.delete(i)}fw(t,i){this.Vw(this.Tw.Xb(t,i))}mw(t,i){this.Vw(this.Tw.tw(t,i))}subscribeClick(t){this.kw.l(t)}unsubscribeClick(t){this.kw.v(t)}subscribeCrosshairMove(t){this.Cw.l(t)}unsubscribeCrosshairMove(t){this.Cw.v(t)}subscribeDblClick(t){this.yw.l(t)}unsubscribeDblClick(t){this.yw.v(t)}priceScale(t){return new Ew(this.lw,t)}timeScale(){return this.Rw}applyOptions(t){this.lw.Hh(Mc(t))}options(){return this.lw.W()}takeScreenshot(){return this.lw.bb()}autoSizeActive(){return this.lw.Sb()}chartElement(){return this.lw.kb()}paneSize(){const t=this.lw.Cb();return{height:t.height,width:t.width}}setCrosshairPosition(t,i,v){const O=this.xw.get(v);if(O===void 0)return;const F=this.lw.$t().cr(O);F!==null&&this.lw.$t().ld(t,i,F)}clearCrosshairPosition(){this.lw.$t().ad(!0)}Dw(t,i,v={},O){Sw(v.priceFormat);const F=so(Po(kc),Po(i),v),b=this.lw.$t().ud(t,F,O),c=new Mw(b,this,this,this,this.U_);return this.xw.set(c,b),this.Sw.set(b,c),c}Vw(t){const i=this.lw.$t();i.od(t.St.Lu,t.St.rw,t.St.hw),t.sw.forEach((v,O)=>O.J(v.He,v.ew)),i.Fu()}Ow(t){return Oi(this.Sw.get(t))}Pw(t){const i=new Map;t.Eb.forEach((O,F)=>{const b=F.Jh(),c=wl(b)(O);if(b!=="Custom")zo(iw(c));else{const e=F.Ca();zo(!e||e(c)===!1)}i.set(this.Ow(F),c)});const v=t.Lb!==void 0&&this.Sw.has(t.Lb)?this.Ow(t.Lb):void 0;return{time:t.Ib,logical:t.se,point:t.zb,hoveredSeries:v,hoveredObjectId:t.Nb,seriesData:i,sourceEvent:t.Fb}}}function Cw(T,t,i){let v;if(Ys(T)){const F=document.getElementById(T);zo(F!==null,`Cannot find element in DOM with id=${T}`),v=F}else v=T;const O=new Tw(v,t,i);return t.setOptions(O.options()),O}function Pw(T,t){return Cw(T,new lc,lc.Ad(t))}Object.assign(Object.assign({},kc),Bc);const Lw={class:"mb-2 d-flex align-items-center"},Dw={class:"me-2"},io=jr({__name:"TimeSeriesComponent",props:{title:{type:String,required:!0},titleTooltip:{type:String,default:null},labels:{type:Array,required:!0},data:{type:Array,required:!0},useHistogramChart:{type:Boolean,default:!1},useBins:{type:Boolean,default:!1}},setup(T){const t=T,i=Ni(null);return Ka(()=>{const v=[];for(let b=0;b<t.data.length;b++){const c=t.data[b].data,e=[];for(let n=0;n<t.labels.length;n++)e.push(n<c.length?c[n]:0);v.push(e)}const O=v.map(b=>b.map((c,e)=>({time:t.useBins?e:t.labels[e],value:c})));if(!O||!O.length)return;const F=Pw(i.value,{height:300,layout:{fontFamily:"'Lucida Console', Monaco, monospace",background:{color:"transparent"},textColor:"#fff"},grid:{vertLines:{color:"transparent"},horzLines:{color:"transparent"}},crosshair:{mode:Ua.Normal},handleScale:!1,handleScroll:!1});if(t.useBins&&F.applyOptions({crosshair:{mode:Ua.Hidden},timeScale:{timeVisible:!1,secondsVisible:!1,tickMarkFormatter:b=>t.labels[b]}}),t.useHistogramChart)for(let b=0;b<O.length;b++)F.addHistogramSeries().setData(O[b]);else if(O.length==1)F.addLineSeries().setData(O[0]),F.addAreaSeries({lastValueVisible:!1,crosshairMarkerVisible:!1,lineColor:"transparent",topColor:"rgba(56, 33, 110,0.6)",bottomColor:"rgba(56, 33, 110, 0.1)"}).setData(O[0]);else{const b=["#0054a6","#43ff64"];for(let c=0;c<O.length;c++){const e=F.addLineSeries();e.applyOptions({color:b[c]}),e.setData(O[c])}}F.timeScale().fitContent()}),(v,O)=>{const F=Mr("el-tooltip"),b=Mr("el-card");return Fe(),xr(b,null,{default:dn(()=>[Tt("div",Lw,[Tt("div",Dw,on(T.title),1),T.titleTooltip?(Fe(),xr(F,{key:0,class:"box-item",effect:"dark",content:T.titleTooltip,"raw-content":"",placement:"top-start"},{default:dn(()=>[Te(Cn(Ic),{size:16,style:{cursor:"pointer"}})]),_:1},8,["content"])):Ln("",!0)]),Tt("div",{ref_key:"chartDiv",ref:i},null,512)]),_:1})}}}),Nw={class:"mb-3"},Aw={class:"d-flex"},Iw=Tt("div",{class:"h1 m-0"},"AML/KYT",-1),Rw={class:"ms-auto"},Bw={class:"row"},kw={key:0,class:"col-md-6 my-2"},zw={key:1,class:"col-md-6 my-2"},Ww={key:2,class:"col-md-12 my-2"},Fw={key:3,class:"col-md-12 my-2"},Uw=jr({__name:"AMLKYTView",props:{data:Object},setup(T){const t=T,i=oo(()=>{var b,c;function F(e,n,o){return o.indexOf(e)===n}return(c=(b=t.data)==null?void 0:b.zanRiskScore)==null?void 0:c.map(e=>e.chain_name).filter(F)}),v=Ni(i.value&&i.value.length>0?i.value[0]:null),O=oo(()=>{var F,b;return(b=(F=t.data)==null?void 0:F.zanRiskScore)==null?void 0:b.filter(c=>c.chain_name==v.value)});return(F,b)=>{const c=Mr("el-option"),e=Mr("el-select");return Fe(),an("div",Nw,[Tt("div",Aw,[Iw,Tt("div",Rw,[Te(e,{modelValue:v.value,"onUpdate:modelValue":b[0]||(b[0]=n=>v.value=n),placeholder:"Select",style:{width:"240px"}},{default:dn(()=>[(Fe(!0),an(Xr,null,Xi(i.value,n=>(Fe(),xr(c,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),Tt("div",Bw,[O.value?(Fe(),an("div",kw,[Te(io,{title:"AVG Top 100 Holder Risk Score","title-tooltip":"100: Critical<br/>67-99: High risk<br/>34-66: Medium risk<br/>1-33: Low risk<br/>0: No risk",labels:O.value.map(n=>`${Cn(Xo)(n==null?void 0:n.created_date,"YYYY-MM-DD")}`),data:[{name:"Top 100 Holder Risk Score",data:O.value.map(n=>Number(n.avg_top_100_holder_risk_score))}]},null,8,["labels","data"])])):Ln("",!0),O.value?(Fe(),an("div",zw,[Te(io,{title:"AVG Top 1000 Holder Risk Score","title-tooltip":"100: Critical<br/>67-99: High risk<br/>34-66: Medium risk<br/>1-33: Low risk<br/>0: No risk",labels:O.value.map(n=>`${Cn(Xo)(n==null?void 0:n.created_date,"YYYY-MM-DD")}`),data:[{name:"Top 1000 Holder Risk Score",data:O.value.map(n=>Number(n.avg_top_1000_holder_risk_score))}]},null,8,["labels","data"])])):Ln("",!0),O.value?(Fe(),an("div",Ww,[Te(io,{title:"Top 1000 Holder Risk Score Distribution","title-tooltip":"100: Critical<br/>67-99: High risk<br/>34-66: Medium risk<br/>1-33: Low risk<br/>0: No risk","use-histogram-chart":"","use-bins":"",labels:Object.keys(O.value[O.value.length-1].top_1k_holder_score_dist_bin10),data:[{name:"Top 1000 Holder Risk Score Bins",data:Object.values(O.value[O.value.length-1].top_1k_holder_score_dist_bin10)}]},null,8,["labels","data"])])):Ln("",!0),O.value?(Fe(),an("div",Fw,[Te(io,{title:"Average Transaction Risk Score","title-tooltip":"100: Critical<br/>67-99: High risk<br/>34-66: Medium risk<br/>1-33: Low risk<br/>0: No risk",labels:O.value.map(n=>`${Cn(Xo)(n==null?void 0:n.created_date,"YYYY-MM-DD")}`),data:[{name:"Average Transaction Risk Score",data:O.value.map(n=>Number(n.avg_tx_risk_score))}]},null,8,["labels","data"])])):Ln("",!0)])])}}}),$w={class:"p-2 text-center d-flex flex-column"},Gw={class:"m-0 mb-1"},Vw={class:"text-secondary"},Kw={class:"d-flex justify-content-center"},Hw=["href"],Yw=["href"],Xw=jr({__name:"PeopleComponent",props:{avatar:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},twitter:{type:String,default:null},linkedin:{type:String,default:null}},setup(T){return(t,i)=>{const v=Mr("el-card");return Fe(),xr(v,null,{default:dn(()=>[Tt("div",$w,[Tt("div",{class:"avatar avatar-xl mb-3 rounded mx-auto",style:Va({backgroundImage:`url(${T.avatar})`,backgroundSize:"cover",backgroundPosition:"center",width:"64px",height:"64px"})},null,4),Tt("h4",Gw,on(T.name),1),Tt("div",Vw,on(T.title),1),Tt("div",Kw,[T.twitter?(Fe(),an("a",{key:0,href:T.twitter,class:"card-btn",target:"_blank"},[Te(Cn(xl),{class:"me-2",style:{color:"var(--el-color-primary)"},"stroke-width":1,size:18})],8,Hw)):Ln("",!0),T.linkedin?(Fe(),an("a",{key:1,href:T.linkedin,class:"card-btn",target:"_blank"},[Te(Cn(_l),{class:"me-2",style:{color:"var(--el-color-primary)"},"stroke-width":1,size:18})],8,Yw)):Ln("",!0)])])]),_:1})}}}),jw={key:0},Qw=Tt("div",{class:"h2 mb-2"},"Team",-1),Zw={class:"row mb-3"},Jw={key:1},qw=Tt("div",{class:"h2"},"Twitter Profile",-1),tE={class:"d-flex align-items-center"},eE=Tt("div",{class:"mx-auto"},null,-1),nE={class:"text-center",style:{width:"200px"}},rE={class:"h4"},iE=Tt("div",{class:"text-secondary"},"Followers",-1),oE={class:"text-center",style:{width:"200px"}},sE={class:"h4"},aE=Tt("div",{class:"text-secondary"},"Following",-1),uE=Tt("div",{class:"h2 mb-2"},"Twitter",-1),lE={class:"row mb-3"},fE={class:"col-md-12 my-2"},hE={class:"col-md-12 my-2"},cE={key:2},dE=Tt("div",{class:"h2"},"LinkedIn Profile",-1),vE={class:"d-flex align-items-center"},pE=Tt("div",{class:"mx-auto"},null,-1),gE={class:"text-center",style:{width:"200px"}},mE={class:"h4"},yE=Tt("div",{class:"text-secondary"},"Followers",-1),bE={class:"text-center",style:{width:"200px"}},wE={class:"h4"},EE=Tt("div",{class:"text-secondary"},"Following",-1),_E=Tt("div",{class:"h2 mb-2"},"LinkedIn",-1),xE={class:"row mb-3"},ME={class:"col-md-12 my-2"},OE={key:3,class:"mb-3"},SE=Tt("div",{class:"h2 mb-2"},"News",-1),TE={class:"row"},CE={class:"col-md-12 my-2"},PE={class:"d-flex"},LE={class:"col-md-12 my-2"},DE=jr({__name:"TeamSocialMediaView",props:{data:Object},setup(T){const t=T,i=oo(()=>{var e,n;const c=(n=(e=t.data)==null?void 0:e.twitter)==null?void 0:n.prompts_output;return c&&c.length>4?c.slice(0,4):c}),v=oo(()=>{var e,n;const c=(n=(e=t.data)==null?void 0:e.twitter)==null?void 0:n.extracted_posts;return c&&c.length>10?c.slice(0,10):c}),O=oo(()=>{var e,n;const c=(n=(e=t.data)==null?void 0:e.linkedin)==null?void 0:n.extracted_posts;return c&&c.length>10?c.slice(0,10):c}),F=oo(()=>{var e,n;const c=(n=(e=t.data)==null?void 0:e.sosoValueNews)==null?void 0:n.extracted_news;return c&&c.length>10?c.slice(0,10):c});function b(c){return c==="positive"?"bg-success":c==="negative"?"bg-danger":"bg-secondary"}return(c,e)=>{var s,a,u,h,p;const n=Mr("el-table-column"),o=Mr("el-table"),f=Mr("apexchart");return Fe(),an(Xr,null,[Cn(Oc)((s=T.data)==null?void 0:s.team)?(Fe(),an("div",jw,[Qw,Tt("div",Zw,[(Fe(!0),an(Xr,null,Xi((a=T.data)==null?void 0:a.team,(y,w)=>(Fe(),an("div",{class:"col-sm-6 col-md-4 my-2",key:w},[Te(Xw,{class:"h-100",avatar:y.avatar,name:y.name,title:y.title,twitter:y.twitter,linkedin:y.linkedin},null,8,["avatar","name","title","twitter","linkedin"])]))),128))])])):Ln("",!0),(u=T.data)!=null&&u.twitter?(Fe(),an("div",Jw,[qw,Te(yr,{class:"mb-3"},{default:dn(()=>{var y,w,d,M,D,B,Y,N,A,k,tt,et;return[Tt("div",tE,[Tt("div",{class:"rounded me-4",style:Va({height:"100px",width:"100px",backgroundSize:"cover",backgroundImage:`url(${(w=(y=T.data)==null?void 0:y.twitter)==null?void 0:w.profile_imageURL})`})},null,4),Tt("div",null,[Tt("div",null,on((M=(d=T.data)==null?void 0:d.twitter)==null?void 0:M.profile_name),1),Tt("div",null,on((B=(D=T.data)==null?void 0:D.twitter)==null?void 0:B.profile_handle),1),Tt("div",null,on((N=(Y=T.data)==null?void 0:Y.twitter)==null?void 0:N.profile_joining_date),1)]),eE,Tt("div",nE,[Tt("div",rE,on((k=(A=T.data)==null?void 0:A.twitter)==null?void 0:k.profile_followers),1),iE]),Tt("div",oE,[Tt("div",sE,on((et=(tt=T.data)==null?void 0:tt.twitter)==null?void 0:et.profile_following),1),aE])])]}),_:1}),uE,Tt("div",lE,[Tt("div",fE,[Te(yr,{subheader:"Overall Prompt Summary"},{default:dn(()=>{var y,w;return[go(on((w=(y=T.data)==null?void 0:y.twitter)==null?void 0:w.overall_prompt_summary),1)]}),_:1})]),(Fe(!0),an(Xr,null,Xi(i.value,(y,w)=>(Fe(),an("div",{class:"col-md-6 my-2",key:w},[Te(yr,{subheader:y.category,class:"h-100"},{default:dn(()=>[go(on(y.Output),1)]),_:2},1032,["subheader"])]))),128)),Tt("div",hE,[Te(o,{border:!0,data:v.value},{default:dn(()=>[Te(n,{prop:"post_content",label:"Post Content","min-width":"200"}),Te(n,{prop:"sentiment_analysis",label:"Sentiment Analysis"},{default:dn(y=>[Tt("div",{class:Fs(["rounded px-2 py-1 d-inline",b(y.row.sentiment_analysis)])},on(y.row.sentiment_analysis),3)]),_:1})]),_:1},8,["data"])])])])):Ln("",!0),(h=T.data)!=null&&h.linkedin?(Fe(),an("div",cE,[dE,Te(yr,{class:"mb-3"},{default:dn(()=>{var y,w,d,M,D,B,Y,N,A,k;return[Tt("div",vE,[Tt("div",null,[Tt("div",null,on((w=(y=T.data)==null?void 0:y.linkedin)==null?void 0:w.profile_title),1),Tt("div",null,on((M=(d=T.data)==null?void 0:d.linkedin)==null?void 0:M.profile_overview),1),Tt("div",null,on((B=(D=T.data)==null?void 0:D.linkedin)==null?void 0:B.industry),1)]),pE,Tt("div",gE,[Tt("div",mE,on(((N=(Y=T.data)==null?void 0:Y.linkedin)==null?void 0:N.profile_followers)??"0"),1),yE]),Tt("div",bE,[Tt("div",wE,on(((k=(A=T.data)==null?void 0:A.linkedin)==null?void 0:k.profile_following)??"0"),1),EE])])]}),_:1}),_E,Tt("div",xE,[Tt("div",ME,[Te(o,{border:!0,data:O.value},{default:dn(()=>[Te(n,{prop:"post_content",label:"Post Content","min-width":"200"}),Te(n,{prop:"sentiment_analysis",label:"Sentiment Analysis"},{default:dn(y=>[Tt("div",{class:Fs(["rounded px-2 py-1 d-inline",b(y.row.sentiment_analysis)])},on(y.row.sentiment_analysis),3)]),_:1})]),_:1},8,["data"])])])])):Ln("",!0),(p=T.data)!=null&&p.sosoValueNews?(Fe(),an("div",OE,[SE,Tt("div",TE,[Tt("div",CE,[Te(yr,null,{default:dn(()=>{var y,w,d,M,D,B,Y,N;return[Tt("div",PE,[Te(f,{width:"540",type:"pie",options:{labels:Object.keys((d=(w=(y=T.data)==null?void 0:y.sosoValueNews)==null?void 0:w.overall_sentiment_analysis)==null?void 0:d.distribution),legend:{labels:{colors:"#FFFFFF"}}},series:Object.values((B=(D=(M=T.data)==null?void 0:M.sosoValueNews)==null?void 0:D.overall_sentiment_analysis)==null?void 0:B.distribution)},null,8,["options","series"]),Tt("div",null,on((N=(Y=T.data)==null?void 0:Y.sosoValueNews)==null?void 0:N.overall_prompt_summary),1)])]}),_:1})]),Tt("div",LE,[Te(o,{border:!0,data:F.value},{default:dn(()=>[Te(n,{prop:"title",label:"Title"}),Te(n,{prop:"body",label:"Content"}),Te(n,{prop:"created_time",label:"Date"})]),_:1},8,["data"])])])])):Ln("",!0)],64)}}}),NE={key:0,class:"mb-3"},AE=Tt("div",{class:"h1 mb-2"},"Smart Contract Validation",-1),IE={class:"row"},RE={style:{"font-size":"0.75rem"}},BE=["innerHTML"],kE=Tt("div",{style:{"text-decoration":"underline"}},"whitepaper",-1),zE=["innerHTML"],WE=Tt("div",{style:{"text-decoration":"underline"}},"code",-1),FE=["innerHTML"],UE=jr({__name:"SmartContractValidationView",props:{data:Object},setup(T){function t(i){return i=i.toLowerCase(),i==="yes"?"success":i==="no"?"danger":"warning"}return(i,v)=>{var O;return T.data?(Fe(),an("div",NE,[AE,Tt("div",IE,[(Fe(!0),an(Xr,null,Xi((O=T.data)==null?void 0:O.scv,(F,b)=>(Fe(),an("div",{class:"col-md-4 my-2",key:b},[Te(yr,{class:"h-100"},{default:dn(()=>[Tt("div",{class:"mb-2",style:Va({color:`var(--el-color-${t(F.pass)}`})}," #"+on(F.id)+" - "+on(F.title),5),Tt("div",RE,[Tt("div",{class:"fix-line mb-2",innerHTML:Cn(oi)(F.description)},null,8,BE),kE,Tt("div",{class:"fix-line mb-1",innerHTML:Cn(oi)(F.whitepaper)},null,8,zE),WE,Tt("div",{class:"fix-line",innerHTML:Cn(oi)(F.code)},null,8,FE)])]),_:2},1024)]))),128))])])):Ln("",!0)}}}),$E=Tt("div",{class:"h2 mb-2"},"Financial Audit",-1),GE={class:"row mb-3"},VE={class:"col-md-12 my-2"},KE={class:"mb-5"},HE={style:{height:"30px","vertical-align":"top"}},YE=Tt("td",{style:{"min-width":"80px"}},"Auditors:",-1),XE=["innerHTML"],jE={style:{height:"30px","vertical-align":"top"}},QE=Tt("td",null,"Score:",-1),ZE=["innerHTML"],JE={style:{height:"30px","vertical-align":"top"}},qE=Tt("td",null,"Analysis:",-1),t_=["innerHTML"],e_=Tt("div",{class:"h2 mb-2"},"Market Capitalization and Liquidity",-1),n_={class:"row mb-3"},r_={class:"col-md-12 my-2"},i_=["innerHTML"],o_=["innerHTML"],s_={key:0,class:"h2 mb-2"},a_={key:1,class:"row mb-3"},u_={class:"col-md-12 my-2"},l_=["innerHTML"],f_=["innerHTML"],h_=["innerHTML"],c_=["innerHTML"],d_=["innerHTML"],v_={key:0,class:"mb-3"},p_=Tt("div",{class:"h2 mb-2"},"List of Investors",-1),g_={class:"row"},m_={class:"row align-items-center"},y_={class:"col-4"},b_={class:"text-white avatar bg-white",style:{"box-shadow":"none !important"}},w_=["src"],E_={class:"col-8"},__={class:"small"},x_=jr({__name:"FinancialAnalysisView",props:{data:Object},setup(T){return(t,i)=>{var b,c,e,n,o,f,s,a,u,h,p,y,w,d,M,D,B,Y;const v=Mr("apexchart"),O=Mr("el-table-column"),F=Mr("el-table");return Fe(),an(Xr,null,[Tt("div",null,[$E,Tt("div",GE,[Tt("div",VE,[Te(yr,{class:"w-100"},{default:dn(()=>{var N,A,k,tt,et,K,U,R,g,C,W,z,G,nt,j,q,vt,mt;return[Tt("table",KE,[Tt("tr",HE,[YE,Tt("td",{innerHTML:Cn(oi)((k=(A=(N=T.data)==null?void 0:N.financial_analysis)==null?void 0:A.financial_audit)==null?void 0:k.auditors)},null,8,XE)]),Tt("tr",jE,[QE,Tt("td",{innerHTML:Cn(oi)((K=(et=(tt=T.data)==null?void 0:tt.financial_analysis)==null?void 0:et.financial_audit)==null?void 0:K.score)},null,8,ZE)]),Tt("tr",JE,[qE,Tt("td",{innerHTML:Cn(oi)((g=(R=(U=T.data)==null?void 0:U.financial_analysis)==null?void 0:R.financial_audit)==null?void 0:g.analysis)},null,8,t_)])]),Cn(Oc)((z=(W=(C=T.data)==null?void 0:C.financial_analysis)==null?void 0:W.financial_audit)==null?void 0:z.reserve_holdings_percentage)?(Fe(),xr(v,{key:0,class:"d-flex justify-content-center",width:"540",type:"pie",options:{labels:(j=(nt=(G=T.data)==null?void 0:G.financial_analysis)==null?void 0:nt.financial_audit)==null?void 0:j.reserve_holdings_percentage.map(wt=>wt.title),legend:{labels:{colors:"#FFFFFF"}}},series:(mt=(vt=(q=T.data)==null?void 0:q.financial_analysis)==null?void 0:vt.financial_audit)==null?void 0:mt.reserve_holdings_percentage.map(wt=>wt.value)},null,8,["options","series"])):Ln("",!0)]}),_:1})])])]),Tt("div",null,[e_,Tt("div",n_,[Tt("div",r_,[Te(F,{class:"cursor-font",border:!0,data:(c=(b=T.data)==null?void 0:b.financial_analysis)==null?void 0:c.market_capitalization_and_liquidity.filter(N=>N.value)},{default:dn(()=>[Te(O,{label:"Title"},{default:dn(N=>[Tt("div",{innerHTML:Cn(oi)(N.row.title)},null,8,i_)]),_:1}),Te(O,{label:"Value"},{default:dn(N=>[Tt("div",{innerHTML:Cn(oi)(N.row.value)},null,8,o_)]),_:1})]),_:1},8,["data"])])])]),Tt("div",null,[(n=(e=T.data)==null?void 0:e.financial_analysis)!=null&&n.investments&&((f=(o=T.data)==null?void 0:o.financial_analysis)==null?void 0:f.investments.length)>0?(Fe(),an("div",s_," Investments ")):Ln("",!0),(a=(s=T.data)==null?void 0:s.financial_analysis)!=null&&a.investments&&((h=(u=T.data)==null?void 0:u.financial_analysis)==null?void 0:h.investments.length)>0?(Fe(),an("div",a_,[Tt("div",u_,[Te(F,{class:"cursor-font",border:!0,data:(y=(p=T.data)==null?void 0:p.financial_analysis)==null?void 0:y.investments},{default:dn(()=>[Te(O,{label:"Round"},{default:dn(N=>[Tt("div",{innerHTML:Cn(oi)(N.row.round)},null,8,l_)]),_:1}),Te(O,{label:"Amount"},{default:dn(N=>[Tt("div",{innerHTML:Cn(oi)(N.row.amount)},null,8,f_)]),_:1}),Te(O,{label:"Valuation"},{default:dn(N=>[Tt("div",{innerHTML:Cn(oi)(N.row.valuation)},null,8,h_)]),_:1}),Te(O,{label:"Date"},{default:dn(N=>[Tt("div",{innerHTML:Cn(oi)(N.row.date)},null,8,c_)]),_:1}),Te(O,{label:"Investors","min-width":"200"},{default:dn(N=>[Tt("div",{innerHTML:Cn(oi)(N.row.investors)},null,8,d_)]),_:1})]),_:1},8,["data"])])])):Ln("",!0)]),(d=(w=T.data)==null?void 0:w.financial_analysis)!=null&&d.list_of_investors&&((D=(M=T.data)==null?void 0:M.financial_analysis)==null?void 0:D.list_of_investors.length)>0?(Fe(),an("div",v_,[p_,Tt("div",g_,[(Fe(!0),an(Xr,null,Xi((Y=(B=T.data)==null?void 0:B.financial_analysis)==null?void 0:Y.list_of_investors,(N,A)=>(Fe(),an("div",{key:A,class:"col-md-3 my-2"},[Te(yr,{class:"h-100"},{default:dn(()=>[Tt("div",m_,[Tt("div",y_,[Tt("span",b_,[Tt("img",{src:T.data.baseUrl+"/"+N.logo,class:"w-100 h-100"},null,8,w_)])]),Tt("div",E_,[Tt("div",__,on(N.name),1)])])]),_:2},1024)]))),128))])])):Ln("",!0)],64)}}}),M_={key:0,class:"mb-3"},O_=Tt("div",{class:"h2 mb-2"},"Security Assessment",-1),S_={class:"row"},T_={class:"col-md-12 my-2"},C_={style:{color:"var(--el-color-primary)"}},P_={class:"col-md-6 my-2"},L_={class:"text-center h-100 d-flex flex-column align-items-center justify-content-center"},D_=Tt("div",{class:"small"},"SCORE",-1),N_={class:"d-flex align-items-center justify-content-center",style:{"font-size":"4.5rem"}},A_={class:"col-md-6 my-2"},I_=Tt("h3",null,"Final Scores",-1),R_={class:"h2 mb-2"},B_={class:"row"},k_={class:"col-md-12 my-2"},z_=["innerHTML"],W_=["innerHTML"],F_=jr({__name:"SecurityComplianceView",props:{data:Object},setup(T){return(t,i)=>{var b,c;const v=Mr("apexchart"),O=Mr("el-table-column"),F=Mr("el-table");return Fe(),an(Xr,null,[(b=T.data)!=null&&b.securityAssessment?(Fe(),an("div",M_,[O_,Tt("div",S_,[Tt("div",T_,[Te(yr,null,{default:dn(()=>{var e,n,o,f;return[Tt("h5",C_,on((n=(e=T.data)==null?void 0:e.securityAssessment)==null?void 0:n.report_name),1),Tt("div",null,on((f=(o=T.data)==null?void 0:o.securityAssessment)==null?void 0:f.report_summary),1)]}),_:1})]),Tt("div",P_,[Te(yr,{class:"h-100"},{default:dn(()=>{var e,n,o;return[Tt("div",L_,[D_,Tt("div",N_,on((o=(n=(e=T.data)==null?void 0:e.securityAssessment)==null?void 0:n.final_score)==null?void 0:o.toFixed("2")),1)])]}),_:1})]),Tt("div",A_,[Te(yr,{class:"h-100"},{default:dn(()=>{var e,n,o,f;return[I_,Te(v,{width:"640",type:"radar",options:{chart:{toolbar:{show:!1}},labels:Object.keys((n=(e=T.data)==null?void 0:e.securityAssessment)==null?void 0:n.final_score_by_category)},series:[{name:"Scores",data:Object.keys((f=(o=T.data)==null?void 0:o.securityAssessment)==null?void 0:f.final_score_by_category).map(s=>{var a,u;return(u=(a=T.data)==null?void 0:a.securityAssessment)==null?void 0:u.final_score_by_category[s]})}]},null,8,["options","series"])]}),_:1})])])])):Ln("",!0),(Fe(!0),an(Xr,null,Xi((c=T.data)==null?void 0:c.security_and_compliance,(e,n)=>(Fe(),an("div",{key:n,class:"mb-3"},[Tt("div",R_,on(e.title),1),Tt("div",B_,[Tt("div",k_,[Te(F,{class:"cursor-font",border:!0,data:e.value},{default:dn(()=>[Te(O,{label:"Title"},{default:dn(o=>[Tt("div",{innerHTML:Cn(oi)(o.row.title)},null,8,z_)]),_:1}),Te(O,{label:"Value","min-width":"250"},{default:dn(o=>[Tt("div",{innerHTML:Cn(oi)(o.row.value)},null,8,W_)]),_:1})]),_:2},1032,["data"])])])]))),128))],64)}}}),U_={props:{title:{type:String,required:!0},labels:{type:Array,required:!0},data:{type:Array,required:!0},updateAt:{type:Date,default:null}},data(){return{chartOptions:{labels:this.labels,tooltip:{theme:"dark"},yaxis:{labels:{formatter:function(T){return Us(T)}}},legend:{show:!1},responsive:[{breakpoint:480,options:{chart:{width:100,height:100}}}]},series:this.data}},methods:{formatDate:Xo}},$_={class:"card-header"},G_={class:"card-title"},V_={key:0,class:"ms-auto text-secondary small"},K_=Tt("div",{class:"flex-grow-1"},[Tt("div",{class:"table-responsive"})],-1);function H_(T,t,i,v,O,F){const b=Mr("apexchart"),c=Mr("el-card");return Fe(),xr(c,null,{default:dn(()=>[Tt("div",$_,[Tt("div",G_,on(i.title),1),i.updateAt?(Fe(),an("div",V_," Last Update: "+on(F.formatDate(i.updateAt)),1)):Ln("",!0)]),K_,Tt("div",null,[Te(b,{type:"pie","max-height":"300px",options:O.chartOptions,series:O.series},null,8,["options","series"])])]),_:1})}const Wa=Ha(U_,[["render",H_]]),Y_={class:"mb-3"},X_=Tt("div",{class:"h2 mb-2"},"Transactions",-1),j_={class:"row"},Q_={class:"col-md-6 my-2"},Z_={class:"col-md-6 my-2"},J_={class:"col-md-6 my-2"},q_={class:"col-md-6 my-2"},tx={class:"mb-3"},ex=Tt("div",{class:"h2 mb-2"},"Supply",-1),nx={class:"row"},rx={class:"col-md-12 my-2"},ix={class:"col-md-6 my-2"},ox={class:"col-md-6 my-2"},sx={class:"col-md-6 my-2"},ax={class:"col-md-6 my-2"},ux={class:"col-md-6 my-2"},lx={class:"col-md-6 my-2"},fx=jr({__name:"OnChainStatisticView",props:{data:Object},setup(T){var i,v;const t=T;return console.log((v=(i=t==null?void 0:t.data)==null?void 0:i.stablecoin)==null?void 0:v.transaction),(O,F)=>{var b,c,e,n,o,f,s,a,u,h,p,y,w,d,M,D,B,Y,N,A,k,tt,et,K,U,R,g,C,W,z,G,nt,j,q,vt,mt,wt,At,Kt,jt,me,zt,$t,Pt,Ft,se,de,Ie,Oe,Qt,$e,rn,ln,fn,Pe,un,cn,sn,hn,Vn,Or,Hn,pe,bt,Ze,hr,ge,Ne,Ut,I,Et,ct,St,xt,Ot,_t,Bt,re,Gt,De,te,he,He,en,qe,ze,xe,je;return Fe(),an(Xr,null,[Tt("div",Y_,[X_,Tt("div",j_,[Tt("div",Q_,[Te(io,{title:"Daily Frequency",labels:(n=(e=(c=(b=T.data)==null?void 0:b.stablecoin)==null?void 0:c.transaction)==null?void 0:e.daily_frequency)==null?void 0:n.data.map(Me=>`${Cn(Xo)(Me[0],"YYYY-MM-DD")}`),data:[{name:"Daily Frequency",data:(a=(s=(f=(o=T.data)==null?void 0:o.stablecoin)==null?void 0:f.transaction)==null?void 0:s.daily_frequency)==null?void 0:a.data.map(Me=>Number(Me[1]))}]},null,8,["labels","data"])]),Tt("div",Z_,[Te(io,{title:"Hourly Frequency",labels:(p=(h=(u=T.data)==null?void 0:u.stablecoin)==null?void 0:h.transaction)==null?void 0:p.hourly_frequency.data.map(Me=>Cn(Sh)(Me[0]).unix()),data:[{name:"Hourly Frequency",data:(d=(w=(y=T.data)==null?void 0:y.stablecoin)==null?void 0:w.transaction)==null?void 0:d.hourly_frequency.data.map(Me=>Number(Me[1]))}]},null,8,["labels","data"])]),Tt("div",J_,[Te(io,{title:"Daily Bought / Sold Volume",labels:(B=(D=(M=T.data)==null?void 0:M.stablecoin)==null?void 0:D.transaction)==null?void 0:B.daily_bought_vol.data.map(Me=>`${Cn(Xo)(Me[0],"YYYY-MM-DD")}`),data:[{name:"Daily Bought Volume",data:(A=(N=(Y=T.data)==null?void 0:Y.stablecoin)==null?void 0:N.transaction)==null?void 0:A.daily_bought_vol.data.map(Me=>Number(Me[1]))},{name:"Daily Sold Volume",data:(et=(tt=(k=T.data)==null?void 0:k.stablecoin)==null?void 0:tt.transaction)==null?void 0:et.daily_sold_vol.data.map(Me=>Number(Me[1]))}]},null,8,["labels","data"])]),Tt("div",q_,[Te(io,{title:"Hourly Bought / Sold Volume",labels:(R=(U=(K=T.data)==null?void 0:K.stablecoin)==null?void 0:U.transaction)==null?void 0:R.hourly_bought_vol.data.map(Me=>Cn(Sh)(Me[0]).unix()),data:[{name:"Hourly Bought Volume",data:(W=(C=(g=T.data)==null?void 0:g.stablecoin)==null?void 0:C.transaction)==null?void 0:W.hourly_bought_vol.data.map(Me=>Number(Me[1]))},{name:"Hourly Sold Volume",data:(nt=(G=(z=T.data)==null?void 0:z.stablecoin)==null?void 0:G.transaction)==null?void 0:nt.hourly_sold_vol.data.map(Me=>Number(Me[1]))}]},null,8,["labels","data"])])])]),Tt("div",tx,[ex,Tt("div",nx,[Tt("div",rx,[Te(io,{title:"Token Supply Over Time",labels:(vt=(q=(j=T.data)==null?void 0:j.stablecoin)==null?void 0:q.supply)==null?void 0:vt.data.map(Me=>String(Me[0])).reverse(),data:[{name:"Token Supply Over Time",data:(At=(wt=(mt=T.data)==null?void 0:mt.stablecoin)==null?void 0:wt.supply)==null?void 0:At.data.map(Me=>Number(Me[1])).reverse()}]},null,8,["labels","data"])]),Tt("div",ix,[Te(io,{title:"Token Price in USD over time",labels:(me=(jt=(Kt=T.data)==null?void 0:Kt.stablecoin)==null?void 0:jt.price)==null?void 0:me.data.map(Me=>String(Me[0])).reverse(),data:[{name:"Token Price in USD over time",data:(Pt=($t=(zt=T.data)==null?void 0:zt.stablecoin)==null?void 0:$t.price)==null?void 0:Pt.data.map(Me=>Number(Me[1])).reverse()}]},null,8,["labels","data"])]),Tt("div",ox,[Te(io,{title:"Token Price in ETH over time",labels:(de=(se=(Ft=T.data)==null?void 0:Ft.stablecoin)==null?void 0:se.price)==null?void 0:de.data.map(Me=>String(Me[0])).reverse(),data:[{name:"Token Price in ETH over time",data:(Qt=(Oe=(Ie=T.data)==null?void 0:Ie.stablecoin)==null?void 0:Oe.price)==null?void 0:Qt.data.map(Me=>Number(Me[3])).reverse()}]},null,8,["labels","data"])]),Tt("div",sx,[Te(Wa,{title:"Top 10 holders",labels:(fn=(ln=(rn=($e=T.data)==null?void 0:$e.stablecoin)==null?void 0:rn.topKHolder)==null?void 0:ln.data)==null?void 0:fn.map(Me=>String(Me[0]).substring(0,10)),data:(sn=(cn=(un=(Pe=T.data)==null?void 0:Pe.stablecoin)==null?void 0:un.topKHolder)==null?void 0:cn.data)==null?void 0:sn.map(Me=>Me[1])},null,8,["labels","data"])]),Tt("div",ax,[Te(Wa,{title:"Age Stats",labels:(pe=(Hn=(Or=(Vn=(hn=T.data)==null?void 0:hn.stablecoin)==null?void 0:Vn.holderAgeFreqPortfolio)==null?void 0:Or.age)==null?void 0:Hn.data)==null?void 0:pe.map(Me=>String(Me[1])),data:(Ne=(ge=(hr=(Ze=(bt=T.data)==null?void 0:bt.stablecoin)==null?void 0:Ze.holderAgeFreqPortfolio)==null?void 0:hr.age)==null?void 0:ge.data)==null?void 0:Ne.map(Me=>Number(Me[2]))},null,8,["labels","data"])]),Tt("div",ux,[Te(Wa,{title:"Freq Stats",labels:(St=(ct=(Et=(I=(Ut=T.data)==null?void 0:Ut.stablecoin)==null?void 0:I.holderAgeFreqPortfolio)==null?void 0:Et.freq)==null?void 0:ct.data)==null?void 0:St.map(Me=>String(Me[1])),data:(re=(Bt=(_t=(Ot=(xt=T.data)==null?void 0:xt.stablecoin)==null?void 0:Ot.holderAgeFreqPortfolio)==null?void 0:_t.freq)==null?void 0:Bt.data)==null?void 0:re.map(Me=>Number(Me[2]))},null,8,["labels","data"])]),Tt("div",lx,[Te(Wa,{title:"Portfolio Stats",labels:(He=(he=(te=(De=(Gt=T.data)==null?void 0:Gt.stablecoin)==null?void 0:De.holderAgeFreqPortfolio)==null?void 0:te.portfolio)==null?void 0:he.data)==null?void 0:He.map(Me=>String(Me[1])),data:(je=(xe=(ze=(qe=(en=T.data)==null?void 0:en.stablecoin)==null?void 0:qe.holderAgeFreqPortfolio)==null?void 0:ze.portfolio)==null?void 0:xe.data)==null?void 0:je.map(Me=>Number(Me[2]))},null,8,["labels","data"])])])])],64)}}}),hx={class:"container py-2 mt-4",style:{"max-width":"1080px"}},cx={key:0},dx={key:1,class:"p-3 mx-auto",style:{"max-width":"960px"}},vx=Tt("div",{class:"loading mx-auto mt-5"},null,-1),px=[vx],gx=jr({__name:"StablecoinView",setup(T){const t=Ni(!0),i=El(),v=Ni({}),O=Ni([{name:"Overview",icon:"bi-house-door"},{name:"AML/KYT",icon:"bi-shield-check"},{name:"Team & Social Media",icon:"bi-people"},{name:"Smart Contract Validation",icon:"bi-check2-square"},{name:"Financial Analysis",icon:"bi-currency-dollar"},{name:"Security and Compliance",icon:"bi-lock"},{name:"On-chain Statistic",icon:"bi-coin"}]),F=Ni(0);function b(c){F.value=c,window.scrollTo({top:0,left:0,behavior:"instant"})}return Ka(async()=>{window.scrollTo({top:0,left:0,behavior:"instant"});const c=await Sc.getProjectData(i.params.type,i.params.id,{sosovalue:!0,scv:!0,securityAssessment:!0,twitter:!0,linkedin:!0,sosoValueNews:!0,stablecoin:!0,zanRiskScore:!0});v.value=c,t.value=!1}),(c,e)=>(Fe(),an(Xr,null,[Te(Tc),Te(Rc,{views:O.value,"view-idx":F.value,onChangeView:b},null,8,["views","view-idx"]),Tt("div",hx,[t.value?Ln("",!0):(Fe(),an("div",cx,[Te(Gy,{data:v.value},null,8,["data"]),F.value==0?(Fe(),xr(qy,{key:0,data:v.value},null,8,["data"])):Ln("",!0),F.value==1?(Fe(),xr(Uw,{key:1,data:v.value},null,8,["data"])):Ln("",!0),F.value==2?(Fe(),xr(DE,{key:2,data:v.value},null,8,["data"])):Ln("",!0),F.value==3?(Fe(),xr(UE,{key:3,data:v.value},null,8,["data"])):Ln("",!0),F.value==4?(Fe(),xr(x_,{key:4,data:v.value},null,8,["data"])):Ln("",!0),F.value==5?(Fe(),xr(F_,{key:5,data:v.value},null,8,["data"])):Ln("",!0),F.value==6?(Fe(),xr(fx,{key:6,data:v.value},null,8,["data"])):Ln("",!0)])),t.value?(Fe(),an("div",dx,px)):Ln("",!0)])],64))}}),mx={class:"mb-3"},yx={class:"row"},bx={class:"col-md-8 my-2"},wx={class:"row"},Ex={class:"col-md-3 d-flex align-items-center justify-content-center"},_x=["src"],xx={class:"col-md-9"},Mx={class:"h3 mb-0"},Ox={class:"mt-2 small"},Sx=["href"],Tx=["href"],Cx=["href"],Px=["href"],Lx=["href"],Dx=["href"],Nx=["href"],Ax=["href"],Ix=["href"],Rx={class:"col-md-4 my-2"},Bx={class:"text-center h-100 d-flex flex-column align-items-center justify-content-center"},kx={class:"small"},zx={key:0,class:"d-flex align-items-center justify-content-center",style:{"font-size":"4.5rem"}},Wx=jr({__name:"HeaderView",props:{data:Object},setup(T){return(t,i)=>{const v=Mr("el-tooltip");return Fe(),an("div",mx,[Tt("div",yx,[Tt("div",bx,[Te(yr,{class:"h-100",style:{"min-height":"180px"}},{default:dn(()=>{var O,F,b,c,e,n,o,f,s,a,u,h,p,y,w,d,M,D,B,Y,N,A,k,tt,et,K;return[Tt("div",wx,[Tt("div",Ex,[Tt("img",{src:(O=T.data)==null?void 0:O.logoUrl,alt:"Logo",style:{"max-width":"128px"}},null,8,_x)]),Tt("div",xx,[Tt("div",Mx,on((F=T.data)==null?void 0:F.name),1),Tt("div",null,on((b=T.data)==null?void 0:b.type)+" @ "+on((c=T.data)==null?void 0:c.registration),1),Tt("div",null,"Established at "+on((e=T.data)==null?void 0:e.established),1),Tt("div",null,"Launched at "+on((o=(n=T.data)==null?void 0:n.launch_info)==null?void 0:o.launch_date),1),Tt("div",null,on((s=(f=T.data)==null?void 0:f.launch_info)==null?void 0:s.growth),1),Tt("div",Ox,[(a=T.data)!=null&&a.email?(Fe(),an("a",{key:0,class:"me-2",href:`mailto:${T.data.email}`},[Te(Cn(by),{"stroke-width":1,size:18})],8,Sx)):Ln("",!0),(h=(u=T.data)==null?void 0:u.website_info)!=null&&h.url?(Fe(),an("a",{key:1,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.website_info.url,target:"_blank"},[Te(Cn(Lc),{"stroke-width":1,size:18})],8,Tx)):Ln("",!0),(y=(p=T.data)==null?void 0:p.website_info)!=null&&y.facebook?(Fe(),an("a",{key:2,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.website_info.facebook,target:"_blank"},[Te(Cn(yy),{"stroke-width":1,size:18})],8,Cx)):Ln("",!0),(d=(w=T.data)==null?void 0:w.website_info)!=null&&d.twitter?(Fe(),an("a",{key:3,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.website_info.twitter,target:"_blank"},[Te(Cn(xl),{"stroke-width":1,size:18})],8,Px)):Ln("",!0),(D=(M=T.data)==null?void 0:M.website_info)!=null&&D.linkedin?(Fe(),an("a",{key:4,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.website_info.linkedin,target:"_blank"},[Te(Cn(_l),{"stroke-width":1,size:18})],8,Lx)):Ln("",!0),(Y=(B=T.data)==null?void 0:B.website_info)!=null&&Y.discord?(Fe(),an("a",{key:5,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.website_info.discord,target:"_blank"},[Te(Cn(my),{"stroke-width":1,size:18})],8,Dx)):Ln("",!0),(A=(N=T.data)==null?void 0:N.website_info)!=null&&A.reddit?(Fe(),an("a",{key:6,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.website_info.reddit,target:"_blank"},[Te(Cn(Nc),{"stroke-width":1,size:18})],8,Nx)):Ln("",!0),(tt=(k=T.data)==null?void 0:k.website_info)!=null&&tt.github?(Fe(),an("a",{key:7,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.website_info.github,target:"_blank"},[Te(Cn(Dc),{"stroke-width":1,size:18})],8,Ax)):Ln("",!0),(K=(et=T.data)==null?void 0:et.website_info)!=null&&K.telegram?(Fe(),an("a",{key:8,class:"me-2",style:{color:"var(--el-color-primary)"},href:T.data.website_info.telegram,target:"_blank"},[Te(Cn(Ac),{"stroke-width":1,size:18})],8,Ix)):Ln("",!0)])])])]}),_:1})]),Tt("div",Rx,[Te(yr,{class:"h-100"},{default:dn(()=>{var O,F,b,c;return[Tt("div",Bx,[Tt("div",kx,[go(" TRUST SCORE "),Te(v,{class:"box-item",style:{"max-width":"320px"},effect:"dark","raw-content":!0,content:"Trust Score is a rating algorithm developed by insightic to evaluate the legitimacy of<br/>an exchange. Trust Score is calculated on a range of metrics such as liquidity, scale<br/>of operations, cybersecurity score, and more from various data sources, including<br/>trustworthy third parties and home-grown databases.",placement:"bottom-start"},{default:dn(()=>[Te(Cn(Ic),{size:16,style:{cursor:"pointer"}})]),_:1})]),(F=(O=T.data)==null?void 0:O.securityScore)!=null&&F.combined_security_score?(Fe(),an("div",zx,on((c=(b=T.data)==null?void 0:b.securityScore)==null?void 0:c.combined_security_score),1)):Ln("",!0)])]}),_:1})])])])}}}),Fx={class:"mb-3"},Ux=Tt("div",{class:"h2 mb-2"},"Overview",-1),$x={class:"row"},Gx={class:"col-md-12 my-2"},Vx={class:"col-md-12 my-2"},Kx={class:"col-md-12 my-2"},Hx={class:"col-md-6 my-2"},Yx=["innerHTML"],Xx={class:"col-md-6 my-2"},jx=Tt("td",{class:"small secondary"},"BTC Value:",-1),Qx=Tt("td",{class:"small secondary"},"Total Assets:",-1),Zx=Tt("td",{class:"small secondary"},"Spot Trading Volume:  ",-1),Jx=Tt("td",{class:"small secondary"},"Exchange Report Status 24h:  ",-1),qx={class:"col-md-6 my-2"},t2={class:"col-md-6 my-2"},e2={class:"col-md-6 my-2"},n2=["href"],r2={class:"col-md-6 my-2"},i2={class:"small text-secondary mb-2"},o2=Tt("td",{class:"small text-secondary"},"Penetration Test:  ",-1),s2=Tt("td",{class:"small text-secondary"},"Proof of Funds:",-1),a2=Tt("td",{class:"small text-secondary"},"Bug Bounty:",-1),u2=jr({__name:"OverviewView",props:{data:Object},setup(T){return(t,i)=>{var F,b,c,e;const v=Mr("el-table-column"),O=Mr("el-table");return Fe(),an("div",Fx,[Ux,Tt("div",$x,[Tt("div",Gx,[Te(yr,{class:"h-100",subheader:"Overview"},{default:dn(()=>{var n;return[go(on((n=T.data)==null?void 0:n.overview),1)]}),_:1})]),Tt("div",Vx,[Te(yr,{class:"h-100",subheader:"History"},{default:dn(()=>{var n;return[go(on((n=T.data)==null?void 0:n.history),1)]}),_:1})]),Tt("div",Kx,[Te(O,{border:!0,data:(b=(F=T.data)==null?void 0:F.coinMarketCap)==null?void 0:b.pair_table_data},{default:dn(()=>[Te(v,{label:"Rank",prop:"Rank"}),Te(v,{label:"Currency",prop:"Currency"}),Te(v,{label:"Pair",prop:"Pair"}),Te(v,{label:"Price",prop:"Price"}),Te(v,{label:"+2% Depth",prop:"+2% Depth"}),Te(v,{label:"-2% Depth",prop:"-2% Depth"}),Te(v,{label:"Volume",prop:"Volume"}),Te(v,{label:"Volume %",prop:"Volume %"})]),_:1},8,["data"])]),Tt("div",Hx,[Te(yr,{class:"h-100",subheader:`${(c=T.data)==null?void 0:c.name} restricted countries`},{default:dn(()=>{var n;return[Tt("div",{innerHTML:Cn(oi)((n=T.data)==null?void 0:n.restricted_countries)},null,8,Yx)]}),_:1},8,["subheader"])]),Tt("div",Xx,[Te(yr,{class:"h-100",subheader:"trading information"},{default:dn(()=>{var n,o,f,s,a,u,h,p;return[Tt("table",null,[Tt("tr",null,[jx,Tt("td",null,on((o=(n=T.data)==null?void 0:n.coinMarketCap)==null?void 0:o.btc_value),1)]),Tt("tr",null,[Qx,Tt("td",null,on((s=(f=T.data)==null?void 0:f.coinMarketCap)==null?void 0:s.total_assets),1)]),Tt("tr",null,[Zx,Tt("td",null,on((u=(a=T.data)==null?void 0:a.coinMarketCap)==null?void 0:u.spot_trading_volume),1)]),Tt("tr",null,[Jx,Tt("td",null,on((p=(h=T.data)==null?void 0:h.coinMarketCap)==null?void 0:p.exchange_report_status),1)])])]}),_:1})]),Tt("div",qx,[Te(yr,{class:"h-100",subheader:`Is It Possible To Use Leverage or Margin Trading on ${(e=T.data)==null?void 0:e.name}?`},{default:dn(()=>{var n,o;return[Tt("div",null,on((o=(n=T.data)==null?void 0:n.margin_trading)==null?void 0:o.details),1)]}),_:1},8,["subheader"])]),Tt("div",t2,[Te(yr,{class:"h-100",subheader:"most active trading pair"},{default:dn(()=>{var n,o,f,s;return[Tt("div",null,on((o=(n=T.data)==null?void 0:n.most_active_trading_pair)==null?void 0:o.pair),1),Tt("div",null,on((s=(f=T.data)==null?void 0:f.most_active_trading_pair)==null?void 0:s.volume_24h),1)]}),_:1})]),Tt("div",e2,[Te(yr,{class:"h-100",subheader:"fees"},{default:dn(()=>{var n,o,f,s;return[Tt("div",null,[Tt("a",{href:(o=(n=T.data)==null?void 0:n.fees)==null?void 0:o.url,target:"_blank"},on((s=(f=T.data)==null?void 0:f.fees)==null?void 0:s.url),9,n2)])]}),_:1})]),Tt("div",r2,[Te(yr,{class:"h-100",subheader:"cybersecurity tests"},{default:dn(()=>{var n,o,f,s,a,u,h,p;return[Tt("div",i2," Last Update: "+on((o=(n=T.data)==null?void 0:n.cybersecurity_details)==null?void 0:o.last_updated),1),Tt("table",null,[Tt("tr",null,[o2,Tt("td",null,on((s=(f=T.data)==null?void 0:f.cybersecurity_details)==null?void 0:s.penetration_test),1)]),Tt("tr",null,[s2,Tt("td",null,on((u=(a=T.data)==null?void 0:a.cybersecurity_details)==null?void 0:u.proof_of_funds),1)]),Tt("tr",null,[a2,Tt("td",null,on((p=(h=T.data)==null?void 0:h.cybersecurity_details)==null?void 0:p.bug_bounty),1)])])]}),_:1})])])])}}}),l2=Tt("div",{class:"h2 mb-2"},"Summary",-1),f2={class:"row"},h2={class:"col-md-12 my-2"},c2=Tt("div",{class:"h2 mb-2"},"Reviews",-1),d2={class:"row"},v2={class:"small text-secondary mb-2"},p2=jr({__name:"TeamSocialMediaView",props:["data"],setup(T){return(t,i)=>(Fe(),an(Xr,null,[l2,Tt("div",f2,[Tt("div",h2,[Te(yr,null,{default:dn(()=>[go(on(T.data.webReview.overall_prompt_summary),1)]),_:1})]),(Fe(!0),an(Xr,null,Xi(T.data.webReview.prompts_output,(v,O)=>(Fe(),an("div",{class:"col-md-6 my-2",key:O},[Te(yr,{subheader:v.category,class:"h-100"},{default:dn(()=>[go(on(v.Output),1)]),_:2},1032,["subheader"])]))),128))]),c2,Tt("div",d2,[(Fe(!0),an(Xr,null,Xi(T.data.webReview.list_of_reviews,(v,O)=>(Fe(),an("div",{class:"col-md-6 my-2",key:O},[Te(yr,{subheader:v.review_title,class:"h-100"},{default:dn(()=>[Tt("div",v2,on(v.reviewer)+", "+on(v.review_date),1),Tt("div",null,on(v.review),1)]),_:2},1032,["subheader"])]))),128))])],64))}}),g2={class:"row"},m2={class:"col-md-3"},y2={class:"col-md-9"},b2={class:"h3 mb-0"},w2={class:"mb-2"},E2=Tt("td",{class:"small text-secondary"},"Token:",-1),_2=Tt("td",{class:"small text-secondary"},"Transaction Amount:",-1),x2=Tt("td",{class:"small text-secondary"},"From Address:",-1),M2=Tt("td",{class:"small text-secondary"},"From Wallet Address:   ",-1),O2=Tt("td",{class:"small text-secondary"},"To Address:",-1),S2=Tt("td",{class:"small text-secondary"},"To Wallet Address:",-1),T2=jr({__name:"TransactionMonitoringView",props:["data"],setup(T){const t=T,i=oo(()=>t.data.transactionMonitoring.slice(0,t.data.transactionMonitoring.length>5?5:t.data.transactionMonitoring.length)),v=oo(()=>i.value.map(b=>b.created_date)),O=Ni(v.value[0]),F=oo(()=>i.value.filter(b=>b.created_date===O.value)[0]);return(b,c)=>{const e=Mr("el-option"),n=Mr("el-select"),o=Mr("el-timeline-item"),f=Mr("el-timeline");return Fe(),xr(yr,null,{default:dn(()=>[Tt("div",g2,[Tt("div",m2,[Te(n,{modelValue:O.value,"onUpdate:modelValue":c[0]||(c[0]=s=>O.value=s),placeholder:"Select",style:{width:"240px"}},{default:dn(()=>[(Fe(!0),an(Xr,null,Xi(v.value,s=>(Fe(),xr(e,{key:s,label:s,value:s},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),Tt("div",y2,[Te(f,{style:{"max-width":"600px"}},{default:dn(()=>[(Fe(!0),an(Xr,null,Xi(F.value.results,(s,a)=>(Fe(),xr(o,{key:a},{default:dn(()=>[Tt("div",b2,on(s.title),1),Tt("div",w2,on(Cn(Xo)(O.value.created_date))+" "+on(s.time_recorded),1),Tt("table",null,[Tt("tr",null,[E2,Tt("td",null,on(s.token),1)]),Tt("tr",null,[_2,Tt("td",null,on(s.amount),1)]),Tt("tr",null,[x2,Tt("td",null,on(s.from_address),1)]),Tt("tr",null,[M2,Tt("td",null,on(s.from_wallet_address),1)]),Tt("tr",null,[O2,Tt("td",null,on(s.to_address),1)]),Tt("tr",null,[S2,Tt("td",null,on(s.to_wallet_address),1)])])]),_:2},1024))),128))]),_:1})])])]),_:1})}}});var ud={exports:{}};(function(T,t){(function(v,O){T.exports=O()})(self,function(){return function(){var i={8570:function(b){(function(e,n){b.exports=n()})(typeof self<"u"?self:this,function(){return function(c){var e={};function n(o){if(e[o])return e[o].exports;var f=e[o]={i:o,l:!1,exports:{}};return c[o].call(f.exports,f,f.exports,n),f.l=!0,f.exports}return n.m=c,n.c=e,n.d=function(o,f,s){n.o(o,f)||Object.defineProperty(o,f,{configurable:!1,enumerable:!0,get:s})},n.n=function(o){var f=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(f,"a",f),f},n.o=function(o,f){return Object.prototype.hasOwnProperty.call(o,f)},n.p="",n(n.s=36)}([function(c,e,n){var o=n(3);e.a=function(f){return Array.isArray?Array.isArray(f):Object(o.a)(f,"Array")}},function(c,e,n){var o=function(f){return f!==null&&typeof f!="function"&&isFinite(f.length)};e.a=o},function(c,e,n){var o=n(3);e.a=function(f){return Object(o.a)(f,"Function")}},function(c,e,n){var o={}.toString,f=function(s,a){return o.call(s)==="[object "+a+"]"};e.a=f},function(c,e,n){var o=n(3);e.a=function(f){return Object(o.a)(f,"String")}},function(c,e,n){var o=n(3),f=function(s){return Object(o.a)(s,"Number")};e.a=f},function(c,e,n){var o=n(38),f=o.mix;function s(a,u,h,p){return p===void 0&&(p="height"),h==="center"?(a[p]+u[p])/2:a.height}c.exports={assign:f,getHeight:s}},function(c,e,n){var o=function(f){return f==null};e.a=o},function(c,e,n){var o=n(0),f=n(12);function s(a,u){if(a){var h;if(Object(o.a)(a))for(var p=0,y=a.length;p<y&&(h=u(a[p],p),h!==!1);p++);else if(Object(f.a)(a)){for(var w in a)if(a.hasOwnProperty(w)&&(h=u(a[w],w),h===!1))break}}}e.a=s},function(c,e,n){var o=n(7);e.a=function(f){return Object(o.a)(f)?"":f.toString()}},function(c,e,n){var o=n(14),f=n(3),s=function(a){if(!Object(o.a)(a)||!Object(f.a)(a,"Object"))return!1;if(Object.getPrototypeOf(a)===null)return!0;for(var u=a;Object.getPrototypeOf(u)!==null;)u=Object.getPrototypeOf(u);return Object.getPrototypeOf(a)===u};e.a=s},function(c,e,n){var o=n(18),f=function(){function s(u,h){h===void 0&&(h={});var p=this;p.options=h,p.rootNode=o(u,h)}var a=s.prototype;return a.execute=function(){throw new Error("please override this method")},s}();c.exports=f},function(c,e,n){e.a=function(o){var f=typeof o;return o!==null&&f==="object"||f==="function"}},function(c,e,n){var o=n(1),f=function(s,a){return Object(o.a)(s)?s.indexOf(a)>-1:!1};e.a=f},function(c,e,n){var o=function(f){return typeof f=="object"&&f!==null};e.a=o},function(c,e,n){var o=n(8),f=n(2),s=Object.values?function(a){return Object.values(a)}:function(a){var u=[];return Object(o.a)(a,function(h,p){Object(f.a)(a)&&p==="prototype"||u.push(h)}),u};e.a=s},function(c,e,n){e.a=f;function o(s,a){for(var u in a)a.hasOwnProperty(u)&&u!=="constructor"&&a[u]!==void 0&&(s[u]=a[u])}function f(s,a,u,h){return a&&o(s,a),u&&o(s,u),h&&o(s,h),s}},function(c,e,n){var o=n(35),f=["LR","RL","TB","BT","H","V"],s=["LR","RL","H"],a=function(p){return s.indexOf(p)>-1},u=f[0];c.exports=function(h,p,y){var w=p.direction||u;if(p.isHorizontal=a(w),w&&f.indexOf(w)===-1)throw new TypeError("Invalid direction: "+w);if(w===f[0])y(h,p);else if(w===f[1])y(h,p),h.right2left();else if(w===f[2])y(h,p);else if(w===f[3])y(h,p),h.bottom2top();else if(w===f[4]||w===f[5]){var d=o(h,p),M=d.left,D=d.right;y(M,p),y(D,p),p.isHorizontal?M.right2left():M.bottom2top(),D.translate(M.x-D.x,M.y-D.y),h.x=M.x,h.y=D.y;var B=h.getBoundingBox();p.isHorizontal?B.top<0&&h.translate(0,-B.top):B.left<0&&h.translate(-B.left,0)}var Y=p.fixedRoot;return Y===void 0&&(Y=!0),Y&&h.translate(-(h.x+h.width/2+h.hgap),-(h.y+h.height/2+h.vgap)),h}},function(c,e,n){var o=n(6),f=18,s=f*2,a=f,u={getId:function(w){return w.id||w.name},getPreH:function(w){return w.preH||0},getPreV:function(w){return w.preV||0},getHGap:function(w){return w.hgap||a},getVGap:function(w){return w.vgap||a},getChildren:function(w){return w.children},getHeight:function(w){return w.height||s},getWidth:function(w){var d=w.label||" ";return w.width||d.split("").length*f}};function h(y,w){var d=this;if(d.vgap=d.hgap=0,y instanceof h)return y;d.data=y;var M=w.getHGap(y),D=w.getVGap(y);return d.preH=w.getPreH(y),d.preV=w.getPreV(y),d.width=w.getWidth(y),d.height=w.getHeight(y),d.width+=d.preH,d.height+=d.preV,d.id=w.getId(y),d.x=d.y=0,d.depth=0,d.children||(d.children=[]),d.addGap(M,D),d}o.assign(h.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(w,d){var M=this;M.hgap+=w,M.vgap+=d,M.width+=2*w,M.height+=2*d},eachNode:function(w){for(var d=this,M=[d],D;D=M.shift();)w(D),M=D.children.concat(M)},DFTraverse:function(w){this.eachNode(w)},BFTraverse:function(w){for(var d=this,M=[d],D;D=M.shift();)w(D),M=M.concat(D.children)},getBoundingBox:function(){var w={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(d){w.left=Math.min(w.left,d.x),w.top=Math.min(w.top,d.y),w.width=Math.max(w.width,d.x+d.width),w.height=Math.max(w.height,d.y+d.height)}),w},translate:function(w,d){w===void 0&&(w=0),d===void 0&&(d=0),this.eachNode(function(M){M.x+=w,M.y+=d,M.x+=M.preH,M.y+=M.preV})},right2left:function(){var w=this,d=w.getBoundingBox();w.eachNode(function(M){M.x=M.x-(M.x-d.left)*2-M.width}),w.translate(d.width,0)},bottom2top:function(){var w=this,d=w.getBoundingBox();w.eachNode(function(M){M.y=M.y-(M.y-d.top)*2-M.height}),w.translate(0,d.height)}});function p(y,w,d){w===void 0&&(w={}),w=o.assign({},u,w);var M=new h(y,w),D=[M],B;if(!d&&!y.collapsed){for(;B=D.shift();)if(!B.data.collapsed){var Y=w.getChildren(B.data),N=Y?Y.length:0;if(B.children=new Array(N),Y&&N)for(var A=0;A<N;A++){var k=new h(Y[A],w);B.children[A]=k,D.push(k),k.parent=B,k.depth=B.depth+1}}}return M}c.exports=p},function(c,e,n){var o=n(1),f=function(s,a){if(!Object(o.a)(s))return s;for(var u=[],h=0;h<s.length;h++){var p=s[h];a(p,h)&&u.push(p)}return u};e.a=f},function(c,e,n){var o=n(7),f=n(21);function s(a,u){var h=Object(f.a)(u),p=h.length;if(Object(o.a)(a))return!p;for(var y=0;y<p;y+=1){var w=h[y];if(u[w]!==a[w]||!(w in a))return!1}return!0}e.a=s},function(c,e,n){var o=n(8),f=n(2),s=Object.keys?function(a){return Object.keys(a)}:function(a){var u=[];return Object(o.a)(a,function(h,p){Object(f.a)(a)&&p==="prototype"||u.push(p)}),u};e.a=s},function(c,e,n){var o=n(0);e.a=function(f){if(Object(o.a)(f))return f.reduce(function(s,a){return Math.max(s,a)},f[0])}},function(c,e,n){var o=n(0);e.a=function(f){if(Object(o.a)(f))return f.reduce(function(s,a){return Math.min(s,a)},f[0])}},function(c,e,n){var o=n(1),f=Array.prototype.splice,s=function(u,h){if(!Object(o.a)(u))return[];for(var p=u?h.length:0,y=p-1;p--;){var w=void 0,d=h[p];(p===y||d!==w)&&(w=d,f.call(u,d,1))}return u};e.a=s},function(c,e,n){var o=n(8),f=n(0),s=n(10),a=function(u,h,p){if(!Object(f.a)(u)&&!Object(s.a)(u))return u;var y=p;return Object(o.a)(u,function(w,d){y=h(y,w,d)}),y};e.a=a},function(c,e,n){e.a=o;function o(f,s){s===void 0&&(s=new Map);var a=[];if(Array.isArray(f))for(var u=0,h=f.length;u<h;u++){var p=f[u];s.has(p)||(a.push(p),s.set(p,!0))}return a}},function(c,e,n){e.a=a;var o=n(0),f=n(2),s=n(28);function a(u,h){if(!h)return{0:u};if(!Object(f.a)(h)){var p=Object(o.a)(h)?h:h.replace(/\s+/g,"").split("*");h=function(y){for(var w="_",d=0,M=p.length;d<M;d++)w+=y[p[d]]&&y[p[d]].toString();return w}}return Object(s.a)(u,h)}},function(c,e,n){var o=n(0),f=n(2),s=Object.prototype.hasOwnProperty;function a(u,h){if(!h||!Object(o.a)(u))return{};for(var p={},y=Object(f.a)(h)?h:function(D){return D[h]},w,d=0;d<u.length;d++){var M=u[d];w=y(M),s.call(p,w)?p[w].push(M):p[w]=[M]}return p}e.a=a},function(c,e,n){e.a=function(o,f){return o.hasOwnProperty(f)}},function(c,e,n){var o={}.toString,f=function(s){return o.call(s).replace(/^\[object /,"").replace(/]$/,"")};e.a=f},function(c,e,n){var o=Object.prototype,f=function(s){var a=s&&s.constructor,u=typeof a=="function"&&a.prototype||o;return s===u};e.a=f},function(c,e,n){var o=n(2);e.a=function(f,s){if(!Object(o.a)(f))throw new TypeError("Expected a function");var a=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var p=s?s.apply(this,u):u[0],y=a.cache;if(y.has(p))return y.get(p);var w=f.apply(this,u);return y.set(p,w),w};return a.cache=new Map,a}},function(c,e,n){var o=n(14),f=n(1),s=n(4),a=function(u,h){if(u===h)return!0;if(!u||!h||Object(s.a)(u)||Object(s.a)(h))return!1;if(Object(f.a)(u)||Object(f.a)(h)){if(u.length!==h.length)return!1;for(var p=!0,y=0;y<u.length&&(p=a(u[y],h[y]),!!p);y++);return p}if(Object(o.a)(u)||Object(o.a)(h)){var w=Object.keys(u),d=Object.keys(h);if(w.length!==d.length)return!1;for(var p=!0,y=0;y<w.length&&(p=a(u[w[y]],h[w[y]]),!!p);y++);return p}return!1};e.a=a},function(c,e,n){var o=n(116),f=n(15),s=n(32),a=n(4),u;e.a=Object(s.a)(function(h,p){p===void 0&&(p={});var y=p.fontSize,w=p.fontFamily,d=p.fontWeight,M=p.fontStyle,D=p.fontVariant;return u||(u=document.createElement("canvas").getContext("2d")),u.font=[M,D,d,y+"px",w].join(" "),u.measureText(Object(a.a)(h)?h:"").width},function(h,p){return p===void 0&&(p={}),Object(o.a)([h],Object(f.a)(p)).join("")})},function(c,e,n){var o=n(18);c.exports=function(f,s){for(var a=o(f.data,s,!0),u=o(f.data,s,!0),h=f.children.length,p=Math.round(h/2),y=s.getSide||function(D,B){return B<p?"right":"left"},w=0;w<h;w++){var d=f.children[w],M=y(d,w);M==="right"?u.children.push(d):a.children.push(d)}return a.eachNode(function(D){D.isRoot()||(D.side="left")}),u.eachNode(function(D){D.isRoot()||(D.side="right")}),{left:a,right:u}}},function(c,e,n){var o={compactBox:n(37),dendrogram:n(120),indented:n(122),mindmap:n(124)};c.exports=o},function(c,e,n){function o(d,M){d.prototype=Object.create(M.prototype),d.prototype.constructor=d,f(d,M)}function f(d,M){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B},f(d,M)}var s=n(11),a=n(119),u=n(17),h=n(6),p=function(d){o(M,d);function M(){return d.apply(this,arguments)||this}var D=M.prototype;return D.execute=function(){var Y=this;return u(Y.rootNode,Y.options,a)},M}(s),y={};function w(d,M){return M=h.assign({},y,M),new p(d,M).execute()}c.exports=w},function(c,e,n){Object.defineProperty(e,"__esModule",{value:!0});var o=n(13);n.d(e,"contains",function(){return o.a}),n.d(e,"includes",function(){return o.a});var f=n(39);n.d(e,"difference",function(){return f.a});var s=n(40);n.d(e,"find",function(){return s.a});var a=n(41);n.d(e,"findIndex",function(){return a.a});var u=n(42);n.d(e,"firstValue",function(){return u.a});var h=n(43);n.d(e,"flatten",function(){return h.a});var p=n(44);n.d(e,"flattenDeep",function(){return p.a});var y=n(45);n.d(e,"getRange",function(){return y.a});var w=n(46);n.d(e,"pull",function(){return w.a});var d=n(24);n.d(e,"pullAt",function(){return d.a});var M=n(25);n.d(e,"reduce",function(){return M.a});var D=n(47);n.d(e,"remove",function(){return D.a});var B=n(48);n.d(e,"sortBy",function(){return B.a});var Y=n(49);n.d(e,"union",function(){return Y.a});var N=n(26);n.d(e,"uniq",function(){return N.a});var A=n(50);n.d(e,"valuesOfKey",function(){return A.a});var k=n(51);n.d(e,"head",function(){return k.a});var tt=n(52);n.d(e,"last",function(){return tt.a});var et=n(53);n.d(e,"startsWith",function(){return et.a});var K=n(54);n.d(e,"endsWith",function(){return K.a});var U=n(19);n.d(e,"filter",function(){return U.a});var R=n(55);n.d(e,"every",function(){return R.a});var g=n(56);n.d(e,"some",function(){return g.a});var C=n(57);n.d(e,"group",function(){return C.a});var W=n(28);n.d(e,"groupBy",function(){return W.a});var z=n(27);n.d(e,"groupToMap",function(){return z.a});var G=n(58);n.d(e,"getWrapBehavior",function(){return G.a});var nt=n(59);n.d(e,"wrapBehavior",function(){return nt.a});var j=n(60);n.d(e,"number2color",function(){return j.a});var q=n(61);n.d(e,"parseRadius",function(){return q.a});var vt=n(62);n.d(e,"clamp",function(){return vt.a});var mt=n(63);n.d(e,"fixedBase",function(){return mt.a});var wt=n(64);n.d(e,"isDecimal",function(){return wt.a});var At=n(65);n.d(e,"isEven",function(){return At.a});var Kt=n(66);n.d(e,"isInteger",function(){return Kt.a});var jt=n(67);n.d(e,"isNegative",function(){return jt.a});var me=n(68);n.d(e,"isNumberEqual",function(){return me.a});var zt=n(69);n.d(e,"isOdd",function(){return zt.a});var $t=n(70);n.d(e,"isPositive",function(){return $t.a});var Pt=n(22);n.d(e,"max",function(){return Pt.a});var Ft=n(71);n.d(e,"maxBy",function(){return Ft.a});var se=n(23);n.d(e,"min",function(){return se.a});var de=n(72);n.d(e,"minBy",function(){return de.a});var Ie=n(73);n.d(e,"mod",function(){return Ie.a});var Oe=n(74);n.d(e,"toDegree",function(){return Oe.a});var Qt=n(75);n.d(e,"toInteger",function(){return Qt.a});var $e=n(76);n.d(e,"toRadian",function(){return $e.a});var rn=n(77);n.d(e,"forIn",function(){return rn.a});var ln=n(29);n.d(e,"has",function(){return ln.a});var fn=n(78);n.d(e,"hasKey",function(){return fn.a});var Pe=n(79);n.d(e,"hasValue",function(){return Pe.a});var un=n(21);n.d(e,"keys",function(){return un.a});var cn=n(20);n.d(e,"isMatch",function(){return cn.a});var sn=n(15);n.d(e,"values",function(){return sn.a});var hn=n(80);n.d(e,"lowerCase",function(){return hn.a});var Vn=n(81);n.d(e,"lowerFirst",function(){return Vn.a});var Or=n(82);n.d(e,"substitute",function(){return Or.a});var Hn=n(83);n.d(e,"upperCase",function(){return Hn.a});var pe=n(84);n.d(e,"upperFirst",function(){return pe.a});var bt=n(30);n.d(e,"getType",function(){return bt.a});var Ze=n(85);n.d(e,"isArguments",function(){return Ze.a});var hr=n(0);n.d(e,"isArray",function(){return hr.a});var ge=n(1);n.d(e,"isArrayLike",function(){return ge.a});var Ne=n(86);n.d(e,"isBoolean",function(){return Ne.a});var Ut=n(87);n.d(e,"isDate",function(){return Ut.a});var I=n(88);n.d(e,"isError",function(){return I.a});var Et=n(2);n.d(e,"isFunction",function(){return Et.a});var ct=n(89);n.d(e,"isFinite",function(){return ct.a});var St=n(7);n.d(e,"isNil",function(){return St.a});var xt=n(90);n.d(e,"isNull",function(){return xt.a});var Ot=n(5);n.d(e,"isNumber",function(){return Ot.a});var _t=n(12);n.d(e,"isObject",function(){return _t.a});var Bt=n(14);n.d(e,"isObjectLike",function(){return Bt.a});var re=n(10);n.d(e,"isPlainObject",function(){return re.a});var Gt=n(31);n.d(e,"isPrototype",function(){return Gt.a});var De=n(91);n.d(e,"isRegExp",function(){return De.a});var te=n(4);n.d(e,"isString",function(){return te.a});var he=n(3);n.d(e,"isType",function(){return he.a});var He=n(92);n.d(e,"isUndefined",function(){return He.a});var en=n(93);n.d(e,"isElement",function(){return en.a});var qe=n(94);n.d(e,"requestAnimationFrame",function(){return qe.a});var ze=n(95);n.d(e,"clearAnimationFrame",function(){return ze.a});var xe=n(96);n.d(e,"augment",function(){return xe.a});var je=n(97);n.d(e,"clone",function(){return je.a});var Me=n(98);n.d(e,"debounce",function(){return Me.a});var Ue=n(32);n.d(e,"memoize",function(){return Ue.a});var Sn=n(99);n.d(e,"deepMix",function(){return Sn.a});var Ke=n(8);n.d(e,"each",function(){return Ke.a});var mn=n(100);n.d(e,"extend",function(){return mn.a});var Bn=n(101);n.d(e,"indexOf",function(){return Bn.a});var Zn=n(102);n.d(e,"isEmpty",function(){return Zn.a});var ir=n(33);n.d(e,"isEqual",function(){return ir.a});var Sr=n(103);n.d(e,"isEqualWith",function(){return Sr.a});var Tn=n(104);n.d(e,"map",function(){return Tn.a});var On=n(105);n.d(e,"mapValues",function(){return On.a});var Un=n(16);n.d(e,"mix",function(){return Un.a}),n.d(e,"assign",function(){return Un.a});var vr=n(106);n.d(e,"get",function(){return vr.a});var Tr=n(107);n.d(e,"set",function(){return Tr.a});var ur=n(108);n.d(e,"pick",function(){return ur.a});var zr=n(109);n.d(e,"omit",function(){return zr.a});var Ye=n(110);n.d(e,"throttle",function(){return Ye.a});var Kn=n(111);n.d(e,"toArray",function(){return Kn.a});var or=n(9);n.d(e,"toString",function(){return or.a});var Dn=n(112);n.d(e,"uniqueId",function(){return Dn.a});var Ar=n(113);n.d(e,"noop",function(){return Ar.a});var _r=n(114);n.d(e,"identity",function(){return _r.a});var Kr=n(115);n.d(e,"size",function(){return Kr.a});var Cr=n(34);n.d(e,"measureTextWidth",function(){return Cr.a});var Pr=n(117);n.d(e,"getEllipsisText",function(){return Pr.a});var si=n(118);n.d(e,"Cache",function(){return si.a})},function(c,e,n){var o=n(19),f=n(13),s=function(a,u){return u===void 0&&(u=[]),Object(o.a)(a,function(h){return!Object(f.a)(u,h)})};e.a=s},function(c,e,n){var o=n(2),f=n(20),s=n(0),a=n(10);function u(h,p){if(!Object(s.a)(h))return null;var y;if(Object(o.a)(p)&&(y=p),Object(a.a)(p)&&(y=function(d){return Object(f.a)(d,p)}),y){for(var w=0;w<h.length;w+=1)if(y(h[w]))return h[w]}return null}e.a=u},function(c,e,n){function o(f,s,a){a===void 0&&(a=0);for(var u=a;u<f.length;u++)if(s(f[u],u))return u;return-1}e.a=o},function(c,e,n){var o=n(7),f=n(0),s=function(a,u){for(var h=null,p=0;p<a.length;p++){var y=a[p],w=y[u];if(!Object(o.a)(w)){Object(f.a)(w)?h=w[0]:h=w;break}}return h};e.a=s},function(c,e,n){var o=n(0),f=function(s){if(!Object(o.a)(s))return[];for(var a=[],u=0;u<s.length;u++)a=a.concat(s[u]);return a};e.a=f},function(c,e,n){var o=n(0),f=function(s,a){if(a===void 0&&(a=[]),!Object(o.a)(s))a.push(s);else for(var u=0;u<s.length;u+=1)f(s[u],a);return a};e.a=f},function(c,e,n){var o=n(0),f=n(22),s=n(23),a=function(u){var h=u.filter(function(M){return!isNaN(M)});if(!h.length)return{min:0,max:0};if(Object(o.a)(u[0])){for(var p=[],y=0;y<u.length;y++)p=p.concat(u[y]);h=p}var w=Object(f.a)(h),d=Object(s.a)(h);return{min:d,max:w}};e.a=a},function(c,e,n){var o=Array.prototype,f=o.splice,s=o.indexOf,a=function(u){for(var h=[],p=1;p<arguments.length;p++)h[p-1]=arguments[p];for(var y=0;y<h.length;y++)for(var w=h[y],d=-1;(d=s.call(u,w))>-1;)f.call(u,d,1);return u};e.a=a},function(c,e,n){var o=n(1),f=n(24),s=function(a,u){var h=[];if(!Object(o.a)(a))return h;for(var p=-1,y=[],w=a.length;++p<w;){var d=a[p];u(d,p,a)&&(h.push(d),y.push(p))}return Object(f.a)(a,y),h};e.a=s},function(c,e,n){var o=n(0),f=n(4),s=n(2);function a(u,h){var p;if(Object(s.a)(h))p=function(w,d){return h(w)-h(d)};else{var y=[];Object(f.a)(h)?y.push(h):Object(o.a)(h)&&(y=h),p=function(w,d){for(var M=0;M<y.length;M+=1){var D=y[M];if(w[D]>d[D])return 1;if(w[D]<d[D])return-1}return 0}}return u.sort(p),u}e.a=a},function(c,e,n){var o=n(26),f=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return Object(o.a)([].concat.apply([],s))};e.a=f},function(c,e,n){var o=n(0),f=n(7);e.a=function(s,a){for(var u=[],h={},p=0;p<s.length;p++){var y=s[p],w=y[a];if(!Object(f.a)(w)){Object(o.a)(w)||(w=[w]);for(var d=0;d<w.length;d++){var M=w[d];h[M]||(u.push(M),h[M]=!0)}}}return u}},function(c,e,n){e.a=f;var o=n(1);function f(s){if(Object(o.a)(s))return s[0]}},function(c,e,n){e.a=f;var o=n(1);function f(s){if(Object(o.a)(s)){var a=s;return a[a.length-1]}}},function(c,e,n){var o=n(0),f=n(4);function s(a,u){return Object(o.a)(a)||Object(f.a)(a)?a[0]===u:!1}e.a=s},function(c,e,n){var o=n(0),f=n(4);function s(a,u){return Object(o.a)(a)||Object(f.a)(a)?a[a.length-1]===u:!1}e.a=s},function(c,e,n){var o=function(f,s){for(var a=0;a<f.length;a++)if(!s(f[a],a))return!1;return!0};e.a=o},function(c,e,n){var o=function(f,s){for(var a=0;a<f.length;a++)if(s(f[a],a))return!0;return!1};e.a=o},function(c,e,n){var o=n(27);e.a=function(f,s){if(!s)return[f];var a=Object(o.a)(f,s),u=[];for(var h in a)u.push(a[h]);return u}},function(c,e,n){function o(f,s){return f["_wrap_"+s]}e.a=o},function(c,e,n){function o(f,s){if(f["_wrap_"+s])return f["_wrap_"+s];var a=function(u){f[s](u)};return f["_wrap_"+s]=a,a}e.a=o},function(c,e,n){var o={};function f(s){var a=o[s];if(!a){for(var u=s.toString(16),h=u.length;h<6;h++)u="0"+u;a="#"+u,o[s]=a}return a}e.a=f},function(c,e,n){var o=n(0);function f(s){var a=0,u=0,h=0,p=0;return Object(o.a)(s)?s.length===1?a=u=h=p=s[0]:s.length===2?(a=h=s[0],u=p=s[1]):s.length===3?(a=s[0],u=p=s[1],h=s[2]):(a=s[0],u=s[1],h=s[2],p=s[3]):a=u=h=p=s,{r1:a,r2:u,r3:h,r4:p}}e.a=f},function(c,e,n){var o=function(f,s,a){return f<s?s:f>a?a:f};e.a=o},function(c,e,n){var o=function(f,s){var a=s.toString(),u=a.indexOf(".");if(u===-1)return Math.round(f);var h=a.substr(u+1).length;return h>20&&(h=20),parseFloat(f.toFixed(h))};e.a=o},function(c,e,n){var o=n(5),f=function(s){return Object(o.a)(s)&&s%1!==0};e.a=f},function(c,e,n){var o=n(5),f=function(s){return Object(o.a)(s)&&s%2===0};e.a=f},function(c,e,n){var o=n(5),f=Number.isInteger?Number.isInteger:function(s){return Object(o.a)(s)&&s%1===0};e.a=f},function(c,e,n){var o=n(5),f=function(s){return Object(o.a)(s)&&s<0};e.a=f},function(c,e,n){e.a=f;var o=1e-5;function f(s,a,u){return u===void 0&&(u=o),Math.abs(s-a)<u}},function(c,e,n){var o=n(5),f=function(s){return Object(o.a)(s)&&s%2!==0};e.a=f},function(c,e,n){var o=n(5),f=function(s){return Object(o.a)(s)&&s>0};e.a=f},function(c,e,n){var o=n(0),f=n(2);e.a=function(s,a){if(Object(o.a)(s)){for(var u,h=-1/0,p=0;p<s.length;p++){var y=s[p],w=Object(f.a)(a)?a(y):y[a];w>h&&(u=y,h=w)}return u}}},function(c,e,n){var o=n(0),f=n(2);e.a=function(s,a){if(Object(o.a)(s)){for(var u,h=1/0,p=0;p<s.length;p++){var y=s[p],w=Object(f.a)(a)?a(y):y[a];w<h&&(u=y,h=w)}return u}}},function(c,e,n){var o=function(f,s){return(f%s+s)%s};e.a=o},function(c,e,n){var o=180/Math.PI,f=function(s){return o*s};e.a=f},function(c,e,n){e.a=parseInt},function(c,e,n){var o=Math.PI/180,f=function(s){return o*s};e.a=f},function(c,e,n){var o=n(8);e.a=o.a},function(c,e,n){var o=n(29);e.a=o.a},function(c,e,n){var o=n(13),f=n(15);e.a=function(s,a){return Object(o.a)(Object(f.a)(s),a)}},function(c,e,n){var o=n(9),f=function(s){return Object(o.a)(s).toLowerCase()};e.a=f},function(c,e,n){var o=n(9),f=function(s){var a=Object(o.a)(s);return a.charAt(0).toLowerCase()+a.substring(1)};e.a=f},function(c,e,n){function o(f,s){return!f||!s?f:f.replace(/\\?\{([^{}]+)\}/g,function(a,u){return a.charAt(0)==="\\"?a.slice(1):s[u]===void 0?"":s[u]})}e.a=o},function(c,e,n){var o=n(9),f=function(s){return Object(o.a)(s).toUpperCase()};e.a=f},function(c,e,n){var o=n(9),f=function(s){var a=Object(o.a)(s);return a.charAt(0).toUpperCase()+a.substring(1)};e.a=f},function(c,e,n){var o=n(3),f=function(s){return Object(o.a)(s,"Arguments")};e.a=f},function(c,e,n){var o=n(3),f=function(s){return Object(o.a)(s,"Boolean")};e.a=f},function(c,e,n){var o=n(3),f=function(s){return Object(o.a)(s,"Date")};e.a=f},function(c,e,n){var o=n(3),f=function(s){return Object(o.a)(s,"Error")};e.a=f},function(c,e,n){var o=n(5);e.a=function(f){return Object(o.a)(f)&&isFinite(f)}},function(c,e,n){var o=function(f){return f===null};e.a=o},function(c,e,n){var o=n(3),f=function(s){return Object(o.a)(s,"RegExp")};e.a=f},function(c,e,n){var o=function(f){return f===void 0};e.a=o},function(c,e,n){var o=function(f){return f instanceof Element||f instanceof HTMLDocument};e.a=o},function(c,e,n){e.a=o;function o(f){var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,16)};return s(f)}},function(c,e,n){e.a=o;function o(f){var s=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;s(f)}},function(c,e,n){var o=n(16),f=n(2),s=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];for(var h=a[0],p=1;p<a.length;p++){var y=a[p];Object(f.a)(y)&&(y=y.prototype),Object(o.a)(h.prototype,y)}};e.a=s},function(c,e,n){var o=n(0),f=function(s){if(typeof s!="object"||s===null)return s;var a;if(Object(o.a)(s)){a=[];for(var u=0,h=s.length;u<h;u++)typeof s[u]=="object"&&s[u]!=null?a[u]=f(s[u]):a[u]=s[u]}else{a={};for(var p in s)typeof s[p]=="object"&&s[p]!=null?a[p]=f(s[p]):a[p]=s[p]}return a};e.a=f},function(c,e,n){function o(f,s,a){var u;return function(){var h=this,p=arguments,y=function(){u=null,a||f.apply(h,p)},w=a&&!u;clearTimeout(u),u=setTimeout(y,s),w&&f.apply(h,p)}}e.a=o},function(c,e,n){var o=n(0),f=n(10),s=5;function a(h,p,y,w){y=y||0,w=w||s;for(var d in p)if(p.hasOwnProperty(d)){var M=p[d];M!==null&&Object(f.a)(M)?(Object(f.a)(h[d])||(h[d]={}),y<w?a(h[d],M,y+1,w):h[d]=p[d]):Object(o.a)(M)?(h[d]=[],h[d]=h[d].concat(M)):M!==void 0&&(h[d]=M)}}var u=function(h){for(var p=[],y=1;y<arguments.length;y++)p[y-1]=arguments[y];for(var w=0;w<p.length;w+=1)a(h,p[w]);return h};e.a=u},function(c,e,n){var o=n(16),f=n(2),s=function(a,u,h,p){Object(f.a)(u)||(h=u,u=a,a=function(){});var y=Object.create?function(d,M){return Object.create(d,{constructor:{value:M}})}:function(d,M){function D(){}D.prototype=d;var B=new D;return B.constructor=M,B},w=y(u.prototype,a);return a.prototype=Object(o.a)(w,a.prototype),a.superclass=y(u.prototype,u),Object(o.a)(w,h),Object(o.a)(a,p),a};e.a=s},function(c,e,n){var o=n(1),f=function(s,a){if(!Object(o.a)(s))return-1;var u=Array.prototype.indexOf;if(u)return u.call(s,a);for(var h=-1,p=0;p<s.length;p++)if(s[p]===a){h=p;break}return h};e.a=f},function(c,e,n){var o=n(7),f=n(1),s=n(30),a=n(31),u=Object.prototype.hasOwnProperty;function h(p){if(Object(o.a)(p))return!0;if(Object(f.a)(p))return!p.length;var y=Object(s.a)(p);if(y==="Map"||y==="Set")return!p.size;if(Object(a.a)(p))return!Object.keys(p).length;for(var w in p)if(u.call(p,w))return!1;return!0}e.a=h},function(c,e,n){var o=n(2),f=n(33);e.a=function(s,a,u){return Object(o.a)(u)?!!u(s,a):Object(f.a)(s,a)}},function(c,e,n){var o=n(1),f=function(s,a){if(!Object(o.a)(s))return s;for(var u=[],h=0;h<s.length;h++){var p=s[h];u.push(a(p,h))}return u};e.a=f},function(c,e,n){var o=n(7),f=n(12),s=function(a){return a};e.a=function(a,u){u===void 0&&(u=s);var h={};return Object(f.a)(a)&&!Object(o.a)(a)&&Object.keys(a).forEach(function(p){h[p]=u(a[p],p)}),h}},function(c,e,n){var o=n(4);e.a=function(f,s,a){for(var u=0,h=Object(o.a)(s)?s.split("."):s;f&&u<h.length;)f=f[h[u++]];return f===void 0||u<h.length?a:f}},function(c,e,n){var o=n(12),f=n(4),s=n(5);e.a=function(a,u,h){var p=a,y=Object(f.a)(u)?u.split("."):u;return y.forEach(function(w,d){d<y.length-1?(Object(o.a)(p[w])||(p[w]=Object(s.a)(y[d+1])?[]:{}),p=p[w]):p[w]=h}),a}},function(c,e,n){var o=n(8),f=n(10),s=Object.prototype.hasOwnProperty;e.a=function(a,u){if(a===null||!Object(f.a)(a))return{};var h={};return Object(o.a)(u,function(p){s.call(a,p)&&(h[p]=a[p])}),h}},function(c,e,n){var o=n(25);e.a=function(f,s){return Object(o.a)(f,function(a,u,h){return s.includes(h)||(a[h]=u),a},{})}},function(c,e,n){e.a=function(o,f,s){var a,u,h,p,y=0;s||(s={});var w=function(){y=s.leading===!1?0:Date.now(),a=null,p=o.apply(u,h),a||(u=h=null)},d=function(){var M=Date.now();!y&&s.leading===!1&&(y=M);var D=f-(M-y);return u=this,h=arguments,D<=0||D>f?(a&&(clearTimeout(a),a=null),y=M,p=o.apply(u,h),a||(u=h=null)):!a&&s.trailing!==!1&&(a=setTimeout(w,D)),p};return d.cancel=function(){clearTimeout(a),y=0,a=u=h=null},d}},function(c,e,n){var o=n(1);e.a=function(f){return Object(o.a)(f)?Array.prototype.slice.call(f):[]}},function(c,e,n){var o={};e.a=function(f){return f=f||"g",o[f]?o[f]+=1:o[f]=1,f+o[f]}},function(c,e,n){e.a=function(){}},function(c,e,n){e.a=function(o){return o}},function(c,e,n){e.a=s;var o=n(7),f=n(1);function s(a){return Object(o.a)(a)?0:Object(f.a)(a)?a.length:Object.keys(a).length}},function(c,e,n){e.a=o;function o(){for(var f=0,s=0,a=arguments.length;s<a;s++)f+=arguments[s].length;for(var u=Array(f),h=0,s=0;s<a;s++)for(var p=arguments[s],y=0,w=p.length;y<w;y++,h++)u[h]=p[y];return u}},function(c,e,n){var o=n(4),f=n(9),s=n(34);e.a=function(a,u,h,p){p===void 0&&(p="...");var y=16,w=Object(s.a)(p,h),d=Object(o.a)(a)?a:Object(f.a)(a),M=u,D=[],B,Y;if(Object(s.a)(a,h)<=u)return a;for(;B=d.substr(0,y),Y=Object(s.a)(B,h),!(Y+w>M&&Y>M);)if(D.push(B),M-=Y,d=d.substr(y),!d)return D.join("");for(;B=d.substr(0,1),Y=Object(s.a)(B,h),!(Y+w>M);)if(D.push(B),M-=Y,d=d.substr(1),!d)return D.join("");return""+D.join("")+p}},function(c,e,n){var o=function(){function f(){this.map={}}return f.prototype.has=function(s){return this.map[s]!==void 0},f.prototype.get=function(s,a){var u=this.map[s];return u===void 0?a:u},f.prototype.set=function(s,a){this.map[s]=a},f.prototype.clear=function(){this.map={}},f.prototype.delete=function(s){delete this.map[s]},f.prototype.size=function(){return Object.keys(this.map).length},f}();e.a=o},function(c,e){function n(h,p,y,w){w===void 0&&(w=[]);var d=this;d.w=h||0,d.h=p||0,d.y=y||0,d.x=0,d.c=w||[],d.cs=w.length,d.prelim=0,d.mod=0,d.shift=0,d.change=0,d.tl=null,d.tr=null,d.el=null,d.er=null,d.msel=0,d.mser=0}n.fromNode=function(h,p){if(!h)return null;var y=[];return h.children.forEach(function(w){y.push(n.fromNode(w,p))}),p?new n(h.height,h.width,h.x,y):new n(h.width,h.height,h.y,y)};function o(h,p,y){y?h.y+=p:h.x+=p,h.children.forEach(function(w){o(w,p,y)})}function f(h,p){var y=p?h.y:h.x;return h.children.forEach(function(w){y=Math.min(f(w,p),y)}),y}function s(h,p){var y=f(h,p);o(h,-y,p)}function a(h,p,y){y?p.y=h.x:p.x=h.x,h.c.forEach(function(w,d){a(w,p.children[d],y)})}function u(h,p,y){y===void 0&&(y=0),p?(h.x=y,y+=h.width):(h.y=y,y+=h.height),h.children.forEach(function(w){u(w,p,y)})}c.exports=function(h,p){p===void 0&&(p={});var y=p.isHorizontal;function w(C){if(C.cs===0){d(C);return}w(C.c[0]);for(var W=R(N(C.c[0].el),0,null),z=1;z<C.cs;++z){w(C.c[z]);var G=N(C.c[z].er);M(C,z,W),W=R(G,z,W)}tt(C),d(C)}function d(C){C.cs===0?(C.el=C,C.er=C,C.msel=C.mser=0):(C.el=C.c[0].el,C.msel=C.c[0].msel,C.er=C.c[C.cs-1].er,C.mser=C.c[C.cs-1].mser)}function M(C,W,z){for(var G=C.c[W-1],nt=G.mod,j=C.c[W],q=j.mod;G!==null&&j!==null;){N(G)>z.low&&(z=z.nxt);var vt=nt+G.prelim+G.w-(q+j.prelim);vt>0&&(q+=vt,D(C,W,z.index,vt));var mt=N(G),wt=N(j);mt<=wt&&(G=Y(G),G!==null&&(nt+=G.mod)),mt>=wt&&(j=B(j),j!==null&&(q+=j.mod))}!G&&j?A(C,W,j,q):G&&!j&&k(C,W,G,nt)}function D(C,W,z,G){C.c[W].mod+=G,C.c[W].msel+=G,C.c[W].mser+=G,K(C,W,z,G)}function B(C){return C.cs===0?C.tl:C.c[0]}function Y(C){return C.cs===0?C.tr:C.c[C.cs-1]}function N(C){return C.y+C.h}function A(C,W,z,G){var nt=C.c[0].el;nt.tl=z;var j=G-z.mod-C.c[0].msel;nt.mod+=j,nt.prelim-=j,C.c[0].el=C.c[W].el,C.c[0].msel=C.c[W].msel}function k(C,W,z,G){var nt=C.c[W].er;nt.tr=z;var j=G-z.mod-C.c[W].mser;nt.mod+=j,nt.prelim-=j,C.c[W].er=C.c[W-1].er,C.c[W].mser=C.c[W-1].mser}function tt(C){C.prelim=(C.c[0].prelim+C.c[0].mod+C.c[C.cs-1].mod+C.c[C.cs-1].prelim+C.c[C.cs-1].w)/2-C.w/2}function et(C,W){W+=C.mod,C.x=C.prelim+W,U(C);for(var z=0;z<C.cs;z++)et(C.c[z],W)}function K(C,W,z,G){if(z!==W-1){var nt=W-z;C.c[z+1].shift+=G/nt,C.c[W].shift-=G/nt,C.c[W].change-=G-G/nt}}function U(C){for(var W=0,z=0,G=0;G<C.cs;G++)W+=C.c[G].shift,z+=W+C.c[G].change,C.c[G].mod+=z}function R(C,W,z){for(;z!==null&&C>=z.low;)z=z.nxt;return{low:C,index:W,nxt:z}}u(h,y);var g=n.fromNode(h,y);return w(g),et(g,0),a(g,h,y),s(h,y),h}},function(c,e,n){function o(d,M){d.prototype=Object.create(M.prototype),d.prototype.constructor=d,f(d,M)}function f(d,M){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B},f(d,M)}var s=n(11),a=n(121),u=n(17),h=n(6),p=function(d){o(M,d);function M(){return d.apply(this,arguments)||this}var D=M.prototype;return D.execute=function(){var Y=this;return Y.rootNode.width=0,u(Y.rootNode,Y.options,a)},M}(s),y={};function w(d,M){return M=h.assign({},y,M),new p(d,M).execute()}c.exports=w},function(c,e,n){var o=n(6);function f(u,h){h===void 0&&(h=[]);var p=this;p.x=p.y=0,p.leftChild=p.rightChild=null,p.height=0,p.children=h}var s={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function a(u,h,p){p?(h.x=u.x,h.y=u.y):(h.x=u.y,h.y=u.x),u.children.forEach(function(y,w){a(y,h.children[w],p)})}c.exports=function(u,h){h===void 0&&(h={}),h=o.assign({},s,h);var p=0;function y(B){if(!B)return null;B.width=0,B.depth&&B.depth>p&&(p=B.depth);var Y=B.children,N=Y.length,A=new f(B.height,[]);return Y.forEach(function(k,tt){var et=y(k);A.children.push(et),tt===0&&(A.leftChild=et),tt===N-1&&(A.rightChild=et)}),A.originNode=B,A.isLeaf=B.isLeaf(),A}function w(B){if(B.isLeaf||B.children.length===0)B.drawingDepth=p;else{var Y=B.children.map(function(A){return w(A)}),N=Math.min.apply(null,Y);B.drawingDepth=N-1}return B.drawingDepth}var d;function M(B){B.x=B.drawingDepth*h.rankSep,B.isLeaf?(B.y=0,d&&(B.y=d.y+d.height+h.nodeSep,B.originNode.parent!==d.originNode.parent&&(B.y+=h.subTreeSep)),d=B):(B.children.forEach(function(Y){M(Y)}),B.y=(B.leftChild.y+B.rightChild.y)/2)}var D=y(u);return w(D),M(D),a(D,u,h.isHorizontal),u}},function(c,e,n){function o(D,B){D.prototype=Object.create(B.prototype),D.prototype.constructor=D,f(D,B)}function f(D,B){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,A){return N.__proto__=A,N},f(D,B)}var s=n(11),a=n(123),u=n(35),h=n(6),p=["LR","RL","H"],y=p[0],w=function(D){o(B,D);function B(){return D.apply(this,arguments)||this}var Y=B.prototype;return Y.execute=function(){var A=this,k=A.options,tt=A.rootNode;k.isHorizontal=!0;var et=k.indent,K=et===void 0?20:et,U=k.dropCap,R=U===void 0?!0:U,g=k.direction,C=g===void 0?y:g,W=k.align;if(C&&p.indexOf(C)===-1)throw new TypeError("Invalid direction: "+C);if(C===p[0])a(tt,K,R,W);else if(C===p[1])a(tt,K,R,W),tt.right2left();else if(C===p[2]){var z=u(tt,k),G=z.left,nt=z.right;a(G,K,R,W),G.right2left(),a(nt,K,R,W);var j=G.getBoundingBox();nt.translate(j.width,0),tt.x=nt.x-tt.width/2}return tt},B}(s),d={};function M(D,B){return B=h.assign({},d,B),new w(D,B).execute()}c.exports=M},function(c,e,n){var o=n(6);function f(s,a,u,h,p){var y=typeof u=="function"?u(s):u*s.depth;if(!h)try{if(s.id===s.parent.children[0].id){s.x+=y,s.y=a?a.y:0;return}}catch{}if(s.x+=y,a){if(s.y=a.y+o.getHeight(a,s,p),a.parent&&s.parent.id!==a.parent.id){var w=a.parent,d=w.y+o.getHeight(w,s,p);s.y=d>s.y?d:s.y}}else s.y=0}c.exports=function(s,a,u,h){var p=null;s.eachNode(function(y){f(y,p,a,u,h),p=y})}},function(c,e,n){function o(d,M){d.prototype=Object.create(M.prototype),d.prototype.constructor=d,f(d,M)}function f(d,M){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B},f(d,M)}var s=n(11),a=n(125),u=n(17),h=n(6),p=function(d){o(M,d);function M(){return d.apply(this,arguments)||this}var D=M.prototype;return D.execute=function(){var Y=this;return u(Y.rootNode,Y.options,a)},M}(s),y={};function w(d,M){return M=h.assign({},y,M),new p(d,M).execute()}c.exports=w},function(c,e,n){var o=n(6);function f(u,h){var p=0;return u.children.length?u.children.forEach(function(y){p+=f(y,h)}):p=u.height,u._subTreeSep=h.getSubTreeSep(u.data),u.totalHeight=Math.max(u.height,p)+2*u._subTreeSep,u.totalHeight}function s(u){var h=u.children,p=h.length;if(p){h.forEach(function(B){s(B)});var y=h[0],w=h[p-1],d=w.y-y.y+w.height,M=0;if(h.forEach(function(B){M+=B.totalHeight}),d>u.height)u.y=y.y+d/2-u.height/2;else if(h.length!==1||u.height>M){var D=u.y+(u.height-d)/2-y.y;h.forEach(function(B){B.translate(0,D)})}else u.y=(y.y+y.height/2+w.y+w.height/2)/2-u.height/2}}var a={getSubTreeSep:function(){return 0}};c.exports=function(u,h){h===void 0&&(h={}),h=o.assign({},a,h),u.parent={x:0,width:0,height:0,y:0},u.BFTraverse(function(p){p.x=p.parent.x+p.parent.width}),u.parent=null,f(u,h),u.startY=0,u.y=u.totalHeight/2-u.height/2,u.eachNode(function(p){var y=p.children,w=y.length;if(w){var d=y[0];if(d.startY=p.startY+p._subTreeSep,w===1)d.y=p.y+p.height/2-d.height/2;else{d.y=d.startY+d.totalHeight/2-d.height/2;for(var M=1;M<w;M++){var D=y[M];D.startY=y[M-1].startY+y[M-1].totalHeight,D.y=D.startY+D.totalHeight/2-D.height/2}}}}),s(u)}}])})},6928:function(b,c,e){e.r(c),e.d(c,{ext:function(){return s},mat3:function(){return n},vec2:function(){return o},vec3:function(){return f}});var n={};e.r(n),e.d(n,{add:function(){return vt},adjoint:function(){return A},clone:function(){return w},copy:function(){return d},create:function(){return p},determinant:function(){return k},equals:function(){return jt},exactEquals:function(){return Kt},frob:function(){return q},fromMat2d:function(){return W},fromMat4:function(){return y},fromQuat:function(){return z},fromRotation:function(){return g},fromScaling:function(){return C},fromTranslation:function(){return R},fromValues:function(){return M},identity:function(){return B},invert:function(){return N},mul:function(){return me},multiply:function(){return tt},multiplyScalar:function(){return wt},multiplyScalarAndAdd:function(){return At},normalFromMat4:function(){return G},projection:function(){return nt},rotate:function(){return K},scale:function(){return U},set:function(){return D},str:function(){return j},sub:function(){return zt},subtract:function(){return mt},translate:function(){return et},transpose:function(){return Y}});var o={};e.r(o),e.d(o,{add:function(){return Ie},angle:function(){return Ot},ceil:function(){return rn},clone:function(){return Pt},copy:function(){return se},create:function(){return $t},cross:function(){return ge},dist:function(){return en},distance:function(){return hn},div:function(){return He},divide:function(){return $e},dot:function(){return hr},equals:function(){return Gt},exactEquals:function(){return re},floor:function(){return ln},forEach:function(){return xe},fromValues:function(){return Ft},inverse:function(){return bt},len:function(){return De},length:function(){return Or},lerp:function(){return Ne},max:function(){return Pe},min:function(){return fn},mul:function(){return he},multiply:function(){return Qt},negate:function(){return pe},normalize:function(){return Ze},random:function(){return Ut},rotate:function(){return xt},round:function(){return un},scale:function(){return cn},scaleAndAdd:function(){return sn},set:function(){return de},sqrDist:function(){return qe},sqrLen:function(){return ze},squaredDistance:function(){return Vn},squaredLength:function(){return Hn},str:function(){return Bt},sub:function(){return te},subtract:function(){return Oe},transformMat2:function(){return I},transformMat2d:function(){return Et},transformMat3:function(){return ct},transformMat4:function(){return St},zero:function(){return _t}});var f={};e.r(f),e.d(f,{add:function(){return Bn},angle:function(){return S},bezier:function(){return En},ceil:function(){return Tn},clone:function(){return Me},copy:function(){return Ke},create:function(){return je},cross:function(){return Cr},dist:function(){return we},distance:function(){return Ye},div:function(){return Zt},divide:function(){return Sr},dot:function(){return Kr},equals:function(){return ut},exactEquals:function(){return ht},floor:function(){return On},forEach:function(){return Xt},fromValues:function(){return Sn},hermite:function(){return si},inverse:function(){return Ar},len:function(){return We},length:function(){return Ue},lerp:function(){return Pr},max:function(){return vr},min:function(){return Un},mul:function(){return Rt},multiply:function(){return ir},negate:function(){return Dn},normalize:function(){return _r},random:function(){return br},rotateX:function(){return $},rotateY:function(){return m},rotateZ:function(){return x},round:function(){return Tr},scale:function(){return ur},scaleAndAdd:function(){return zr},set:function(){return mn},sqrDist:function(){return le},sqrLen:function(){return Je},squaredDistance:function(){return Kn},squaredLength:function(){return or},str:function(){return at},sub:function(){return Nt},subtract:function(){return Zn},transformMat3:function(){return Q},transformMat4:function(){return Hr},transformQuat:function(){return X},zero:function(){return it}});var s={};e.r(s),e.d(s,{angleTo:function(){return yn},direction:function(){return Wn},leftRotate:function(){return ye},leftScale:function(){return Xe},leftTranslate:function(){return ne},transform:function(){return zn},vertical:function(){return Pn}});var a=1e-6,u=typeof Float32Array<"u"?Float32Array:Array,h=Math.random;Math.hypot||(Math.hypot=function(){for(var V=0,rt=arguments.length;rt--;)V+=arguments[rt]*arguments[rt];return Math.sqrt(V)});function p(){var V=new u(9);return u!=Float32Array&&(V[1]=0,V[2]=0,V[3]=0,V[5]=0,V[6]=0,V[7]=0),V[0]=1,V[4]=1,V[8]=1,V}function y(V,rt){return V[0]=rt[0],V[1]=rt[1],V[2]=rt[2],V[3]=rt[4],V[4]=rt[5],V[5]=rt[6],V[6]=rt[8],V[7]=rt[9],V[8]=rt[10],V}function w(V){var rt=new u(9);return rt[0]=V[0],rt[1]=V[1],rt[2]=V[2],rt[3]=V[3],rt[4]=V[4],rt[5]=V[5],rt[6]=V[6],rt[7]=V[7],rt[8]=V[8],rt}function d(V,rt){return V[0]=rt[0],V[1]=rt[1],V[2]=rt[2],V[3]=rt[3],V[4]=rt[4],V[5]=rt[5],V[6]=rt[6],V[7]=rt[7],V[8]=rt[8],V}function M(V,rt,lt,kt,Jt,ie,ue,qt,ae){var _e=new u(9);return _e[0]=V,_e[1]=rt,_e[2]=lt,_e[3]=kt,_e[4]=Jt,_e[5]=ie,_e[6]=ue,_e[7]=qt,_e[8]=ae,_e}function D(V,rt,lt,kt,Jt,ie,ue,qt,ae,_e){return V[0]=rt,V[1]=lt,V[2]=kt,V[3]=Jt,V[4]=ie,V[5]=ue,V[6]=qt,V[7]=ae,V[8]=_e,V}function B(V){return V[0]=1,V[1]=0,V[2]=0,V[3]=0,V[4]=1,V[5]=0,V[6]=0,V[7]=0,V[8]=1,V}function Y(V,rt){if(V===rt){var lt=rt[1],kt=rt[2],Jt=rt[5];V[1]=rt[3],V[2]=rt[6],V[3]=lt,V[5]=rt[7],V[6]=kt,V[7]=Jt}else V[0]=rt[0],V[1]=rt[3],V[2]=rt[6],V[3]=rt[1],V[4]=rt[4],V[5]=rt[7],V[6]=rt[2],V[7]=rt[5],V[8]=rt[8];return V}function N(V,rt){var lt=rt[0],kt=rt[1],Jt=rt[2],ie=rt[3],ue=rt[4],qt=rt[5],ae=rt[6],_e=rt[7],Re=rt[8],Ve=Re*ue-qt*_e,Qe=-Re*ie+qt*ae,_n=_e*ie-ue*ae,xn=lt*Ve+kt*Qe+Jt*_n;return xn?(xn=1/xn,V[0]=Ve*xn,V[1]=(-Re*kt+Jt*_e)*xn,V[2]=(qt*kt-Jt*ue)*xn,V[3]=Qe*xn,V[4]=(Re*lt-Jt*ae)*xn,V[5]=(-qt*lt+Jt*ie)*xn,V[6]=_n*xn,V[7]=(-_e*lt+kt*ae)*xn,V[8]=(ue*lt-kt*ie)*xn,V):null}function A(V,rt){var lt=rt[0],kt=rt[1],Jt=rt[2],ie=rt[3],ue=rt[4],qt=rt[5],ae=rt[6],_e=rt[7],Re=rt[8];return V[0]=ue*Re-qt*_e,V[1]=Jt*_e-kt*Re,V[2]=kt*qt-Jt*ue,V[3]=qt*ae-ie*Re,V[4]=lt*Re-Jt*ae,V[5]=Jt*ie-lt*qt,V[6]=ie*_e-ue*ae,V[7]=kt*ae-lt*_e,V[8]=lt*ue-kt*ie,V}function k(V){var rt=V[0],lt=V[1],kt=V[2],Jt=V[3],ie=V[4],ue=V[5],qt=V[6],ae=V[7],_e=V[8];return rt*(_e*ie-ue*ae)+lt*(-_e*Jt+ue*qt)+kt*(ae*Jt-ie*qt)}function tt(V,rt,lt){var kt=rt[0],Jt=rt[1],ie=rt[2],ue=rt[3],qt=rt[4],ae=rt[5],_e=rt[6],Re=rt[7],Ve=rt[8],Qe=lt[0],_n=lt[1],xn=lt[2],pn=lt[3],gn=lt[4],sr=lt[5],Wr=lt[6],$n=lt[7],Yr=lt[8];return V[0]=Qe*kt+_n*ue+xn*_e,V[1]=Qe*Jt+_n*qt+xn*Re,V[2]=Qe*ie+_n*ae+xn*Ve,V[3]=pn*kt+gn*ue+sr*_e,V[4]=pn*Jt+gn*qt+sr*Re,V[5]=pn*ie+gn*ae+sr*Ve,V[6]=Wr*kt+$n*ue+Yr*_e,V[7]=Wr*Jt+$n*qt+Yr*Re,V[8]=Wr*ie+$n*ae+Yr*Ve,V}function et(V,rt,lt){var kt=rt[0],Jt=rt[1],ie=rt[2],ue=rt[3],qt=rt[4],ae=rt[5],_e=rt[6],Re=rt[7],Ve=rt[8],Qe=lt[0],_n=lt[1];return V[0]=kt,V[1]=Jt,V[2]=ie,V[3]=ue,V[4]=qt,V[5]=ae,V[6]=Qe*kt+_n*ue+_e,V[7]=Qe*Jt+_n*qt+Re,V[8]=Qe*ie+_n*ae+Ve,V}function K(V,rt,lt){var kt=rt[0],Jt=rt[1],ie=rt[2],ue=rt[3],qt=rt[4],ae=rt[5],_e=rt[6],Re=rt[7],Ve=rt[8],Qe=Math.sin(lt),_n=Math.cos(lt);return V[0]=_n*kt+Qe*ue,V[1]=_n*Jt+Qe*qt,V[2]=_n*ie+Qe*ae,V[3]=_n*ue-Qe*kt,V[4]=_n*qt-Qe*Jt,V[5]=_n*ae-Qe*ie,V[6]=_e,V[7]=Re,V[8]=Ve,V}function U(V,rt,lt){var kt=lt[0],Jt=lt[1];return V[0]=kt*rt[0],V[1]=kt*rt[1],V[2]=kt*rt[2],V[3]=Jt*rt[3],V[4]=Jt*rt[4],V[5]=Jt*rt[5],V[6]=rt[6],V[7]=rt[7],V[8]=rt[8],V}function R(V,rt){return V[0]=1,V[1]=0,V[2]=0,V[3]=0,V[4]=1,V[5]=0,V[6]=rt[0],V[7]=rt[1],V[8]=1,V}function g(V,rt){var lt=Math.sin(rt),kt=Math.cos(rt);return V[0]=kt,V[1]=lt,V[2]=0,V[3]=-lt,V[4]=kt,V[5]=0,V[6]=0,V[7]=0,V[8]=1,V}function C(V,rt){return V[0]=rt[0],V[1]=0,V[2]=0,V[3]=0,V[4]=rt[1],V[5]=0,V[6]=0,V[7]=0,V[8]=1,V}function W(V,rt){return V[0]=rt[0],V[1]=rt[1],V[2]=0,V[3]=rt[2],V[4]=rt[3],V[5]=0,V[6]=rt[4],V[7]=rt[5],V[8]=1,V}function z(V,rt){var lt=rt[0],kt=rt[1],Jt=rt[2],ie=rt[3],ue=lt+lt,qt=kt+kt,ae=Jt+Jt,_e=lt*ue,Re=kt*ue,Ve=kt*qt,Qe=Jt*ue,_n=Jt*qt,xn=Jt*ae,pn=ie*ue,gn=ie*qt,sr=ie*ae;return V[0]=1-Ve-xn,V[3]=Re-sr,V[6]=Qe+gn,V[1]=Re+sr,V[4]=1-_e-xn,V[7]=_n-pn,V[2]=Qe-gn,V[5]=_n+pn,V[8]=1-_e-Ve,V}function G(V,rt){var lt=rt[0],kt=rt[1],Jt=rt[2],ie=rt[3],ue=rt[4],qt=rt[5],ae=rt[6],_e=rt[7],Re=rt[8],Ve=rt[9],Qe=rt[10],_n=rt[11],xn=rt[12],pn=rt[13],gn=rt[14],sr=rt[15],Wr=lt*qt-kt*ue,$n=lt*ae-Jt*ue,Yr=lt*_e-ie*ue,Ii=kt*ae-Jt*qt,dr=kt*_e-ie*qt,ci=Jt*_e-ie*ae,Si=Re*pn-Ve*xn,wr=Re*gn-Qe*xn,Br=Re*sr-_n*xn,Qr=Ve*gn-Qe*pn,ti=Ve*sr-_n*pn,mi=Qe*sr-_n*gn,jn=Wr*mi-$n*ti+Yr*Qr+Ii*Br-dr*wr+ci*Si;return jn?(jn=1/jn,V[0]=(qt*mi-ae*ti+_e*Qr)*jn,V[1]=(ae*Br-ue*mi-_e*wr)*jn,V[2]=(ue*ti-qt*Br+_e*Si)*jn,V[3]=(Jt*ti-kt*mi-ie*Qr)*jn,V[4]=(lt*mi-Jt*Br+ie*wr)*jn,V[5]=(kt*Br-lt*ti-ie*Si)*jn,V[6]=(pn*ci-gn*dr+sr*Ii)*jn,V[7]=(gn*Yr-xn*ci-sr*$n)*jn,V[8]=(xn*dr-pn*Yr+sr*Wr)*jn,V):null}function nt(V,rt,lt){return V[0]=2/rt,V[1]=0,V[2]=0,V[3]=0,V[4]=-2/lt,V[5]=0,V[6]=-1,V[7]=1,V[8]=1,V}function j(V){return"mat3("+V[0]+", "+V[1]+", "+V[2]+", "+V[3]+", "+V[4]+", "+V[5]+", "+V[6]+", "+V[7]+", "+V[8]+")"}function q(V){return Math.hypot(V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],V[8])}function vt(V,rt,lt){return V[0]=rt[0]+lt[0],V[1]=rt[1]+lt[1],V[2]=rt[2]+lt[2],V[3]=rt[3]+lt[3],V[4]=rt[4]+lt[4],V[5]=rt[5]+lt[5],V[6]=rt[6]+lt[6],V[7]=rt[7]+lt[7],V[8]=rt[8]+lt[8],V}function mt(V,rt,lt){return V[0]=rt[0]-lt[0],V[1]=rt[1]-lt[1],V[2]=rt[2]-lt[2],V[3]=rt[3]-lt[3],V[4]=rt[4]-lt[4],V[5]=rt[5]-lt[5],V[6]=rt[6]-lt[6],V[7]=rt[7]-lt[7],V[8]=rt[8]-lt[8],V}function wt(V,rt,lt){return V[0]=rt[0]*lt,V[1]=rt[1]*lt,V[2]=rt[2]*lt,V[3]=rt[3]*lt,V[4]=rt[4]*lt,V[5]=rt[5]*lt,V[6]=rt[6]*lt,V[7]=rt[7]*lt,V[8]=rt[8]*lt,V}function At(V,rt,lt,kt){return V[0]=rt[0]+lt[0]*kt,V[1]=rt[1]+lt[1]*kt,V[2]=rt[2]+lt[2]*kt,V[3]=rt[3]+lt[3]*kt,V[4]=rt[4]+lt[4]*kt,V[5]=rt[5]+lt[5]*kt,V[6]=rt[6]+lt[6]*kt,V[7]=rt[7]+lt[7]*kt,V[8]=rt[8]+lt[8]*kt,V}function Kt(V,rt){return V[0]===rt[0]&&V[1]===rt[1]&&V[2]===rt[2]&&V[3]===rt[3]&&V[4]===rt[4]&&V[5]===rt[5]&&V[6]===rt[6]&&V[7]===rt[7]&&V[8]===rt[8]}function jt(V,rt){var lt=V[0],kt=V[1],Jt=V[2],ie=V[3],ue=V[4],qt=V[5],ae=V[6],_e=V[7],Re=V[8],Ve=rt[0],Qe=rt[1],_n=rt[2],xn=rt[3],pn=rt[4],gn=rt[5],sr=rt[6],Wr=rt[7],$n=rt[8];return Math.abs(lt-Ve)<=a*Math.max(1,Math.abs(lt),Math.abs(Ve))&&Math.abs(kt-Qe)<=a*Math.max(1,Math.abs(kt),Math.abs(Qe))&&Math.abs(Jt-_n)<=a*Math.max(1,Math.abs(Jt),Math.abs(_n))&&Math.abs(ie-xn)<=a*Math.max(1,Math.abs(ie),Math.abs(xn))&&Math.abs(ue-pn)<=a*Math.max(1,Math.abs(ue),Math.abs(pn))&&Math.abs(qt-gn)<=a*Math.max(1,Math.abs(qt),Math.abs(gn))&&Math.abs(ae-sr)<=a*Math.max(1,Math.abs(ae),Math.abs(sr))&&Math.abs(_e-Wr)<=a*Math.max(1,Math.abs(_e),Math.abs(Wr))&&Math.abs(Re-$n)<=a*Math.max(1,Math.abs(Re),Math.abs($n))}var me=tt,zt=mt;function $t(){var V=new u(2);return u!=Float32Array&&(V[0]=0,V[1]=0),V}function Pt(V){var rt=new u(2);return rt[0]=V[0],rt[1]=V[1],rt}function Ft(V,rt){var lt=new u(2);return lt[0]=V,lt[1]=rt,lt}function se(V,rt){return V[0]=rt[0],V[1]=rt[1],V}function de(V,rt,lt){return V[0]=rt,V[1]=lt,V}function Ie(V,rt,lt){return V[0]=rt[0]+lt[0],V[1]=rt[1]+lt[1],V}function Oe(V,rt,lt){return V[0]=rt[0]-lt[0],V[1]=rt[1]-lt[1],V}function Qt(V,rt,lt){return V[0]=rt[0]*lt[0],V[1]=rt[1]*lt[1],V}function $e(V,rt,lt){return V[0]=rt[0]/lt[0],V[1]=rt[1]/lt[1],V}function rn(V,rt){return V[0]=Math.ceil(rt[0]),V[1]=Math.ceil(rt[1]),V}function ln(V,rt){return V[0]=Math.floor(rt[0]),V[1]=Math.floor(rt[1]),V}function fn(V,rt,lt){return V[0]=Math.min(rt[0],lt[0]),V[1]=Math.min(rt[1],lt[1]),V}function Pe(V,rt,lt){return V[0]=Math.max(rt[0],lt[0]),V[1]=Math.max(rt[1],lt[1]),V}function un(V,rt){return V[0]=Math.round(rt[0]),V[1]=Math.round(rt[1]),V}function cn(V,rt,lt){return V[0]=rt[0]*lt,V[1]=rt[1]*lt,V}function sn(V,rt,lt,kt){return V[0]=rt[0]+lt[0]*kt,V[1]=rt[1]+lt[1]*kt,V}function hn(V,rt){var lt=rt[0]-V[0],kt=rt[1]-V[1];return Math.hypot(lt,kt)}function Vn(V,rt){var lt=rt[0]-V[0],kt=rt[1]-V[1];return lt*lt+kt*kt}function Or(V){var rt=V[0],lt=V[1];return Math.hypot(rt,lt)}function Hn(V){var rt=V[0],lt=V[1];return rt*rt+lt*lt}function pe(V,rt){return V[0]=-rt[0],V[1]=-rt[1],V}function bt(V,rt){return V[0]=1/rt[0],V[1]=1/rt[1],V}function Ze(V,rt){var lt=rt[0],kt=rt[1],Jt=lt*lt+kt*kt;return Jt>0&&(Jt=1/Math.sqrt(Jt)),V[0]=rt[0]*Jt,V[1]=rt[1]*Jt,V}function hr(V,rt){return V[0]*rt[0]+V[1]*rt[1]}function ge(V,rt,lt){var kt=rt[0]*lt[1]-rt[1]*lt[0];return V[0]=V[1]=0,V[2]=kt,V}function Ne(V,rt,lt,kt){var Jt=rt[0],ie=rt[1];return V[0]=Jt+kt*(lt[0]-Jt),V[1]=ie+kt*(lt[1]-ie),V}function Ut(V,rt){rt=rt||1;var lt=h()*2*Math.PI;return V[0]=Math.cos(lt)*rt,V[1]=Math.sin(lt)*rt,V}function I(V,rt,lt){var kt=rt[0],Jt=rt[1];return V[0]=lt[0]*kt+lt[2]*Jt,V[1]=lt[1]*kt+lt[3]*Jt,V}function Et(V,rt,lt){var kt=rt[0],Jt=rt[1];return V[0]=lt[0]*kt+lt[2]*Jt+lt[4],V[1]=lt[1]*kt+lt[3]*Jt+lt[5],V}function ct(V,rt,lt){var kt=rt[0],Jt=rt[1];return V[0]=lt[0]*kt+lt[3]*Jt+lt[6],V[1]=lt[1]*kt+lt[4]*Jt+lt[7],V}function St(V,rt,lt){var kt=rt[0],Jt=rt[1];return V[0]=lt[0]*kt+lt[4]*Jt+lt[12],V[1]=lt[1]*kt+lt[5]*Jt+lt[13],V}function xt(V,rt,lt,kt){var Jt=rt[0]-lt[0],ie=rt[1]-lt[1],ue=Math.sin(kt),qt=Math.cos(kt);return V[0]=Jt*qt-ie*ue+lt[0],V[1]=Jt*ue+ie*qt+lt[1],V}function Ot(V,rt){var lt=V[0],kt=V[1],Jt=rt[0],ie=rt[1],ue=Math.sqrt(lt*lt+kt*kt)*Math.sqrt(Jt*Jt+ie*ie),qt=ue&&(lt*Jt+kt*ie)/ue;return Math.acos(Math.min(Math.max(qt,-1),1))}function _t(V){return V[0]=0,V[1]=0,V}function Bt(V){return"vec2("+V[0]+", "+V[1]+")"}function re(V,rt){return V[0]===rt[0]&&V[1]===rt[1]}function Gt(V,rt){var lt=V[0],kt=V[1],Jt=rt[0],ie=rt[1];return Math.abs(lt-Jt)<=a*Math.max(1,Math.abs(lt),Math.abs(Jt))&&Math.abs(kt-ie)<=a*Math.max(1,Math.abs(kt),Math.abs(ie))}var De=Or,te=Oe,he=Qt,He=$e,en=hn,qe=Vn,ze=Hn,xe=function(){var V=$t();return function(rt,lt,kt,Jt,ie,ue){var qt,ae;for(lt||(lt=2),kt||(kt=0),Jt?ae=Math.min(Jt*lt+kt,rt.length):ae=rt.length,qt=kt;qt<ae;qt+=lt)V[0]=rt[qt],V[1]=rt[qt+1],ie(V,V,ue),rt[qt]=V[0],rt[qt+1]=V[1];return rt}}();function je(){var V=new u(3);return u!=Float32Array&&(V[0]=0,V[1]=0,V[2]=0),V}function Me(V){var rt=new u(3);return rt[0]=V[0],rt[1]=V[1],rt[2]=V[2],rt}function Ue(V){var rt=V[0],lt=V[1],kt=V[2];return Math.hypot(rt,lt,kt)}function Sn(V,rt,lt){var kt=new u(3);return kt[0]=V,kt[1]=rt,kt[2]=lt,kt}function Ke(V,rt){return V[0]=rt[0],V[1]=rt[1],V[2]=rt[2],V}function mn(V,rt,lt,kt){return V[0]=rt,V[1]=lt,V[2]=kt,V}function Bn(V,rt,lt){return V[0]=rt[0]+lt[0],V[1]=rt[1]+lt[1],V[2]=rt[2]+lt[2],V}function Zn(V,rt,lt){return V[0]=rt[0]-lt[0],V[1]=rt[1]-lt[1],V[2]=rt[2]-lt[2],V}function ir(V,rt,lt){return V[0]=rt[0]*lt[0],V[1]=rt[1]*lt[1],V[2]=rt[2]*lt[2],V}function Sr(V,rt,lt){return V[0]=rt[0]/lt[0],V[1]=rt[1]/lt[1],V[2]=rt[2]/lt[2],V}function Tn(V,rt){return V[0]=Math.ceil(rt[0]),V[1]=Math.ceil(rt[1]),V[2]=Math.ceil(rt[2]),V}function On(V,rt){return V[0]=Math.floor(rt[0]),V[1]=Math.floor(rt[1]),V[2]=Math.floor(rt[2]),V}function Un(V,rt,lt){return V[0]=Math.min(rt[0],lt[0]),V[1]=Math.min(rt[1],lt[1]),V[2]=Math.min(rt[2],lt[2]),V}function vr(V,rt,lt){return V[0]=Math.max(rt[0],lt[0]),V[1]=Math.max(rt[1],lt[1]),V[2]=Math.max(rt[2],lt[2]),V}function Tr(V,rt){return V[0]=Math.round(rt[0]),V[1]=Math.round(rt[1]),V[2]=Math.round(rt[2]),V}function ur(V,rt,lt){return V[0]=rt[0]*lt,V[1]=rt[1]*lt,V[2]=rt[2]*lt,V}function zr(V,rt,lt,kt){return V[0]=rt[0]+lt[0]*kt,V[1]=rt[1]+lt[1]*kt,V[2]=rt[2]+lt[2]*kt,V}function Ye(V,rt){var lt=rt[0]-V[0],kt=rt[1]-V[1],Jt=rt[2]-V[2];return Math.hypot(lt,kt,Jt)}function Kn(V,rt){var lt=rt[0]-V[0],kt=rt[1]-V[1],Jt=rt[2]-V[2];return lt*lt+kt*kt+Jt*Jt}function or(V){var rt=V[0],lt=V[1],kt=V[2];return rt*rt+lt*lt+kt*kt}function Dn(V,rt){return V[0]=-rt[0],V[1]=-rt[1],V[2]=-rt[2],V}function Ar(V,rt){return V[0]=1/rt[0],V[1]=1/rt[1],V[2]=1/rt[2],V}function _r(V,rt){var lt=rt[0],kt=rt[1],Jt=rt[2],ie=lt*lt+kt*kt+Jt*Jt;return ie>0&&(ie=1/Math.sqrt(ie)),V[0]=rt[0]*ie,V[1]=rt[1]*ie,V[2]=rt[2]*ie,V}function Kr(V,rt){return V[0]*rt[0]+V[1]*rt[1]+V[2]*rt[2]}function Cr(V,rt,lt){var kt=rt[0],Jt=rt[1],ie=rt[2],ue=lt[0],qt=lt[1],ae=lt[2];return V[0]=Jt*ae-ie*qt,V[1]=ie*ue-kt*ae,V[2]=kt*qt-Jt*ue,V}function Pr(V,rt,lt,kt){var Jt=rt[0],ie=rt[1],ue=rt[2];return V[0]=Jt+kt*(lt[0]-Jt),V[1]=ie+kt*(lt[1]-ie),V[2]=ue+kt*(lt[2]-ue),V}function si(V,rt,lt,kt,Jt,ie){var ue=ie*ie,qt=ue*(2*ie-3)+1,ae=ue*(ie-2)+ie,_e=ue*(ie-1),Re=ue*(3-2*ie);return V[0]=rt[0]*qt+lt[0]*ae+kt[0]*_e+Jt[0]*Re,V[1]=rt[1]*qt+lt[1]*ae+kt[1]*_e+Jt[1]*Re,V[2]=rt[2]*qt+lt[2]*ae+kt[2]*_e+Jt[2]*Re,V}function En(V,rt,lt,kt,Jt,ie){var ue=1-ie,qt=ue*ue,ae=ie*ie,_e=qt*ue,Re=3*ie*qt,Ve=3*ae*ue,Qe=ae*ie;return V[0]=rt[0]*_e+lt[0]*Re+kt[0]*Ve+Jt[0]*Qe,V[1]=rt[1]*_e+lt[1]*Re+kt[1]*Ve+Jt[1]*Qe,V[2]=rt[2]*_e+lt[2]*Re+kt[2]*Ve+Jt[2]*Qe,V}function br(V,rt){rt=rt||1;var lt=h()*2*Math.PI,kt=h()*2-1,Jt=Math.sqrt(1-kt*kt)*rt;return V[0]=Math.cos(lt)*Jt,V[1]=Math.sin(lt)*Jt,V[2]=kt*rt,V}function Hr(V,rt,lt){var kt=rt[0],Jt=rt[1],ie=rt[2],ue=lt[3]*kt+lt[7]*Jt+lt[11]*ie+lt[15];return ue=ue||1,V[0]=(lt[0]*kt+lt[4]*Jt+lt[8]*ie+lt[12])/ue,V[1]=(lt[1]*kt+lt[5]*Jt+lt[9]*ie+lt[13])/ue,V[2]=(lt[2]*kt+lt[6]*Jt+lt[10]*ie+lt[14])/ue,V}function Q(V,rt,lt){var kt=rt[0],Jt=rt[1],ie=rt[2];return V[0]=kt*lt[0]+Jt*lt[3]+ie*lt[6],V[1]=kt*lt[1]+Jt*lt[4]+ie*lt[7],V[2]=kt*lt[2]+Jt*lt[5]+ie*lt[8],V}function X(V,rt,lt){var kt=lt[0],Jt=lt[1],ie=lt[2],ue=lt[3],qt=rt[0],ae=rt[1],_e=rt[2],Re=Jt*_e-ie*ae,Ve=ie*qt-kt*_e,Qe=kt*ae-Jt*qt,_n=Jt*Qe-ie*Ve,xn=ie*Re-kt*Qe,pn=kt*Ve-Jt*Re,gn=ue*2;return Re*=gn,Ve*=gn,Qe*=gn,_n*=2,xn*=2,pn*=2,V[0]=qt+Re+_n,V[1]=ae+Ve+xn,V[2]=_e+Qe+pn,V}function $(V,rt,lt,kt){var Jt=[],ie=[];return Jt[0]=rt[0]-lt[0],Jt[1]=rt[1]-lt[1],Jt[2]=rt[2]-lt[2],ie[0]=Jt[0],ie[1]=Jt[1]*Math.cos(kt)-Jt[2]*Math.sin(kt),ie[2]=Jt[1]*Math.sin(kt)+Jt[2]*Math.cos(kt),V[0]=ie[0]+lt[0],V[1]=ie[1]+lt[1],V[2]=ie[2]+lt[2],V}function m(V,rt,lt,kt){var Jt=[],ie=[];return Jt[0]=rt[0]-lt[0],Jt[1]=rt[1]-lt[1],Jt[2]=rt[2]-lt[2],ie[0]=Jt[2]*Math.sin(kt)+Jt[0]*Math.cos(kt),ie[1]=Jt[1],ie[2]=Jt[2]*Math.cos(kt)-Jt[0]*Math.sin(kt),V[0]=ie[0]+lt[0],V[1]=ie[1]+lt[1],V[2]=ie[2]+lt[2],V}function x(V,rt,lt,kt){var Jt=[],ie=[];return Jt[0]=rt[0]-lt[0],Jt[1]=rt[1]-lt[1],Jt[2]=rt[2]-lt[2],ie[0]=Jt[0]*Math.cos(kt)-Jt[1]*Math.sin(kt),ie[1]=Jt[0]*Math.sin(kt)+Jt[1]*Math.cos(kt),ie[2]=Jt[2],V[0]=ie[0]+lt[0],V[1]=ie[1]+lt[1],V[2]=ie[2]+lt[2],V}function S(V,rt){var lt=V[0],kt=V[1],Jt=V[2],ie=rt[0],ue=rt[1],qt=rt[2],ae=Math.sqrt(lt*lt+kt*kt+Jt*Jt),_e=Math.sqrt(ie*ie+ue*ue+qt*qt),Re=ae*_e,Ve=Re&&Kr(V,rt)/Re;return Math.acos(Math.min(Math.max(Ve,-1),1))}function it(V){return V[0]=0,V[1]=0,V[2]=0,V}function at(V){return"vec3("+V[0]+", "+V[1]+", "+V[2]+")"}function ht(V,rt){return V[0]===rt[0]&&V[1]===rt[1]&&V[2]===rt[2]}function ut(V,rt){var lt=V[0],kt=V[1],Jt=V[2],ie=rt[0],ue=rt[1],qt=rt[2];return Math.abs(lt-ie)<=a*Math.max(1,Math.abs(lt),Math.abs(ie))&&Math.abs(kt-ue)<=a*Math.max(1,Math.abs(kt),Math.abs(ue))&&Math.abs(Jt-qt)<=a*Math.max(1,Math.abs(Jt),Math.abs(qt))}var Nt=Zn,Rt=ir,Zt=Sr,we=Ye,le=Kn,We=Ue,Je=or,Xt=function(){var V=je();return function(rt,lt,kt,Jt,ie,ue){var qt,ae;for(lt||(lt=3),kt||(kt=0),Jt?ae=Math.min(Jt*lt+kt,rt.length):ae=rt.length,qt=kt;qt<ae;qt+=lt)V[0]=rt[qt],V[1]=rt[qt+1],V[2]=rt[qt+2],ie(V,V,ue),rt[qt]=V[0],rt[qt+1]=V[1],rt[qt+2]=V[2];return rt}}();function ne(V,rt,lt){var kt=[0,0,0,0,0,0,0,0,0];return R(kt,lt),tt(V,kt,rt)}function ye(V,rt,lt){var kt=[0,0,0,0,0,0,0,0,0];return g(kt,lt),tt(V,kt,rt)}function Xe(V,rt,lt){var kt=[0,0,0,0,0,0,0,0,0];return C(kt,lt),tt(V,kt,rt)}function Le(V,rt,lt){return tt(V,lt,rt)}function zn(V,rt){for(var lt=V?[].concat(V):[1,0,0,0,1,0,0,0,1],kt=0,Jt=rt.length;kt<Jt;kt++){var ie=rt[kt];switch(ie[0]){case"t":ne(lt,lt,[ie[1],ie[2]]);break;case"s":Xe(lt,lt,[ie[1],ie[2]]);break;case"r":ye(lt,lt,ie[1]);break;case"m":Le(lt,lt,ie[1]);break}}return lt}function Wn(V,rt){return V[0]*rt[1]-rt[0]*V[1]}function yn(V,rt,lt){var kt=Ot(V,rt),Jt=Wn(V,rt)>=0;return lt?Jt?Math.PI*2-kt:kt:Jt?kt:Math.PI*2-kt}function Pn(V,rt,lt){return lt?(V[0]=rt[1],V[1]=-1*rt[0]):(V[0]=-1*rt[1],V[1]=rt[0]),V}},262:function(b,c,e){var n=e(1377),o=R(n),f=e(627),s=R(f),a=e(5397),u=R(a),h=e(3952),p=R(h),y=e(5268),w=R(y),d=e(7305),M=R(d),D=e(5340),B=R(D),Y=e(6796),N=R(Y),A=e(9507),k=R(A),tt=e(9962),et=R(tt),K=e(1172),U=R(K);e(9253);function R(C){return C&&C.__esModule?C:{default:C}}e(9392);var g={Canvas:o.default,TreeCanvas:s.default,Edge:u.default,Endpoint:p.default,Group:w.default,Node:M.default,TreeNode:B.default,Minimap:N.default,Tips:k.default,Layout:et.default,Arrow:U.default};window.Butterfly=g,b.exports=g},2958:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});var e={value:function(){}};function n(){for(var u=0,h=arguments.length,p={},y;u<h;++u){if(!(y=arguments[u]+"")||y in p||/[\s.]/.test(y))throw new Error("illegal type: "+y);p[y]=[]}return new o(p)}function o(u){this._=u}function f(u,h){return u.trim().split(/^|\s+/).map(function(p){var y="",w=p.indexOf(".");if(w>=0&&(y=p.slice(w+1),p=p.slice(0,w)),p&&!h.hasOwnProperty(p))throw new Error("unknown type: "+p);return{type:p,name:y}})}o.prototype=n.prototype={constructor:o,on:function(h,p){var y=this._,w=f(h+"",y),d,M=-1,D=w.length;if(arguments.length<2){for(;++M<D;)if((d=(h=w[M]).type)&&(d=s(y[d],h.name)))return d;return}if(p!=null&&typeof p!="function")throw new Error("invalid callback: "+p);for(;++M<D;)if(d=(h=w[M]).type)y[d]=a(y[d],h.name,p);else if(p==null)for(d in y)y[d]=a(y[d],h.name,null);return this},copy:function(){var h={},p=this._;for(var y in p)h[y]=p[y].slice();return new o(h)},call:function(h,p){if((d=arguments.length-2)>0)for(var y=new Array(d),w=0,d,M;w<d;++w)y[w]=arguments[w+2];if(!this._.hasOwnProperty(h))throw new Error("unknown type: "+h);for(M=this._[h],w=0,d=M.length;w<d;++w)M[w].value.apply(p,y)},apply:function(h,p,y){if(!this._.hasOwnProperty(h))throw new Error("unknown type: "+h);for(var w=this._[h],d=0,M=w.length;d<M;++d)w[d].value.apply(p,y)}};function s(u,h){for(var p=0,y=u.length,w;p<y;++p)if((w=u[p]).name===h)return w.value}function a(u,h,p){for(var y=0,w=u.length;y<w;++y)if(u[y].name===h){u[y]=e,u=u.slice(0,y).concat(u.slice(y+1));break}return p!=null&&u.push({name:h,value:p}),u}c.default=n},6746:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(2958);Object.defineProperty(c,"dispatch",{enumerable:!0,get:function(){return o(n).default}});function o(f){return f&&f.__esModule?f:{default:f}}},886:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e,n){var o,f=1;e==null&&(e=0),n==null&&(n=0);function s(){var a,u=o.length,h,p=0,y=0;for(a=0;a<u;++a)h=o[a],p+=h.x,y+=h.y;for(p=(p/u-e)*f,y=(y/u-n)*f,a=0;a<u;++a)h=o[a],h.x-=p,h.y-=y}return s.initialize=function(a){o=a},s.x=function(a){return arguments.length?(e=+a,s):e},s.y=function(a){return arguments.length?(n=+a,s):n},s.strength=function(a){return arguments.length?(f=+a,s):f},s}},1405:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(y){var w,d,M,D=1,B=1;typeof y!="function"&&(y=(0,f.default)(y==null?1:+y));function Y(){for(var k,tt=w.length,et,K,U,R,g,C,W=0;W<B;++W)for(et=(0,n.quadtree)(w,h,p).visitAfter(N),k=0;k<tt;++k)K=w[k],g=d[K.index],C=g*g,U=K.x+K.vx,R=K.y+K.vy,et.visit(z);function z(G,nt,j,q,vt){var mt=G.data,wt=G.r,At=g+wt;if(mt){if(mt.index>K.index){var Kt=U-mt.x-mt.vx,jt=R-mt.y-mt.vy,me=Kt*Kt+jt*jt;me<At*At&&(Kt===0&&(Kt=(0,a.default)(M),me+=Kt*Kt),jt===0&&(jt=(0,a.default)(M),me+=jt*jt),me=(At-(me=Math.sqrt(me)))/me*D,K.vx+=(Kt*=me)*(At=(wt*=wt)/(C+wt)),K.vy+=(jt*=me)*At,mt.vx-=Kt*(At=1-At),mt.vy-=jt*At)}return}return nt>U+At||q<U-At||j>R+At||vt<R-At}}function N(k){if(k.data)return k.r=d[k.data.index];for(var tt=k.r=0;tt<4;++tt)k[tt]&&k[tt].r>k.r&&(k.r=k[tt].r)}function A(){if(w){var k,tt=w.length,et;for(d=new Array(tt),k=0;k<tt;++k)et=w[k],d[et.index]=+y(et,k,w)}}return Y.initialize=function(k,tt){w=k,M=tt,A()},Y.iterations=function(k){return arguments.length?(B=+k,Y):B},Y.strength=function(k){return arguments.length?(D=+k,Y):D},Y.radius=function(k){return arguments.length?(y=typeof k=="function"?k:(0,f.default)(+k),A(),Y):y},Y};var n=e(1863),o=e(8549),f=u(o),s=e(6775),a=u(s);function u(y){return y&&y.__esModule?y:{default:y}}function h(y){return y.x+y.vx}function p(y){return y.y+y.vy}},8549:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e){return function(){return e}}},897:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(886);Object.defineProperty(c,"forceCenter",{enumerable:!0,get:function(){return y(n).default}});var o=e(1405);Object.defineProperty(c,"forceCollide",{enumerable:!0,get:function(){return y(o).default}});var f=e(465);Object.defineProperty(c,"forceLink",{enumerable:!0,get:function(){return y(f).default}});var s=e(5457);Object.defineProperty(c,"forceManyBody",{enumerable:!0,get:function(){return y(s).default}});var a=e(3831);Object.defineProperty(c,"forceRadial",{enumerable:!0,get:function(){return y(a).default}});var u=e(8634);Object.defineProperty(c,"forceSimulation",{enumerable:!0,get:function(){return y(u).default}});var h=e(2935);Object.defineProperty(c,"forceX",{enumerable:!0,get:function(){return y(h).default}});var p=e(6128);Object.defineProperty(c,"forceY",{enumerable:!0,get:function(){return y(p).default}});function y(w){return w&&w.__esModule?w:{default:w}}},6775:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e){return(e()-.5)*1e-6}},993:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(){var f=1;return function(){return(f=(e*f+n)%o)/o}};var e=1664525,n=1013904223,o=4294967296},465:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(y){var w=h,d=et,M,D=(0,o.default)(30),B,Y,N,A,k,tt=1;y==null&&(y=[]);function et(C){return 1/Math.min(N[C.source.index],N[C.target.index])}function K(C){for(var W=0,z=y.length;W<tt;++W)for(var G=0,nt,j,q,vt,mt,wt,At;G<z;++G)nt=y[G],j=nt.source,q=nt.target,vt=q.x+q.vx-j.x-j.vx||(0,s.default)(k),mt=q.y+q.vy-j.y-j.vy||(0,s.default)(k),wt=Math.sqrt(vt*vt+mt*mt),wt=(wt-B[G])/wt*C*M[G],vt*=wt,mt*=wt,q.vx-=vt*(At=A[G]),q.vy-=mt*At,j.vx+=vt*(At=1-At),j.vy+=mt*At}function U(){if(Y){var C,W=Y.length,z=y.length,G=new Map(Y.map(function(j,q){return[w(j,q,Y),j]})),nt;for(C=0,N=new Array(W);C<z;++C)nt=y[C],nt.index=C,u(nt.source)!=="object"&&(nt.source=p(G,nt.source)),u(nt.target)!=="object"&&(nt.target=p(G,nt.target)),N[nt.source.index]=(N[nt.source.index]||0)+1,N[nt.target.index]=(N[nt.target.index]||0)+1;for(C=0,A=new Array(z);C<z;++C)nt=y[C],A[C]=N[nt.source.index]/(N[nt.source.index]+N[nt.target.index]);M=new Array(z),R(),B=new Array(z),g()}}function R(){if(Y)for(var C=0,W=y.length;C<W;++C)M[C]=+d(y[C],C,y)}function g(){if(Y)for(var C=0,W=y.length;C<W;++C)B[C]=+D(y[C],C,y)}return K.initialize=function(C,W){Y=C,k=W,U()},K.links=function(C){return arguments.length?(y=C,U(),K):y},K.id=function(C){return arguments.length?(w=C,K):w},K.iterations=function(C){return arguments.length?(tt=+C,K):tt},K.strength=function(C){return arguments.length?(d=typeof C=="function"?C:(0,o.default)(+C),R(),K):d},K.distance=function(C){return arguments.length?(D=typeof C=="function"?C:(0,o.default)(+C),g(),K):D},K};var n=e(8549),o=a(n),f=e(6775),s=a(f);function a(y){return y&&y.__esModule?y:{default:y}}function u(y){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},u(y)}function h(y){return y.index}function p(y,w){var d=y.get(w);if(!d)throw new Error("node not found: "+w);return d}},5457:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(){var p,y,w,d,M=(0,f.default)(-30),D,B=1,Y=1/0,N=.81;function A(K){var U,R=p.length,g=(0,n.quadtree)(p,u.x,u.y).visitAfter(tt);for(d=K,U=0;U<R;++U)y=p[U],g.visit(et)}function k(){if(p){var K,U=p.length,R;for(D=new Array(U),K=0;K<U;++K)R=p[K],D[R.index]=+M(R,K,p)}}function tt(K){var U=0,R,g,C=0,W,z,G;if(K.length){for(W=z=G=0;G<4;++G)(R=K[G])&&(g=Math.abs(R.value))&&(U+=R.value,C+=g,W+=g*R.x,z+=g*R.y);K.x=W/C,K.y=z/C}else{R=K,R.x=R.data.x,R.y=R.data.y;do U+=D[R.data.index];while(R=R.next)}K.value=U}function et(K,U,R,g){if(!K.value)return!0;var C=K.x-y.x,W=K.y-y.y,z=g-U,G=C*C+W*W;if(z*z/N<G)return G<Y&&(C===0&&(C=(0,a.default)(w),G+=C*C),W===0&&(W=(0,a.default)(w),G+=W*W),G<B&&(G=Math.sqrt(B*G)),y.vx+=C*K.value*d/G,y.vy+=W*K.value*d/G),!0;if(K.length||G>=Y)return;(K.data!==y||K.next)&&(C===0&&(C=(0,a.default)(w),G+=C*C),W===0&&(W=(0,a.default)(w),G+=W*W),G<B&&(G=Math.sqrt(B*G)));do K.data!==y&&(z=D[K.data.index]*d/G,y.vx+=C*z,y.vy+=W*z);while(K=K.next)}return A.initialize=function(K,U){p=K,w=U,k()},A.strength=function(K){return arguments.length?(M=typeof K=="function"?K:(0,f.default)(+K),k(),A):M},A.distanceMin=function(K){return arguments.length?(B=K*K,A):Math.sqrt(B)},A.distanceMax=function(K){return arguments.length?(Y=K*K,A):Math.sqrt(Y)},A.theta=function(K){return arguments.length?(N=K*K,A):Math.sqrt(N)},A};var n=e(1863),o=e(8549),f=h(o),s=e(6775),a=h(s),u=e(8634);function h(p){return p&&p.__esModule?p:{default:p}}},3831:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(s,a,u){var h,p=(0,o.default)(.1),y,w;typeof s!="function"&&(s=(0,o.default)(+s)),a==null&&(a=0),u==null&&(u=0);function d(D){for(var B=0,Y=h.length;B<Y;++B){var N=h[B],A=N.x-a||1e-6,k=N.y-u||1e-6,tt=Math.sqrt(A*A+k*k),et=(w[B]-tt)*y[B]*D/tt;N.vx+=A*et,N.vy+=k*et}}function M(){if(h){var D,B=h.length;for(y=new Array(B),w=new Array(B),D=0;D<B;++D)w[D]=+s(h[D],D,h),y[D]=isNaN(w[D])?0:+p(h[D],D,h)}}return d.initialize=function(D){h=D,M()},d.strength=function(D){return arguments.length?(p=typeof D=="function"?D:(0,o.default)(+D),M(),d):p},d.radius=function(D){return arguments.length?(s=typeof D=="function"?D:(0,o.default)(+D),M(),d):s},d.x=function(D){return arguments.length?(a=+D,d):a},d.y=function(D){return arguments.length?(u=+D,d):u},d};var n=e(8549),o=f(n);function f(s){return s&&s.__esModule?s:{default:s}}},8634:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.x=u,c.y=h,c.default=function(w){var d,M=1,D=.001,B=1-Math.pow(D,1/300),Y=0,N=.6,A=new Map,k=(0,o.timer)(K),tt=(0,n.dispatch)("tick","end"),et=(0,s.default)();w==null&&(w=[]);function K(){U(),tt.call("tick",d),M<D&&(k.stop(),tt.call("end",d))}function U(C){var W,z=w.length,G;C===void 0&&(C=1);for(var nt=0;nt<C;++nt)for(M+=(Y-M)*B,A.forEach(function(j){j(M)}),W=0;W<z;++W)G=w[W],G.fx==null?G.x+=G.vx*=N:(G.x=G.fx,G.vx=0),G.fy==null?G.y+=G.vy*=N:(G.y=G.fy,G.vy=0);return d}function R(){for(var C=0,W=w.length,z;C<W;++C){if(z=w[C],z.index=C,z.fx!=null&&(z.x=z.fx),z.fy!=null&&(z.y=z.fy),isNaN(z.x)||isNaN(z.y)){var G=p*Math.sqrt(.5+C),nt=C*y;z.x=G*Math.cos(nt),z.y=G*Math.sin(nt)}(isNaN(z.vx)||isNaN(z.vy))&&(z.vx=z.vy=0)}}function g(C){return C.initialize&&C.initialize(w,et),C}return R(),d={tick:U,restart:function(){return k.restart(K),d},stop:function(){return k.stop(),d},nodes:function(W){return arguments.length?(w=W,R(),A.forEach(g),d):w},alpha:function(W){return arguments.length?(M=+W,d):M},alphaMin:function(W){return arguments.length?(D=+W,d):D},alphaDecay:function(W){return arguments.length?(B=+W,d):+B},alphaTarget:function(W){return arguments.length?(Y=+W,d):Y},velocityDecay:function(W){return arguments.length?(N=1-W,d):1-N},randomSource:function(W){return arguments.length?(et=W,A.forEach(g),d):et},force:function(W,z){return arguments.length>1?(z==null?A.delete(W):A.set(W,g(z)),d):A.get(W)},find:function(W,z,G){var nt=0,j=w.length,q,vt,mt,wt,At;for(G==null?G=1/0:G*=G,nt=0;nt<j;++nt)wt=w[nt],q=W-wt.x,vt=z-wt.y,mt=q*q+vt*vt,mt<G&&(At=wt,G=mt);return At},on:function(W,z){return arguments.length>1?(tt.on(W,z),d):tt.on(W)}}};var n=e(6746),o=e(2245),f=e(993),s=a(f);function a(w){return w&&w.__esModule?w:{default:w}}function u(w){return w.x}function h(w){return w.y}var p=10,y=Math.PI*(3-Math.sqrt(5))},2935:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(s){var a=(0,o.default)(.1),u,h,p;typeof s!="function"&&(s=(0,o.default)(s==null?0:+s));function y(d){for(var M=0,D=u.length,B;M<D;++M)B=u[M],B.vx+=(p[M]-B.x)*h[M]*d}function w(){if(u){var d,M=u.length;for(h=new Array(M),p=new Array(M),d=0;d<M;++d)h[d]=isNaN(p[d]=+s(u[d],d,u))?0:+a(u[d],d,u)}}return y.initialize=function(d){u=d,w()},y.strength=function(d){return arguments.length?(a=typeof d=="function"?d:(0,o.default)(+d),w(),y):a},y.x=function(d){return arguments.length?(s=typeof d=="function"?d:(0,o.default)(+d),w(),y):s},y};var n=e(8549),o=f(n);function f(s){return s&&s.__esModule?s:{default:s}}},6128:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(s){var a=(0,o.default)(.1),u,h,p;typeof s!="function"&&(s=(0,o.default)(s==null?0:+s));function y(d){for(var M=0,D=u.length,B;M<D;++M)B=u[M],B.vy+=(p[M]-B.y)*h[M]*d}function w(){if(u){var d,M=u.length;for(h=new Array(M),p=new Array(M),d=0;d<M;++d)h[d]=isNaN(p[d]=+s(u[d],d,u))?0:+a(u[d],d,u)}}return y.initialize=function(d){u=d,w()},y.strength=function(d){return arguments.length?(a=typeof d=="function"?d:(0,o.default)(+d),w(),y):a},y.y=function(d){return arguments.length?(s=typeof d=="function"?d:(0,o.default)(+d),w(),y):s},y};var n=e(8549),o=f(n);function f(s){return s&&s.__esModule?s:{default:s}}},8513:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(o){var f=+this._x.call(null,o),s=+this._y.call(null,o);return e(this.cover(f,s),f,s,o)},c.addAll=n;function e(o,f,s,a){if(isNaN(f)||isNaN(s))return o;var u,h=o._root,p={data:a},y=o._x0,w=o._y0,d=o._x1,M=o._y1,D,B,Y,N,A,k,tt,et;if(!h)return o._root=p,o;for(;h.length;)if((A=f>=(D=(y+d)/2))?y=D:d=D,(k=s>=(B=(w+M)/2))?w=B:M=B,u=h,!(h=h[tt=k<<1|A]))return u[tt]=p,o;if(Y=+o._x.call(null,h.data),N=+o._y.call(null,h.data),f===Y&&s===N)return p.next=h,u?u[tt]=p:o._root=p,o;do u=u?u[tt]=new Array(4):o._root=new Array(4),(A=f>=(D=(y+d)/2))?y=D:d=D,(k=s>=(B=(w+M)/2))?w=B:M=B;while((tt=k<<1|A)===(et=(N>=B)<<1|Y>=D));return u[et]=h,u[tt]=p,o}function n(o){var f,s,a=o.length,u,h,p=new Array(a),y=new Array(a),w=1/0,d=1/0,M=-1/0,D=-1/0;for(s=0;s<a;++s)isNaN(u=+this._x.call(null,f=o[s]))||isNaN(h=+this._y.call(null,f))||(p[s]=u,y[s]=h,u<w&&(w=u),u>M&&(M=u),h<d&&(d=h),h>D&&(D=h));if(w>M||d>D)return this;for(this.cover(w,d).cover(M,D),s=0;s<a;++s)e(this,p[s],y[s],o[s]);return this}},2890:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var o=this._x0,f=this._y0,s=this._x1,a=this._y1;if(isNaN(o))s=(o=Math.floor(e))+1,a=(f=Math.floor(n))+1;else{for(var u=s-o||1,h=this._root,p,y;o>e||e>=s||f>n||n>=a;)switch(y=(n<f)<<1|e<o,p=new Array(4),p[y]=h,h=p,u*=2,y){case 0:s=o+u,a=f+u;break;case 1:o=s-u,a=f+u;break;case 2:s=o+u,f=a-u;break;case 3:o=s-u,f=a-u;break}this._root&&this._root.length&&(this._root=h)}return this._x0=o,this._y0=f,this._x1=s,this._y1=a,this}},777:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}},3164:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}},8703:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(s,a,u){var h,p=this._x0,y=this._y0,w,d,M,D,B=this._x1,Y=this._y1,N=[],A=this._root,k,tt;for(A&&N.push(new o.default(A,p,y,B,Y)),u==null?u=1/0:(p=s-u,y=a-u,B=s+u,Y=a+u,u*=u);k=N.pop();)if(!(!(A=k.node)||(w=k.x0)>B||(d=k.y0)>Y||(M=k.x1)<p||(D=k.y1)<y))if(A.length){var et=(w+M)/2,K=(d+D)/2;N.push(new o.default(A[3],et,K,M,D),new o.default(A[2],w,K,et,D),new o.default(A[1],et,d,M,K),new o.default(A[0],w,d,et,K)),(tt=(a>=K)<<1|s>=et)&&(k=N[N.length-1],N[N.length-1]=N[N.length-1-tt],N[N.length-1-tt]=k)}else{var U=s-+this._x.call(null,A.data),R=a-+this._y.call(null,A.data),g=U*U+R*R;if(g<u){var C=Math.sqrt(u=g);p=s-C,y=a-C,B=s+C,Y=a+C,h=A.data}}return h};var n=e(4113),o=f(n);function f(s){return s&&s.__esModule?s:{default:s}}},1863:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(9010);Object.defineProperty(c,"quadtree",{enumerable:!0,get:function(){return o(n).default}});function o(f){return f&&f.__esModule?f:{default:f}}},4113:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e,n,o,f,s){this.node=e,this.x0=n,this.y0=o,this.x1=f,this.y1=s}},9010:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=W;var n=e(8513),o=C(n),f=e(2890),s=C(f),a=e(777),u=C(a),h=e(3164),p=C(h),y=e(8703),w=C(y),d=e(5820),M=C(d),D=e(3869),B=C(D),Y=e(9150),N=C(Y),A=e(8239),k=C(A),tt=e(6904),et=C(tt),K=e(4114),U=C(K),R=e(4502),g=C(R);function C(j){return j&&j.__esModule?j:{default:j}}function W(j,q,vt){var mt=new z(q??K.defaultX,vt??R.defaultY,NaN,NaN,NaN,NaN);return j==null?mt:mt.addAll(j)}function z(j,q,vt,mt,wt,At){this._x=j,this._y=q,this._x0=vt,this._y0=mt,this._x1=wt,this._y1=At,this._root=void 0}function G(j){for(var q={data:j.data},vt=q;j=j.next;)vt=vt.next={data:j.data};return q}var nt=W.prototype=z.prototype;nt.copy=function(){var j=new z(this._x,this._y,this._x0,this._y0,this._x1,this._y1),q=this._root,vt,mt;if(!q)return j;if(!q.length)return j._root=G(q),j;for(vt=[{source:q,target:j._root=new Array(4)}];q=vt.pop();)for(var wt=0;wt<4;++wt)(mt=q.source[wt])&&(mt.length?vt.push({source:mt,target:q.target[wt]=new Array(4)}):q.target[wt]=G(mt));return j},nt.add=o.default,nt.addAll=n.addAll,nt.cover=s.default,nt.data=u.default,nt.extent=p.default,nt.find=w.default,nt.remove=M.default,nt.removeAll=d.removeAll,nt.root=B.default,nt.size=N.default,nt.visit=k.default,nt.visitAfter=et.default,nt.x=U.default,nt.y=g.default},5820:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(n){if(isNaN(d=+this._x.call(null,n))||isNaN(M=+this._y.call(null,n)))return this;var o,f=this._root,s,a,u,h=this._x0,p=this._y0,y=this._x1,w=this._y1,d,M,D,B,Y,N,A,k;if(!f)return this;if(f.length)for(;;){if((Y=d>=(D=(h+y)/2))?h=D:y=D,(N=M>=(B=(p+w)/2))?p=B:w=B,o=f,!(f=f[A=N<<1|Y]))return this;if(!f.length)break;(o[A+1&3]||o[A+2&3]||o[A+3&3])&&(s=o,k=A)}for(;f.data!==n;)if(a=f,!(f=f.next))return this;return(u=f.next)&&delete f.next,a?(u?a.next=u:delete a.next,this):o?(u?o[A]=u:delete o[A],(f=o[0]||o[1]||o[2]||o[3])&&f===(o[3]||o[2]||o[1]||o[0])&&!f.length&&(s?s[k]=f:this._root=f),this):(this._root=u,this)},c.removeAll=e;function e(n){for(var o=0,f=n.length;o<f;++o)this.remove(n[o]);return this}},3869:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(){return this._root}},9150:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}},8239:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(s){var a=[],u,h=this._root,p,y,w,d,M;for(h&&a.push(new o.default(h,this._x0,this._y0,this._x1,this._y1));u=a.pop();)if(!s(h=u.node,y=u.x0,w=u.y0,d=u.x1,M=u.y1)&&h.length){var D=(y+d)/2,B=(w+M)/2;(p=h[3])&&a.push(new o.default(p,D,B,d,M)),(p=h[2])&&a.push(new o.default(p,y,B,D,M)),(p=h[1])&&a.push(new o.default(p,D,w,d,B)),(p=h[0])&&a.push(new o.default(p,y,w,D,B))}return this};var n=e(4113),o=f(n);function f(s){return s&&s.__esModule?s:{default:s}}},6904:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(s){var a=[],u=[],h;for(this._root&&a.push(new o.default(this._root,this._x0,this._y0,this._x1,this._y1));h=a.pop();){var p=h.node;if(p.length){var y,w=h.x0,d=h.y0,M=h.x1,D=h.y1,B=(w+M)/2,Y=(d+D)/2;(y=p[0])&&a.push(new o.default(y,w,d,B,Y)),(y=p[1])&&a.push(new o.default(y,B,d,M,Y)),(y=p[2])&&a.push(new o.default(y,w,Y,B,D)),(y=p[3])&&a.push(new o.default(y,B,Y,M,D))}u.push(h)}for(;h=u.pop();)s(h.node,h.x0,h.y0,h.x1,h.y1);return this};var n=e(4113),o=f(n);function f(s){return s&&s.__esModule?s:{default:s}}},4114:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.defaultX=e,c.default=function(n){return arguments.length?(this._x=n,this):this._x};function e(n){return n[0]}},4502:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.defaultY=e,c.default=function(n){return arguments.length?(this._y=n,this):this._y};function e(n){return n[1]}},2245:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(8984);Object.defineProperty(c,"now",{enumerable:!0,get:function(){return n.now}}),Object.defineProperty(c,"timer",{enumerable:!0,get:function(){return n.timer}}),Object.defineProperty(c,"timerFlush",{enumerable:!0,get:function(){return n.timerFlush}});var o=e(2577);Object.defineProperty(c,"timeout",{enumerable:!0,get:function(){return s(o).default}});var f=e(5619);Object.defineProperty(c,"interval",{enumerable:!0,get:function(){return s(f).default}});function s(a){return a&&a.__esModule?a:{default:a}}},5619:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(o,f,s){var a=new n.Timer,u=f;return f==null?(a.restart(o,f,s),a):(a._restart=a.restart,a.restart=function(h,p,y){p=+p,y=y==null?(0,n.now)():+y,a._restart(function w(d){d+=u,a._restart(w,u+=p,y),h(d)},p,y)},a.restart(o,f,s),a)};var n=e(8984)},2577:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(o,f,s){var a=new n.Timer;return f=f==null?0:+f,a.restart(function(u){a.stop(),o(u+f)},f,s),a};var n=e(8984)},8984:function(b,c){Object.defineProperty(c,"__esModule",{value:!0}),c.now=M,c.Timer=B,c.timer=Y,c.timerFlush=N;function e(K){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},e(K)}var n=0,o=0,f=0,s=1e3,a,u,h=0,p=0,y=0,w=(typeof performance>"u"?"undefined":e(performance))==="object"&&performance.now?performance:Date,d=(typeof window>"u"?"undefined":e(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(K){setTimeout(K,17)};function M(){return p||(d(D),p=w.now()+y)}function D(){p=0}function B(){this._call=this._time=this._next=null}B.prototype=Y.prototype={constructor:B,restart:function(U,R,g){if(typeof U!="function")throw new TypeError("callback is not a function");g=(g==null?M():+g)+(R==null?0:+R),!this._next&&u!==this&&(u?u._next=this:a=this,u=this),this._call=U,this._time=g,et()},stop:function(){this._call&&(this._call=null,this._time=1/0,et())}};function Y(K,U,R){var g=new B;return g.restart(K,U,R),g}function N(){M(),++n;for(var K=a,U;K;)(U=p-K._time)>=0&&K._call.call(null,U),K=K._next;--n}function A(){p=(h=w.now())+y,n=o=0;try{N()}finally{n=0,tt(),p=0}}function k(){var K=w.now(),U=K-h;U>s&&(y-=U,h=K)}function tt(){for(var K,U=a,R,g=1/0;U;)U._call?(g>U._time&&(g=U._time),K=U,U=U._next):(R=U._next,U._next=null,U=K?K._next=R:a=R);u=K,et(g)}function et(K){if(!n){o&&(o=clearTimeout(o));var U=K-p;U>24?(K<1/0&&(o=setTimeout(A,K-w.now()-y)),f&&(f=clearInterval(f))):(f||(h=w.now(),f=setInterval(k,s)),n=1,d(A))}}},2019:function(b,c,e){function n(){return typeof Reflect<"u"&&Reflect.get?n=Reflect.get.bind():n=function(X,$,m){var x=o(X,$);if(x){var S=Object.getOwnPropertyDescriptor(x,$);return S.get?S.get.call(arguments.length<3?X:m):S.value}},n.apply(this,arguments)}function o(Q,X){for(;!Object.prototype.hasOwnProperty.call(Q,X)&&(Q=M(Q),Q!==null););return Q}function f(Q,X,$){A(Q,X),X.set(Q,$)}function s(Q,X,$){var m=h(Q,X,"set");return a(Q,m,$),$}function a(Q,X,$){if(X.set)X.set.call(Q,$);else{if(!X.writable)throw new TypeError("attempted to set read only private field");X.value=$}}function u(Q,X){var $=h(Q,X,"get");return p(Q,$)}function h(Q,X,$){if(!X.has(Q))throw new TypeError("attempted to "+$+" private field on non-instance");return X.get(Q)}function p(Q,X){return X.get?X.get.call(Q):X.value}function y(Q,X,$){return X=M(X),w(Q,d()?Reflect.construct(X,$||[],M(Q).constructor):X.apply(Q,$))}function w(Q,X){if(X&&(G(X)==="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(Q)}function d(){try{var Q=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!Q})()}function M(Q){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},M(Q)}function D(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function B(Q,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(X&&X.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),X&&Y(Q,X)}function Y(Q,X){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,x){return m.__proto__=x,m},Y(Q,X)}function N(Q,X){A(Q,X),X.add(Q)}function A(Q,X){if(X.has(Q))throw new TypeError("Cannot initialize the same private elements twice on an object")}function k(Q,X,$){return X=vt(X),X in Q?Object.defineProperty(Q,X,{value:$,enumerable:!0,configurable:!0,writable:!0}):Q[X]=$,Q}function tt(Q,X,$){if(!X.has(Q))throw new TypeError("attempted to get private field on non-instance");return $}function et(Q,X){return R(Q)||U(Q,X)||C(Q,X)||K()}function K(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(Q,X){var $=Q==null?null:typeof Symbol<"u"&&Q[Symbol.iterator]||Q["@@iterator"];if($!=null){var m,x,S,it,at=[],ht=!0,ut=!1;try{if(S=($=$.call(Q)).next,X===0){if(Object($)!==$)return;ht=!1}else for(;!(ht=(m=S.call($)).done)&&(at.push(m.value),at.length!==X);ht=!0);}catch(Nt){ut=!0,x=Nt}finally{try{if(!ht&&$.return!=null&&(it=$.return(),Object(it)!==it))return}finally{if(ut)throw x}}return at}}function R(Q){if(Array.isArray(Q))return Q}function g(Q,X){var $=typeof Symbol<"u"&&Q[Symbol.iterator]||Q["@@iterator"];if(!$){if(Array.isArray(Q)||($=C(Q))||X&&Q&&typeof Q.length=="number"){$&&(Q=$);var m=0,x=function(){};return{s:x,n:function(){return m>=Q.length?{done:!0}:{done:!1,value:Q[m++]}},e:function(ut){throw ut},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=!0,it=!1,at;return{s:function(){$=$.call(Q)},n:function(){var ut=$.next();return S=ut.done,ut},e:function(ut){it=!0,at=ut},f:function(){try{!S&&$.return!=null&&$.return()}finally{if(it)throw at}}}}function C(Q,X){if(Q){if(typeof Q=="string")return W(Q,X);var $=Object.prototype.toString.call(Q).slice(8,-1);if($==="Object"&&Q.constructor&&($=Q.constructor.name),$==="Map"||$==="Set")return Array.from(Q);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return W(Q,X)}}function W(Q,X){(X==null||X>Q.length)&&(X=Q.length);for(var $=0,m=new Array(X);$<X;$++)m[$]=Q[$];return m}function z(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */z=function(){return X};var Q,X={},$=Object.prototype,m=$.hasOwnProperty,x=Object.defineProperty||function(ue,qt,ae){ue[qt]=ae.value},S=typeof Symbol=="function"?Symbol:{},it=S.iterator||"@@iterator",at=S.asyncIterator||"@@asyncIterator",ht=S.toStringTag||"@@toStringTag";function ut(ue,qt,ae){return Object.defineProperty(ue,qt,{value:ae,enumerable:!0,configurable:!0,writable:!0}),ue[qt]}try{ut({},"")}catch{ut=function(ae,_e,Re){return ae[_e]=Re}}function Nt(ue,qt,ae,_e){var Re=qt&&qt.prototype instanceof Xt?qt:Xt,Ve=Object.create(Re.prototype),Qe=new Jt(_e||[]);return x(Ve,"_invoke",{value:V(ue,ae,Qe)}),Ve}function Rt(ue,qt,ae){try{return{type:"normal",arg:ue.call(qt,ae)}}catch(_e){return{type:"throw",arg:_e}}}X.wrap=Nt;var Zt="suspendedStart",we="suspendedYield",le="executing",We="completed",Je={};function Xt(){}function ne(){}function ye(){}var Xe={};ut(Xe,it,function(){return this});var Le=Object.getPrototypeOf,zn=Le&&Le(Le(ie([])));zn&&zn!==$&&m.call(zn,it)&&(Xe=zn);var Wn=ye.prototype=Xt.prototype=Object.create(Xe);function yn(ue){["next","throw","return"].forEach(function(qt){ut(ue,qt,function(ae){return this._invoke(qt,ae)})})}function Pn(ue,qt){function ae(Re,Ve,Qe,_n){var xn=Rt(ue[Re],ue,Ve);if(xn.type!=="throw"){var pn=xn.arg,gn=pn.value;return gn&&G(gn)=="object"&&m.call(gn,"__await")?qt.resolve(gn.__await).then(function(sr){ae("next",sr,Qe,_n)},function(sr){ae("throw",sr,Qe,_n)}):qt.resolve(gn).then(function(sr){pn.value=sr,Qe(pn)},function(sr){return ae("throw",sr,Qe,_n)})}_n(xn.arg)}var _e;x(this,"_invoke",{value:function(Ve,Qe){function _n(){return new qt(function(xn,pn){ae(Ve,Qe,xn,pn)})}return _e=_e?_e.then(_n,_n):_n()}})}function V(ue,qt,ae){var _e=Zt;return function(Re,Ve){if(_e===le)throw new Error("Generator is already running");if(_e===We){if(Re==="throw")throw Ve;return{value:Q,done:!0}}for(ae.method=Re,ae.arg=Ve;;){var Qe=ae.delegate;if(Qe){var _n=rt(Qe,ae);if(_n){if(_n===Je)continue;return _n}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(_e===Zt)throw _e=We,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);_e=le;var xn=Rt(ue,qt,ae);if(xn.type==="normal"){if(_e=ae.done?We:we,xn.arg===Je)continue;return{value:xn.arg,done:ae.done}}xn.type==="throw"&&(_e=We,ae.method="throw",ae.arg=xn.arg)}}}function rt(ue,qt){var ae=qt.method,_e=ue.iterator[ae];if(_e===Q)return qt.delegate=null,ae==="throw"&&ue.iterator.return&&(qt.method="return",qt.arg=Q,rt(ue,qt),qt.method==="throw")||ae!=="return"&&(qt.method="throw",qt.arg=new TypeError("The iterator does not provide a '"+ae+"' method")),Je;var Re=Rt(_e,ue.iterator,qt.arg);if(Re.type==="throw")return qt.method="throw",qt.arg=Re.arg,qt.delegate=null,Je;var Ve=Re.arg;return Ve?Ve.done?(qt[ue.resultName]=Ve.value,qt.next=ue.nextLoc,qt.method!=="return"&&(qt.method="next",qt.arg=Q),qt.delegate=null,Je):Ve:(qt.method="throw",qt.arg=new TypeError("iterator result is not an object"),qt.delegate=null,Je)}function lt(ue){var qt={tryLoc:ue[0]};1 in ue&&(qt.catchLoc=ue[1]),2 in ue&&(qt.finallyLoc=ue[2],qt.afterLoc=ue[3]),this.tryEntries.push(qt)}function kt(ue){var qt=ue.completion||{};qt.type="normal",delete qt.arg,ue.completion=qt}function Jt(ue){this.tryEntries=[{tryLoc:"root"}],ue.forEach(lt,this),this.reset(!0)}function ie(ue){if(ue||ue===""){var qt=ue[it];if(qt)return qt.call(ue);if(typeof ue.next=="function")return ue;if(!isNaN(ue.length)){var ae=-1,_e=function Re(){for(;++ae<ue.length;)if(m.call(ue,ae))return Re.value=ue[ae],Re.done=!1,Re;return Re.value=Q,Re.done=!0,Re};return _e.next=_e}}throw new TypeError(G(ue)+" is not iterable")}return ne.prototype=ye,x(Wn,"constructor",{value:ye,configurable:!0}),x(ye,"constructor",{value:ne,configurable:!0}),ne.displayName=ut(ye,ht,"GeneratorFunction"),X.isGeneratorFunction=function(ue){var qt=typeof ue=="function"&&ue.constructor;return!!qt&&(qt===ne||(qt.displayName||qt.name)==="GeneratorFunction")},X.mark=function(ue){return Object.setPrototypeOf?Object.setPrototypeOf(ue,ye):(ue.__proto__=ye,ut(ue,ht,"GeneratorFunction")),ue.prototype=Object.create(Wn),ue},X.awrap=function(ue){return{__await:ue}},yn(Pn.prototype),ut(Pn.prototype,at,function(){return this}),X.AsyncIterator=Pn,X.async=function(ue,qt,ae,_e,Re){Re===void 0&&(Re=Promise);var Ve=new Pn(Nt(ue,qt,ae,_e),Re);return X.isGeneratorFunction(qt)?Ve:Ve.next().then(function(Qe){return Qe.done?Qe.value:Ve.next()})},yn(Wn),ut(Wn,ht,"Generator"),ut(Wn,it,function(){return this}),ut(Wn,"toString",function(){return"[object Generator]"}),X.keys=function(ue){var qt=Object(ue),ae=[];for(var _e in qt)ae.push(_e);return ae.reverse(),function Re(){for(;ae.length;){var Ve=ae.pop();if(Ve in qt)return Re.value=Ve,Re.done=!1,Re}return Re.done=!0,Re}},X.values=ie,Jt.prototype={constructor:Jt,reset:function(qt){if(this.prev=0,this.next=0,this.sent=this._sent=Q,this.done=!1,this.delegate=null,this.method="next",this.arg=Q,this.tryEntries.forEach(kt),!qt)for(var ae in this)ae.charAt(0)==="t"&&m.call(this,ae)&&!isNaN(+ae.slice(1))&&(this[ae]=Q)},stop:function(){this.done=!0;var qt=this.tryEntries[0].completion;if(qt.type==="throw")throw qt.arg;return this.rval},dispatchException:function(qt){if(this.done)throw qt;var ae=this;function _e(pn,gn){return Qe.type="throw",Qe.arg=qt,ae.next=pn,gn&&(ae.method="next",ae.arg=Q),!!gn}for(var Re=this.tryEntries.length-1;Re>=0;--Re){var Ve=this.tryEntries[Re],Qe=Ve.completion;if(Ve.tryLoc==="root")return _e("end");if(Ve.tryLoc<=this.prev){var _n=m.call(Ve,"catchLoc"),xn=m.call(Ve,"finallyLoc");if(_n&&xn){if(this.prev<Ve.catchLoc)return _e(Ve.catchLoc,!0);if(this.prev<Ve.finallyLoc)return _e(Ve.finallyLoc)}else if(_n){if(this.prev<Ve.catchLoc)return _e(Ve.catchLoc,!0)}else{if(!xn)throw new Error("try statement without catch or finally");if(this.prev<Ve.finallyLoc)return _e(Ve.finallyLoc)}}}},abrupt:function(qt,ae){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var Re=this.tryEntries[_e];if(Re.tryLoc<=this.prev&&m.call(Re,"finallyLoc")&&this.prev<Re.finallyLoc){var Ve=Re;break}}Ve&&(qt==="break"||qt==="continue")&&Ve.tryLoc<=ae&&ae<=Ve.finallyLoc&&(Ve=null);var Qe=Ve?Ve.completion:{};return Qe.type=qt,Qe.arg=ae,Ve?(this.method="next",this.next=Ve.finallyLoc,Je):this.complete(Qe)},complete:function(qt,ae){if(qt.type==="throw")throw qt.arg;return qt.type==="break"||qt.type==="continue"?this.next=qt.arg:qt.type==="return"?(this.rval=this.arg=qt.arg,this.method="return",this.next="end"):qt.type==="normal"&&ae&&(this.next=ae),Je},finish:function(qt){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var _e=this.tryEntries[ae];if(_e.finallyLoc===qt)return this.complete(_e.completion,_e.afterLoc),kt(_e),Je}},catch:function(qt){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var _e=this.tryEntries[ae];if(_e.tryLoc===qt){var Re=_e.completion;if(Re.type==="throw"){var Ve=Re.arg;kt(_e)}return Ve}}throw new Error("illegal catch attempt")},delegateYield:function(qt,ae,_e){return this.delegate={iterator:ie(qt),resultName:ae,nextLoc:_e},this.method==="next"&&(this.arg=Q),Je}},X}function G(Q){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},G(Q)}function nt(Q,X){if(!(Q instanceof X))throw new TypeError("Cannot call a class as a function")}function j(Q,X){for(var $=0;$<X.length;$++){var m=X[$];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(Q,vt(m.key),m)}}function q(Q,X,$){return X&&j(Q.prototype,X),$&&j(Q,$),Object.defineProperty(Q,"prototype",{writable:!1}),Q}function vt(Q){var X=mt(Q,"string");return G(X)=="symbol"?X:String(X)}function mt(Q,X){if(G(Q)!="object"||!Q)return Q;var $=Q[Symbol.toPrimitive];if($!==void 0){var m=$.call(Q,X||"default");if(G(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(Q)}Object.defineProperty(c,"__esModule",{value:!0});var wt=e(4634),At=e(5053),Kt=" ".repeat(2),jt=" ".repeat(4);function me(){return zt(this)}function zt(Q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=X.maxRows,m=$===void 0?15:$,x=X.maxColumns,S=x===void 0?10:x,it=X.maxNumSize,at=it===void 0?8:it,ht=X.padMinus,ut=ht===void 0?"auto":ht;return"".concat(Q.constructor.name,` {
`).concat(Kt,`[
`).concat(jt).concat($t(Q,m,S,at,ut),`
`).concat(Kt,`]
`).concat(Kt,"rows: ").concat(Q.rows,`
`).concat(Kt,"columns: ").concat(Q.columns,`
}`)}function $t(Q,X,$,m,x){var S=Q.rows,it=Q.columns,at=Math.min(S,X),ht=Math.min(it,$),ut=[];if(x==="auto"){x=!1;t:for(var Nt=0;Nt<at;Nt++)for(var Rt=0;Rt<ht;Rt++)if(Q.get(Nt,Rt)<0){x=!0;break t}}for(var Zt=0;Zt<at;Zt++){for(var we=[],le=0;le<ht;le++)we.push(Pt(Q.get(Zt,le),m,x));ut.push("".concat(we.join(" ")))}return ht!==it&&(ut[ut.length-1]+=" ... ".concat(it-$," more columns")),at!==S&&ut.push("... ".concat(S-X," more rows")),ut.join(`
`.concat(jt))}function Pt(Q,X,$){return(Q>=0&&$?" ".concat(Ft(Q,X-1)):Ft(Q,X)).padEnd(X)}function Ft(Q,X){var $=Q.toString();if($.length<=X)return $;var m=Q.toFixed(X);if(m.length>X&&(m=Q.toFixed(Math.max(0,X-(m.length-X)))),m.length<=X&&!m.startsWith("0.000")&&!m.startsWith("-0.000"))return m;var x=Q.toExponential(X);return x.length>X&&(x=Q.toExponential(Math.max(0,X-(x.length-X)))),x.slice(0)}function se(Q,X){Q.prototype.add=function(m){return typeof m=="number"?this.addS(m):this.addM(m)},Q.prototype.addS=function(m){for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)+m);return this},Q.prototype.addM=function(m){if(m=X.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)+m.get(x,S));return this},Q.add=function(m,x){var S=new X(m);return S.add(x)},Q.prototype.sub=function(m){return typeof m=="number"?this.subS(m):this.subM(m)},Q.prototype.subS=function(m){for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)-m);return this},Q.prototype.subM=function(m){if(m=X.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)-m.get(x,S));return this},Q.sub=function(m,x){var S=new X(m);return S.sub(x)},Q.prototype.subtract=Q.prototype.sub,Q.prototype.subtractS=Q.prototype.subS,Q.prototype.subtractM=Q.prototype.subM,Q.subtract=Q.sub,Q.prototype.mul=function(m){return typeof m=="number"?this.mulS(m):this.mulM(m)},Q.prototype.mulS=function(m){for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)*m);return this},Q.prototype.mulM=function(m){if(m=X.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)*m.get(x,S));return this},Q.mul=function(m,x){var S=new X(m);return S.mul(x)},Q.prototype.multiply=Q.prototype.mul,Q.prototype.multiplyS=Q.prototype.mulS,Q.prototype.multiplyM=Q.prototype.mulM,Q.multiply=Q.mul,Q.prototype.div=function(m){return typeof m=="number"?this.divS(m):this.divM(m)},Q.prototype.divS=function(m){for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)/m);return this},Q.prototype.divM=function(m){if(m=X.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)/m.get(x,S));return this},Q.div=function(m,x){var S=new X(m);return S.div(x)},Q.prototype.divide=Q.prototype.div,Q.prototype.divideS=Q.prototype.divS,Q.prototype.divideM=Q.prototype.divM,Q.divide=Q.div,Q.prototype.mod=function(m){return typeof m=="number"?this.modS(m):this.modM(m)},Q.prototype.modS=function(m){for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)%m);return this},Q.prototype.modM=function(m){if(m=X.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)%m.get(x,S));return this},Q.mod=function(m,x){var S=new X(m);return S.mod(x)},Q.prototype.modulus=Q.prototype.mod,Q.prototype.modulusS=Q.prototype.modS,Q.prototype.modulusM=Q.prototype.modM,Q.modulus=Q.mod,Q.prototype.and=function(m){return typeof m=="number"?this.andS(m):this.andM(m)},Q.prototype.andS=function(m){for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)&m);return this},Q.prototype.andM=function(m){if(m=X.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)&m.get(x,S));return this},Q.and=function(m,x){var S=new X(m);return S.and(x)},Q.prototype.or=function(m){return typeof m=="number"?this.orS(m):this.orM(m)},Q.prototype.orS=function(m){for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)|m);return this},Q.prototype.orM=function(m){if(m=X.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)|m.get(x,S));return this},Q.or=function(m,x){var S=new X(m);return S.or(x)},Q.prototype.xor=function(m){return typeof m=="number"?this.xorS(m):this.xorM(m)},Q.prototype.xorS=function(m){for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)^m);return this},Q.prototype.xorM=function(m){if(m=X.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)^m.get(x,S));return this},Q.xor=function(m,x){var S=new X(m);return S.xor(x)},Q.prototype.leftShift=function(m){return typeof m=="number"?this.leftShiftS(m):this.leftShiftM(m)},Q.prototype.leftShiftS=function(m){for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)<<m);return this},Q.prototype.leftShiftM=function(m){if(m=X.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)<<m.get(x,S));return this},Q.leftShift=function(m,x){var S=new X(m);return S.leftShift(x)},Q.prototype.signPropagatingRightShift=function(m){return typeof m=="number"?this.signPropagatingRightShiftS(m):this.signPropagatingRightShiftM(m)},Q.prototype.signPropagatingRightShiftS=function(m){for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)>>m);return this},Q.prototype.signPropagatingRightShiftM=function(m){if(m=X.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)>>m.get(x,S));return this},Q.signPropagatingRightShift=function(m,x){var S=new X(m);return S.signPropagatingRightShift(x)},Q.prototype.rightShift=function(m){return typeof m=="number"?this.rightShiftS(m):this.rightShiftM(m)},Q.prototype.rightShiftS=function(m){for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)>>>m);return this},Q.prototype.rightShiftM=function(m){if(m=X.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)>>>m.get(x,S));return this},Q.rightShift=function(m,x){var S=new X(m);return S.rightShift(x)},Q.prototype.zeroFillRightShift=Q.prototype.rightShift,Q.prototype.zeroFillRightShiftS=Q.prototype.rightShiftS,Q.prototype.zeroFillRightShiftM=Q.prototype.rightShiftM,Q.zeroFillRightShift=Q.rightShift,Q.prototype.not=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,~this.get(m,x));return this},Q.not=function(m){var x=new X(m);return x.not()},Q.prototype.abs=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.abs(this.get(m,x)));return this},Q.abs=function(m){var x=new X(m);return x.abs()},Q.prototype.acos=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.acos(this.get(m,x)));return this},Q.acos=function(m){var x=new X(m);return x.acos()},Q.prototype.acosh=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.acosh(this.get(m,x)));return this},Q.acosh=function(m){var x=new X(m);return x.acosh()},Q.prototype.asin=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.asin(this.get(m,x)));return this},Q.asin=function(m){var x=new X(m);return x.asin()},Q.prototype.asinh=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.asinh(this.get(m,x)));return this},Q.asinh=function(m){var x=new X(m);return x.asinh()},Q.prototype.atan=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.atan(this.get(m,x)));return this},Q.atan=function(m){var x=new X(m);return x.atan()},Q.prototype.atanh=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.atanh(this.get(m,x)));return this},Q.atanh=function(m){var x=new X(m);return x.atanh()},Q.prototype.cbrt=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.cbrt(this.get(m,x)));return this},Q.cbrt=function(m){var x=new X(m);return x.cbrt()},Q.prototype.ceil=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.ceil(this.get(m,x)));return this},Q.ceil=function(m){var x=new X(m);return x.ceil()},Q.prototype.clz32=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.clz32(this.get(m,x)));return this},Q.clz32=function(m){var x=new X(m);return x.clz32()},Q.prototype.cos=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.cos(this.get(m,x)));return this},Q.cos=function(m){var x=new X(m);return x.cos()},Q.prototype.cosh=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.cosh(this.get(m,x)));return this},Q.cosh=function(m){var x=new X(m);return x.cosh()},Q.prototype.exp=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.exp(this.get(m,x)));return this},Q.exp=function(m){var x=new X(m);return x.exp()},Q.prototype.expm1=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.expm1(this.get(m,x)));return this},Q.expm1=function(m){var x=new X(m);return x.expm1()},Q.prototype.floor=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.floor(this.get(m,x)));return this},Q.floor=function(m){var x=new X(m);return x.floor()},Q.prototype.fround=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.fround(this.get(m,x)));return this},Q.fround=function(m){var x=new X(m);return x.fround()},Q.prototype.log=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.log(this.get(m,x)));return this},Q.log=function(m){var x=new X(m);return x.log()},Q.prototype.log1p=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.log1p(this.get(m,x)));return this},Q.log1p=function(m){var x=new X(m);return x.log1p()},Q.prototype.log10=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.log10(this.get(m,x)));return this},Q.log10=function(m){var x=new X(m);return x.log10()},Q.prototype.log2=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.log2(this.get(m,x)));return this},Q.log2=function(m){var x=new X(m);return x.log2()},Q.prototype.round=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.round(this.get(m,x)));return this},Q.round=function(m){var x=new X(m);return x.round()},Q.prototype.sign=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.sign(this.get(m,x)));return this},Q.sign=function(m){var x=new X(m);return x.sign()},Q.prototype.sin=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.sin(this.get(m,x)));return this},Q.sin=function(m){var x=new X(m);return x.sin()},Q.prototype.sinh=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.sinh(this.get(m,x)));return this},Q.sinh=function(m){var x=new X(m);return x.sinh()},Q.prototype.sqrt=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.sqrt(this.get(m,x)));return this},Q.sqrt=function(m){var x=new X(m);return x.sqrt()},Q.prototype.tan=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.tan(this.get(m,x)));return this},Q.tan=function(m){var x=new X(m);return x.tan()},Q.prototype.tanh=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.tanh(this.get(m,x)));return this},Q.tanh=function(m){var x=new X(m);return x.tanh()},Q.prototype.trunc=function(){for(var m=0;m<this.rows;m++)for(var x=0;x<this.columns;x++)this.set(m,x,Math.trunc(this.get(m,x)));return this},Q.trunc=function(m){var x=new X(m);return x.trunc()},Q.pow=function(m,x){var S=new X(m);return S.pow(x)},Q.prototype.pow=function(m){return typeof m=="number"?this.powS(m):this.powM(m)},Q.prototype.powS=function(m){for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,Math.pow(this.get(x,S),m));return this},Q.prototype.powM=function(m){if(m=X.checkMatrix(m),this.rows!==m.rows||this.columns!==m.columns)throw new RangeError("Matrices dimensions must be equal");for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,Math.pow(this.get(x,S),m.get(x,S)));return this}}function de(Q,X,$){var m=$?Q.rows:Q.rows-1;if(X<0||X>m)throw new RangeError("Row index out of range")}function Ie(Q,X,$){var m=$?Q.columns:Q.columns-1;if(X<0||X>m)throw new RangeError("Column index out of range")}function Oe(Q,X){if(X.to1DArray&&(X=X.to1DArray()),X.length!==Q.columns)throw new RangeError("vector size must be the same as the number of columns");return X}function Qt(Q,X){if(X.to1DArray&&(X=X.to1DArray()),X.length!==Q.rows)throw new RangeError("vector size must be the same as the number of rows");return X}function $e(Q,X){if(!wt.isAnyArray(X))throw new TypeError("row indices must be an array");for(var $=0;$<X.length;$++)if(X[$]<0||X[$]>=Q.rows)throw new RangeError("row indices are out of range")}function rn(Q,X){if(!wt.isAnyArray(X))throw new TypeError("column indices must be an array");for(var $=0;$<X.length;$++)if(X[$]<0||X[$]>=Q.columns)throw new RangeError("column indices are out of range")}function ln(Q,X,$,m,x){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Pe("startRow",X),Pe("endRow",$),Pe("startColumn",m),Pe("endColumn",x),X>$||m>x||X<0||X>=Q.rows||$<0||$>=Q.rows||m<0||m>=Q.columns||x<0||x>=Q.columns)throw new RangeError("Submatrix indices are out of range")}function fn(Q){for(var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=[],m=0;m<Q;m++)$.push(X);return $}function Pe(Q,X){if(typeof X!="number")throw new TypeError("".concat(Q," must be a number"))}function un(Q){if(Q.isEmpty())throw new Error("Empty matrix has no elements to index")}function cn(Q){for(var X=fn(Q.rows),$=0;$<Q.rows;++$)for(var m=0;m<Q.columns;++m)X[$]+=Q.get($,m);return X}function sn(Q){for(var X=fn(Q.columns),$=0;$<Q.rows;++$)for(var m=0;m<Q.columns;++m)X[m]+=Q.get($,m);return X}function hn(Q){for(var X=0,$=0;$<Q.rows;$++)for(var m=0;m<Q.columns;m++)X+=Q.get($,m);return X}function Vn(Q){for(var X=fn(Q.rows,1),$=0;$<Q.rows;++$)for(var m=0;m<Q.columns;++m)X[$]*=Q.get($,m);return X}function Or(Q){for(var X=fn(Q.columns,1),$=0;$<Q.rows;++$)for(var m=0;m<Q.columns;++m)X[m]*=Q.get($,m);return X}function Hn(Q){for(var X=1,$=0;$<Q.rows;$++)for(var m=0;m<Q.columns;m++)X*=Q.get($,m);return X}function pe(Q,X,$){for(var m=Q.rows,x=Q.columns,S=[],it=0;it<m;it++){for(var at=0,ht=0,ut=0,Nt=0;Nt<x;Nt++)ut=Q.get(it,Nt)-$[it],at+=ut,ht+=ut*ut;X?S.push((ht-at*at/x)/(x-1)):S.push((ht-at*at/x)/x)}return S}function bt(Q,X,$){for(var m=Q.rows,x=Q.columns,S=[],it=0;it<x;it++){for(var at=0,ht=0,ut=0,Nt=0;Nt<m;Nt++)ut=Q.get(Nt,it)-$[it],at+=ut,ht+=ut*ut;X?S.push((ht-at*at/m)/(m-1)):S.push((ht-at*at/m)/m)}return S}function Ze(Q,X,$){for(var m=Q.rows,x=Q.columns,S=m*x,it=0,at=0,ht=0,ut=0;ut<m;ut++)for(var Nt=0;Nt<x;Nt++)ht=Q.get(ut,Nt)-$,it+=ht,at+=ht*ht;return X?(at-it*it/S)/(S-1):(at-it*it/S)/S}function hr(Q,X){for(var $=0;$<Q.rows;$++)for(var m=0;m<Q.columns;m++)Q.set($,m,Q.get($,m)-X[$])}function ge(Q,X){for(var $=0;$<Q.rows;$++)for(var m=0;m<Q.columns;m++)Q.set($,m,Q.get($,m)-X[m])}function Ne(Q,X){for(var $=0;$<Q.rows;$++)for(var m=0;m<Q.columns;m++)Q.set($,m,Q.get($,m)-X)}function Ut(Q){for(var X=[],$=0;$<Q.rows;$++){for(var m=0,x=0;x<Q.columns;x++)m+=Math.pow(Q.get($,x),2)/(Q.columns-1);X.push(Math.sqrt(m))}return X}function I(Q,X){for(var $=0;$<Q.rows;$++)for(var m=0;m<Q.columns;m++)Q.set($,m,Q.get($,m)/X[$])}function Et(Q){for(var X=[],$=0;$<Q.columns;$++){for(var m=0,x=0;x<Q.rows;x++)m+=Math.pow(Q.get(x,$),2)/(Q.rows-1);X.push(Math.sqrt(m))}return X}function ct(Q,X){for(var $=0;$<Q.rows;$++)for(var m=0;m<Q.columns;m++)Q.set($,m,Q.get($,m)/X[m])}function St(Q){for(var X=Q.size-1,$=0,m=0;m<Q.columns;m++)for(var x=0;x<Q.rows;x++)$+=Math.pow(Q.get(x,m),2)/X;return Math.sqrt($)}function xt(Q,X){for(var $=0;$<Q.rows;$++)for(var m=0;m<Q.columns;m++)Q.set($,m,Q.get($,m)/X)}var Ot=function(Q){function X(){nt(this,X)}return q(X,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(m){if(typeof m!="function")throw new TypeError("callback must be a function");for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)m.call(this,x,S);return this}},{key:"to1DArray",value:function(){for(var m=[],x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)m.push(this.get(x,S));return m}},{key:"to2DArray",value:function(){for(var m=[],x=0;x<this.rows;x++){m.push([]);for(var S=0;S<this.columns;S++)m[x].push(this.get(x,S))}return m}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var m=0;m<this.rows;m++)for(var x=0;x<=m;x++)if(this.get(m,x)!==this.get(x,m))return!1;return!0}return!1}},{key:"isDistance",value:function(){if(!this.isSymmetric())return!1;for(var m=0;m<this.rows;m++)if(this.get(m,m)!==0)return!1;return!0}},{key:"isEchelonForm",value:function(){for(var m=0,x=0,S=-1,it=!0,at=!1;m<this.rows&&it;){for(x=0,at=!1;x<this.columns&&at===!1;)this.get(m,x)===0?x++:this.get(m,x)===1&&x>S?(at=!0,S=x):(it=!1,at=!0);m++}return it}},{key:"isReducedEchelonForm",value:function(){for(var m=0,x=0,S=-1,it=!0,at=!1;m<this.rows&&it;){for(x=0,at=!1;x<this.columns&&at===!1;)this.get(m,x)===0?x++:this.get(m,x)===1&&x>S?(at=!0,S=x):(it=!1,at=!0);for(var ht=x+1;ht<this.rows;ht++)this.get(m,ht)!==0&&(it=!1);m++}return it}},{key:"echelonForm",value:function(){for(var m=this.clone(),x=0,S=0;x<m.rows&&S<m.columns;){for(var it=x,at=x;at<m.rows;at++)m.get(at,S)>m.get(it,S)&&(it=at);if(m.get(it,S)===0)S++;else{m.swapRows(x,it);for(var ht=m.get(x,S),ut=S;ut<m.columns;ut++)m.set(x,ut,m.get(x,ut)/ht);for(var Nt=x+1;Nt<m.rows;Nt++){var Rt=m.get(Nt,S)/m.get(x,S);m.set(Nt,S,0);for(var Zt=S+1;Zt<m.columns;Zt++)m.set(Nt,Zt,m.get(Nt,Zt)-m.get(x,Zt)*Rt)}x++,S++}}return m}},{key:"reducedEchelonForm",value:function(){for(var m=this.echelonForm(),x=m.columns,S=m.rows,it=S-1;it>=0;)if(m.maxRow(it)===0)it--;else{for(var at=0,ht=!1;at<S&&ht===!1;)m.get(it,at)===1?ht=!0:at++;for(var ut=0;ut<it;ut++)for(var Nt=m.get(ut,at),Rt=at;Rt<x;Rt++){var Zt=m.get(ut,Rt)-Nt*m.get(it,Rt);m.set(ut,Rt,Zt)}it--}return m}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(G(m)!=="object")throw new TypeError("options must be an object");var x=m.rows,S=x===void 0?1:x,it=m.columns,at=it===void 0?1:it;if(!Number.isInteger(S)||S<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(at)||at<=0)throw new TypeError("columns must be a positive integer");for(var ht=new Gt(this.rows*S,this.columns*at),ut=0;ut<S;ut++)for(var Nt=0;Nt<at;Nt++)ht.setSubMatrix(this,this.rows*ut,this.columns*Nt);return ht}},{key:"fill",value:function(m){for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,m);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(m){de(this,m);for(var x=[],S=0;S<this.columns;S++)x.push(this.get(m,S));return x}},{key:"getRowVector",value:function(m){return Gt.rowVector(this.getRow(m))}},{key:"setRow",value:function(m,x){de(this,m),x=Oe(this,x);for(var S=0;S<this.columns;S++)this.set(m,S,x[S]);return this}},{key:"swapRows",value:function(m,x){de(this,m),de(this,x);for(var S=0;S<this.columns;S++){var it=this.get(m,S);this.set(m,S,this.get(x,S)),this.set(x,S,it)}return this}},{key:"getColumn",value:function(m){Ie(this,m);for(var x=[],S=0;S<this.rows;S++)x.push(this.get(S,m));return x}},{key:"getColumnVector",value:function(m){return Gt.columnVector(this.getColumn(m))}},{key:"setColumn",value:function(m,x){Ie(this,m),x=Qt(this,x);for(var S=0;S<this.rows;S++)this.set(S,m,x[S]);return this}},{key:"swapColumns",value:function(m,x){Ie(this,m),Ie(this,x);for(var S=0;S<this.rows;S++){var it=this.get(S,m);this.set(S,m,this.get(S,x)),this.set(S,x,it)}return this}},{key:"addRowVector",value:function(m){m=Oe(this,m);for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)+m[S]);return this}},{key:"subRowVector",value:function(m){m=Oe(this,m);for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)-m[S]);return this}},{key:"mulRowVector",value:function(m){m=Oe(this,m);for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)*m[S]);return this}},{key:"divRowVector",value:function(m){m=Oe(this,m);for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)/m[S]);return this}},{key:"addColumnVector",value:function(m){m=Qt(this,m);for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)+m[x]);return this}},{key:"subColumnVector",value:function(m){m=Qt(this,m);for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)-m[x]);return this}},{key:"mulColumnVector",value:function(m){m=Qt(this,m);for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)*m[x]);return this}},{key:"divColumnVector",value:function(m){m=Qt(this,m);for(var x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)this.set(x,S,this.get(x,S)/m[x]);return this}},{key:"mulRow",value:function(m,x){de(this,m);for(var S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)*x);return this}},{key:"mulColumn",value:function(m,x){Ie(this,m);for(var S=0;S<this.rows;S++)this.set(S,m,this.get(S,m)*x);return this}},{key:"max",value:function(m){if(this.isEmpty())return NaN;switch(m){case"row":{for(var x=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),S=0;S<this.rows;S++)for(var it=0;it<this.columns;it++)this.get(S,it)>x[S]&&(x[S]=this.get(S,it));return x}case"column":{for(var at=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),ht=0;ht<this.rows;ht++)for(var ut=0;ut<this.columns;ut++)this.get(ht,ut)>at[ut]&&(at[ut]=this.get(ht,ut));return at}case void 0:{for(var Nt=this.get(0,0),Rt=0;Rt<this.rows;Rt++)for(var Zt=0;Zt<this.columns;Zt++)this.get(Rt,Zt)>Nt&&(Nt=this.get(Rt,Zt));return Nt}default:throw new Error("invalid option: ".concat(m))}}},{key:"maxIndex",value:function(){un(this);for(var m=this.get(0,0),x=[0,0],S=0;S<this.rows;S++)for(var it=0;it<this.columns;it++)this.get(S,it)>m&&(m=this.get(S,it),x[0]=S,x[1]=it);return x}},{key:"min",value:function(m){if(this.isEmpty())return NaN;switch(m){case"row":{for(var x=new Array(this.rows).fill(Number.POSITIVE_INFINITY),S=0;S<this.rows;S++)for(var it=0;it<this.columns;it++)this.get(S,it)<x[S]&&(x[S]=this.get(S,it));return x}case"column":{for(var at=new Array(this.columns).fill(Number.POSITIVE_INFINITY),ht=0;ht<this.rows;ht++)for(var ut=0;ut<this.columns;ut++)this.get(ht,ut)<at[ut]&&(at[ut]=this.get(ht,ut));return at}case void 0:{for(var Nt=this.get(0,0),Rt=0;Rt<this.rows;Rt++)for(var Zt=0;Zt<this.columns;Zt++)this.get(Rt,Zt)<Nt&&(Nt=this.get(Rt,Zt));return Nt}default:throw new Error("invalid option: ".concat(m))}}},{key:"minIndex",value:function(){un(this);for(var m=this.get(0,0),x=[0,0],S=0;S<this.rows;S++)for(var it=0;it<this.columns;it++)this.get(S,it)<m&&(m=this.get(S,it),x[0]=S,x[1]=it);return x}},{key:"maxRow",value:function(m){if(de(this,m),this.isEmpty())return NaN;for(var x=this.get(m,0),S=1;S<this.columns;S++)this.get(m,S)>x&&(x=this.get(m,S));return x}},{key:"maxRowIndex",value:function(m){de(this,m),un(this);for(var x=this.get(m,0),S=[m,0],it=1;it<this.columns;it++)this.get(m,it)>x&&(x=this.get(m,it),S[1]=it);return S}},{key:"minRow",value:function(m){if(de(this,m),this.isEmpty())return NaN;for(var x=this.get(m,0),S=1;S<this.columns;S++)this.get(m,S)<x&&(x=this.get(m,S));return x}},{key:"minRowIndex",value:function(m){de(this,m),un(this);for(var x=this.get(m,0),S=[m,0],it=1;it<this.columns;it++)this.get(m,it)<x&&(x=this.get(m,it),S[1]=it);return S}},{key:"maxColumn",value:function(m){if(Ie(this,m),this.isEmpty())return NaN;for(var x=this.get(0,m),S=1;S<this.rows;S++)this.get(S,m)>x&&(x=this.get(S,m));return x}},{key:"maxColumnIndex",value:function(m){Ie(this,m),un(this);for(var x=this.get(0,m),S=[0,m],it=1;it<this.rows;it++)this.get(it,m)>x&&(x=this.get(it,m),S[0]=it);return S}},{key:"minColumn",value:function(m){if(Ie(this,m),this.isEmpty())return NaN;for(var x=this.get(0,m),S=1;S<this.rows;S++)this.get(S,m)<x&&(x=this.get(S,m));return x}},{key:"minColumnIndex",value:function(m){Ie(this,m),un(this);for(var x=this.get(0,m),S=[0,m],it=1;it<this.rows;it++)this.get(it,m)<x&&(x=this.get(it,m),S[0]=it);return S}},{key:"diag",value:function(){for(var m=Math.min(this.rows,this.columns),x=[],S=0;S<m;S++)x.push(this.get(S,S));return x}},{key:"norm",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius";switch(m){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError("unknown norm type: ".concat(m))}}},{key:"cumulativeSum",value:function(){for(var m=0,x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)m+=this.get(x,S),this.set(x,S,m);return this}},{key:"dot",value:function(m){X.isMatrix(m)&&(m=m.to1DArray());var x=this.to1DArray();if(x.length!==m.length)throw new RangeError("vectors do not have the same size");for(var S=0,it=0;it<x.length;it++)S+=x[it]*m[it];return S}},{key:"mmul",value:function(m){m=Gt.checkMatrix(m);for(var x=this.rows,S=this.columns,it=m.columns,at=new Gt(x,it),ht=new Float64Array(S),ut=0;ut<it;ut++){for(var Nt=0;Nt<S;Nt++)ht[Nt]=m.get(Nt,ut);for(var Rt=0;Rt<x;Rt++){for(var Zt=0,we=0;we<S;we++)Zt+=this.get(Rt,we)*ht[we];at.set(Rt,ut,Zt)}}return at}},{key:"strassen2x2",value:function(m){m=Gt.checkMatrix(m);var x=new Gt(2,2),S=this.get(0,0),it=m.get(0,0),at=this.get(0,1),ht=m.get(0,1),ut=this.get(1,0),Nt=m.get(1,0),Rt=this.get(1,1),Zt=m.get(1,1),we=(S+Rt)*(it+Zt),le=(ut+Rt)*it,We=S*(ht-Zt),Je=Rt*(Nt-it),Xt=(S+at)*Zt,ne=(ut-S)*(it+ht),ye=(at-Rt)*(Nt+Zt),Xe=we+Je-Xt+ye,Le=We+Xt,zn=le+Je,Wn=we-le+We+ne;return x.set(0,0,Xe),x.set(0,1,Le),x.set(1,0,zn),x.set(1,1,Wn),x}},{key:"strassen3x3",value:function(m){m=Gt.checkMatrix(m);var x=new Gt(3,3),S=this.get(0,0),it=this.get(0,1),at=this.get(0,2),ht=this.get(1,0),ut=this.get(1,1),Nt=this.get(1,2),Rt=this.get(2,0),Zt=this.get(2,1),we=this.get(2,2),le=m.get(0,0),We=m.get(0,1),Je=m.get(0,2),Xt=m.get(1,0),ne=m.get(1,1),ye=m.get(1,2),Xe=m.get(2,0),Le=m.get(2,1),zn=m.get(2,2),Wn=(S+it+at-ht-ut-Zt-we)*ne,yn=(S-ht)*(-We+ne),Pn=ut*(-le+We+Xt-ne-ye-Xe+zn),V=(-S+ht+ut)*(le-We+ne),rt=(ht+ut)*(-le+We),lt=S*le,kt=(-S+Rt+Zt)*(le-Je+ye),Jt=(-S+Rt)*(Je-ye),ie=(Rt+Zt)*(-le+Je),ue=(S+it+at-ut-Nt-Rt-Zt)*ye,qt=Zt*(-le+Je+Xt-ne-ye-Xe+Le),ae=(-at+Zt+we)*(ne+Xe-Le),_e=(at-we)*(ne-Le),Re=at*Xe,Ve=(Zt+we)*(-Xe+Le),Qe=(-at+ut+Nt)*(ye+Xe-zn),_n=(at-Nt)*(ye-zn),xn=(ut+Nt)*(-Xe+zn),pn=it*Xt,gn=Nt*Le,sr=ht*Je,Wr=Rt*We,$n=we*zn,Yr=lt+Re+pn,Ii=Wn+V+rt+lt+ae+Re+Ve,dr=lt+kt+ie+ue+Re+Qe+xn,ci=yn+Pn+V+lt+Re+Qe+_n,Si=yn+V+rt+lt+gn,wr=Re+Qe+_n+xn+sr,Br=lt+kt+Jt+qt+ae+_e+Re,Qr=ae+_e+Re+Ve+Wr,ti=lt+kt+Jt+ie+$n;return x.set(0,0,Yr),x.set(0,1,Ii),x.set(0,2,dr),x.set(1,0,ci),x.set(1,1,Si),x.set(1,2,wr),x.set(2,0,Br),x.set(2,1,Qr),x.set(2,2,ti),x}},{key:"mmulStrassen",value:function(m){m=Gt.checkMatrix(m);var x=this.clone(),S=x.rows,it=x.columns,at=m.rows,ht=m.columns;it!==at&&console.warn("Multiplying ".concat(S," x ").concat(it," and ").concat(at," x ").concat(ht," matrix: dimensions do not match."));function ut(we,le,We){var Je=we.rows,Xt=we.columns;if(Je===le&&Xt===We)return we;var ne=X.zeros(le,We);return ne=ne.setSubMatrix(we,0,0),ne}var Nt=Math.max(S,at),Rt=Math.max(it,ht);x=ut(x,Nt,Rt),m=ut(m,Nt,Rt);function Zt(we,le,We,Je){if(We<=512||Je<=512)return we.mmul(le);We%2===1&&Je%2===1?(we=ut(we,We+1,Je+1),le=ut(le,We+1,Je+1)):We%2===1?(we=ut(we,We+1,Je),le=ut(le,We+1,Je)):Je%2===1&&(we=ut(we,We,Je+1),le=ut(le,We,Je+1));var Xt=parseInt(we.rows/2,10),ne=parseInt(we.columns/2,10),ye=we.subMatrix(0,Xt-1,0,ne-1),Xe=le.subMatrix(0,Xt-1,0,ne-1),Le=we.subMatrix(0,Xt-1,ne,we.columns-1),zn=le.subMatrix(0,Xt-1,ne,le.columns-1),Wn=we.subMatrix(Xt,we.rows-1,0,ne-1),yn=le.subMatrix(Xt,le.rows-1,0,ne-1),Pn=we.subMatrix(Xt,we.rows-1,ne,we.columns-1),V=le.subMatrix(Xt,le.rows-1,ne,le.columns-1),rt=Zt(X.add(ye,Pn),X.add(Xe,V),Xt,ne),lt=Zt(X.add(Wn,Pn),Xe,Xt,ne),kt=Zt(ye,X.sub(zn,V),Xt,ne),Jt=Zt(Pn,X.sub(yn,Xe),Xt,ne),ie=Zt(X.add(ye,Le),V,Xt,ne),ue=Zt(X.sub(Wn,ye),X.add(Xe,zn),Xt,ne),qt=Zt(X.sub(Le,Pn),X.add(yn,V),Xt,ne),ae=X.add(rt,Jt);ae.sub(ie),ae.add(qt);var _e=X.add(kt,ie),Re=X.add(lt,Jt),Ve=X.sub(rt,lt);Ve.add(kt),Ve.add(ue);var Qe=X.zeros(2*ae.rows,2*ae.columns);return Qe=Qe.setSubMatrix(ae,0,0),Qe=Qe.setSubMatrix(_e,ae.rows,0),Qe=Qe.setSubMatrix(Re,0,ae.columns),Qe=Qe.setSubMatrix(Ve,ae.rows,ae.columns),Qe.subMatrix(0,We-1,0,Je-1)}return Zt(x,m,Nt,Rt)}},{key:"scaleRows",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(G(m)!=="object")throw new TypeError("options must be an object");var x=m.min,S=x===void 0?0:x,it=m.max,at=it===void 0?1:it;if(!Number.isFinite(S))throw new TypeError("min must be a number");if(!Number.isFinite(at))throw new TypeError("max must be a number");if(S>=at)throw new RangeError("min must be smaller than max");for(var ht=new Gt(this.rows,this.columns),ut=0;ut<this.rows;ut++){var Nt=this.getRow(ut);Nt.length>0&&At(Nt,{min:S,max:at,output:Nt}),ht.setRow(ut,Nt)}return ht}},{key:"scaleColumns",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(G(m)!=="object")throw new TypeError("options must be an object");var x=m.min,S=x===void 0?0:x,it=m.max,at=it===void 0?1:it;if(!Number.isFinite(S))throw new TypeError("min must be a number");if(!Number.isFinite(at))throw new TypeError("max must be a number");if(S>=at)throw new RangeError("min must be smaller than max");for(var ht=new Gt(this.rows,this.columns),ut=0;ut<this.columns;ut++){var Nt=this.getColumn(ut);Nt.length&&At(Nt,{min:S,max:at,output:Nt}),ht.setColumn(ut,Nt)}return ht}},{key:"flipRows",value:function(){for(var m=Math.ceil(this.columns/2),x=0;x<this.rows;x++)for(var S=0;S<m;S++){var it=this.get(x,S),at=this.get(x,this.columns-1-S);this.set(x,S,at),this.set(x,this.columns-1-S,it)}return this}},{key:"flipColumns",value:function(){for(var m=Math.ceil(this.rows/2),x=0;x<this.columns;x++)for(var S=0;S<m;S++){var it=this.get(S,x),at=this.get(this.rows-1-S,x);this.set(S,x,at),this.set(this.rows-1-S,x,it)}return this}},{key:"kroneckerProduct",value:function(m){m=Gt.checkMatrix(m);for(var x=this.rows,S=this.columns,it=m.rows,at=m.columns,ht=new Gt(x*it,S*at),ut=0;ut<x;ut++)for(var Nt=0;Nt<S;Nt++)for(var Rt=0;Rt<it;Rt++)for(var Zt=0;Zt<at;Zt++)ht.set(it*ut+Rt,at*Nt+Zt,this.get(ut,Nt)*m.get(Rt,Zt));return ht}},{key:"kroneckerSum",value:function(m){if(m=Gt.checkMatrix(m),!this.isSquare()||!m.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var x=this.rows,S=m.rows,it=this.kroneckerProduct(Gt.eye(S,S)),at=Gt.eye(x,x).kroneckerProduct(m);return it.add(at)}},{key:"transpose",value:function(){for(var m=new Gt(this.columns,this.rows),x=0;x<this.rows;x++)for(var S=0;S<this.columns;S++)m.set(S,x,this.get(x,S));return m}},{key:"sortRows",value:function(){for(var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_t,x=0;x<this.rows;x++)this.setRow(x,this.getRow(x).sort(m));return this}},{key:"sortColumns",value:function(){for(var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_t,x=0;x<this.columns;x++)this.setColumn(x,this.getColumn(x).sort(m));return this}},{key:"subMatrix",value:function(m,x,S,it){ln(this,m,x,S,it);for(var at=new Gt(x-m+1,it-S+1),ht=m;ht<=x;ht++)for(var ut=S;ut<=it;ut++)at.set(ht-m,ut-S,this.get(ht,ut));return at}},{key:"subMatrixRow",value:function(m,x,S){if(x===void 0&&(x=0),S===void 0&&(S=this.columns-1),x>S||x<0||x>=this.columns||S<0||S>=this.columns)throw new RangeError("Argument out of range");for(var it=new Gt(m.length,S-x+1),at=0;at<m.length;at++)for(var ht=x;ht<=S;ht++){if(m[at]<0||m[at]>=this.rows)throw new RangeError("Row index out of range: ".concat(m[at]));it.set(at,ht-x,this.get(m[at],ht))}return it}},{key:"subMatrixColumn",value:function(m,x,S){if(x===void 0&&(x=0),S===void 0&&(S=this.rows-1),x>S||x<0||x>=this.rows||S<0||S>=this.rows)throw new RangeError("Argument out of range");for(var it=new Gt(S-x+1,m.length),at=0;at<m.length;at++)for(var ht=x;ht<=S;ht++){if(m[at]<0||m[at]>=this.columns)throw new RangeError("Column index out of range: ".concat(m[at]));it.set(ht-x,at,this.get(ht,m[at]))}return it}},{key:"setSubMatrix",value:function(m,x,S){if(m=Gt.checkMatrix(m),m.isEmpty())return this;var it=x+m.rows-1,at=S+m.columns-1;ln(this,x,it,S,at);for(var ht=0;ht<m.rows;ht++)for(var ut=0;ut<m.columns;ut++)this.set(x+ht,S+ut,m.get(ht,ut));return this}},{key:"selection",value:function(m,x){$e(this,m),rn(this,x);for(var S=new Gt(m.length,x.length),it=0;it<m.length;it++)for(var at=m[it],ht=0;ht<x.length;ht++){var ut=x[ht];S.set(it,ht,this.get(at,ut))}return S}},{key:"trace",value:function(){for(var m=Math.min(this.rows,this.columns),x=0,S=0;S<m;S++)x+=this.get(S,S);return x}},{key:"clone",value:function(){return this.constructor.copy(this,new Gt(this.rows,this.columns))}},{key:"sum",value:function(m){switch(m){case"row":return cn(this);case"column":return sn(this);case void 0:return hn(this);default:throw new Error("invalid option: ".concat(m))}}},{key:"product",value:function(m){switch(m){case"row":return Vn(this);case"column":return Or(this);case void 0:return Hn(this);default:throw new Error("invalid option: ".concat(m))}}},{key:"mean",value:function(m){var x=this.sum(m);switch(m){case"row":{for(var S=0;S<this.rows;S++)x[S]/=this.columns;return x}case"column":{for(var it=0;it<this.columns;it++)x[it]/=this.rows;return x}case void 0:return x/this.size;default:throw new Error("invalid option: ".concat(m))}}},{key:"variance",value:function(m){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(G(m)==="object"&&(x=m,m=void 0),G(x)!=="object")throw new TypeError("options must be an object");var S=x,it=S.unbiased,at=it===void 0?!0:it,ht=S.mean,ut=ht===void 0?this.mean(m):ht;if(typeof at!="boolean")throw new TypeError("unbiased must be a boolean");switch(m){case"row":{if(!wt.isAnyArray(ut))throw new TypeError("mean must be an array");return pe(this,at,ut)}case"column":{if(!wt.isAnyArray(ut))throw new TypeError("mean must be an array");return bt(this,at,ut)}case void 0:{if(typeof ut!="number")throw new TypeError("mean must be a number");return Ze(this,at,ut)}default:throw new Error("invalid option: ".concat(m))}}},{key:"standardDeviation",value:function(m,x){G(m)==="object"&&(x=m,m=void 0);var S=this.variance(m,x);if(m===void 0)return Math.sqrt(S);for(var it=0;it<S.length;it++)S[it]=Math.sqrt(S[it]);return S}},{key:"center",value:function(m){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(G(m)==="object"&&(x=m,m=void 0),G(x)!=="object")throw new TypeError("options must be an object");var S=x,it=S.center,at=it===void 0?this.mean(m):it;switch(m){case"row":{if(!wt.isAnyArray(at))throw new TypeError("center must be an array");return hr(this,at),this}case"column":{if(!wt.isAnyArray(at))throw new TypeError("center must be an array");return ge(this,at),this}case void 0:{if(typeof at!="number")throw new TypeError("center must be a number");return Ne(this,at),this}default:throw new Error("invalid option: ".concat(m))}}},{key:"scale",value:function(m){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(G(m)==="object"&&(x=m,m=void 0),G(x)!=="object")throw new TypeError("options must be an object");var S=x.scale;switch(m){case"row":{if(S===void 0)S=Ut(this);else if(!wt.isAnyArray(S))throw new TypeError("scale must be an array");return I(this,S),this}case"column":{if(S===void 0)S=Et(this);else if(!wt.isAnyArray(S))throw new TypeError("scale must be an array");return ct(this,S),this}case void 0:{if(S===void 0)S=St(this);else if(typeof S!="number")throw new TypeError("scale must be a number");return xt(this,S),this}default:throw new Error("invalid option: ".concat(m))}}},{key:"toString",value:function(m){return zt(this,m)}},{key:Q,value:function(){return this.entries()}},{key:"entries",value:z().mark(function $(){var m,x;return z().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:m=0;case 1:if(!(m<this.rows)){it.next=12;break}x=0;case 3:if(!(x<this.columns)){it.next=9;break}return it.next=6,[m,x,this.get(m,x)];case 6:x++,it.next=3;break;case 9:m++,it.next=1;break;case 12:case"end":return it.stop()}},$,this)})},{key:"values",value:z().mark(function $(){var m,x;return z().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:m=0;case 1:if(!(m<this.rows)){it.next=12;break}x=0;case 3:if(!(x<this.columns)){it.next=9;break}return it.next=6,this.get(m,x);case 6:x++,it.next=3;break;case 9:m++,it.next=1;break;case 12:case"end":return it.stop()}},$,this)})}],[{key:"from1DArray",value:function(m,x,S){var it=m*x;if(it!==S.length)throw new RangeError("data length does not match given dimensions");for(var at=new Gt(m,x),ht=0;ht<m;ht++)for(var ut=0;ut<x;ut++)at.set(ht,ut,S[ht*x+ut]);return at}},{key:"rowVector",value:function(m){for(var x=new Gt(1,m.length),S=0;S<m.length;S++)x.set(0,S,m[S]);return x}},{key:"columnVector",value:function(m){for(var x=new Gt(m.length,1),S=0;S<m.length;S++)x.set(S,0,m[S]);return x}},{key:"zeros",value:function(m,x){return new Gt(m,x)}},{key:"ones",value:function(m,x){return new Gt(m,x).fill(1)}},{key:"rand",value:function(m,x){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(G(S)!=="object")throw new TypeError("options must be an object");for(var it=S.random,at=it===void 0?Math.random:it,ht=new Gt(m,x),ut=0;ut<m;ut++)for(var Nt=0;Nt<x;Nt++)ht.set(ut,Nt,at());return ht}},{key:"randInt",value:function(m,x){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(G(S)!=="object")throw new TypeError("options must be an object");var it=S.min,at=it===void 0?0:it,ht=S.max,ut=ht===void 0?1e3:ht,Nt=S.random,Rt=Nt===void 0?Math.random:Nt;if(!Number.isInteger(at))throw new TypeError("min must be an integer");if(!Number.isInteger(ut))throw new TypeError("max must be an integer");if(at>=ut)throw new RangeError("min must be smaller than max");for(var Zt=ut-at,we=new Gt(m,x),le=0;le<m;le++)for(var We=0;We<x;We++){var Je=at+Math.round(Rt()*Zt);we.set(le,We,Je)}return we}},{key:"eye",value:function(m,x,S){x===void 0&&(x=m),S===void 0&&(S=1);for(var it=Math.min(m,x),at=this.zeros(m,x),ht=0;ht<it;ht++)at.set(ht,ht,S);return at}},{key:"diag",value:function(m,x,S){var it=m.length;x===void 0&&(x=it),S===void 0&&(S=x);for(var at=Math.min(it,x,S),ht=this.zeros(x,S),ut=0;ut<at;ut++)ht.set(ut,ut,m[ut]);return ht}},{key:"min",value:function(m,x){m=this.checkMatrix(m),x=this.checkMatrix(x);for(var S=m.rows,it=m.columns,at=new Gt(S,it),ht=0;ht<S;ht++)for(var ut=0;ut<it;ut++)at.set(ht,ut,Math.min(m.get(ht,ut),x.get(ht,ut)));return at}},{key:"max",value:function(m,x){m=this.checkMatrix(m),x=this.checkMatrix(x);for(var S=m.rows,it=m.columns,at=new this(S,it),ht=0;ht<S;ht++)for(var ut=0;ut<it;ut++)at.set(ht,ut,Math.max(m.get(ht,ut),x.get(ht,ut)));return at}},{key:"checkMatrix",value:function(m){return X.isMatrix(m)?m:new Gt(m)}},{key:"isMatrix",value:function(m){return m!=null&&m.klass==="Matrix"}},{key:"copy",value:function(m,x){var S=g(m.entries()),it;try{for(S.s();!(it=S.n()).done;){var at=et(it.value,3),ht=at[0],ut=at[1],Nt=at[2];x.set(ht,ut,Nt)}}catch(Rt){S.e(Rt)}finally{S.f()}return x}}]),X}(Symbol.iterator);Ot.prototype.klass="Matrix",typeof Symbol<"u"&&(Ot.prototype[Symbol.for("nodejs.util.inspect.custom")]=me);function _t(Q,X){return Q-X}function Bt(Q){return Q.every(function(X){return typeof X=="number"})}Ot.random=Ot.rand,Ot.randomInt=Ot.randInt,Ot.diagonal=Ot.diag,Ot.prototype.diagonal=Ot.prototype.diag,Ot.identity=Ot.eye,Ot.prototype.negate=Ot.prototype.neg,Ot.prototype.tensorProduct=Ot.prototype.kroneckerProduct;var re=new WeakSet,Gt=function(Q){B(X,Q);function X($,m){var x;if(nt(this,X),x=y(this,X),N(D(x),re),k(D(x),"data",void 0),X.isMatrix($))tt(D(x),re,De).call(D(x),$.rows,$.columns),X.copy($,D(x));else if(Number.isInteger($)&&$>=0)tt(D(x),re,De).call(D(x),$,m);else if(wt.isAnyArray($)){var S=$;if($=S.length,m=$?S[0].length:0,typeof m!="number")throw new TypeError("Data must be a 2D array with at least one element");x.data=[];for(var it=0;it<$;it++){if(S[it].length!==m)throw new RangeError("Inconsistent array dimensions");if(!Bt(S[it]))throw new TypeError("Input data contains non-numeric values");x.data.push(Float64Array.from(S[it]))}x.rows=$,x.columns=m}else throw new TypeError("First argument must be a positive number or an array");return x}return q(X,[{key:"set",value:function(m,x,S){return this.data[m][x]=S,this}},{key:"get",value:function(m,x){return this.data[m][x]}},{key:"removeRow",value:function(m){return de(this,m),this.data.splice(m,1),this.rows-=1,this}},{key:"addRow",value:function(m,x){return x===void 0&&(x=m,m=this.rows),de(this,m,!0),x=Float64Array.from(Oe(this,x)),this.data.splice(m,0,x),this.rows+=1,this}},{key:"removeColumn",value:function(m){Ie(this,m);for(var x=0;x<this.rows;x++){for(var S=new Float64Array(this.columns-1),it=0;it<m;it++)S[it]=this.data[x][it];for(var at=m+1;at<this.columns;at++)S[at-1]=this.data[x][at];this.data[x]=S}return this.columns-=1,this}},{key:"addColumn",value:function(m,x){typeof x>"u"&&(x=m,m=this.columns),Ie(this,m,!0),x=Qt(this,x);for(var S=0;S<this.rows;S++){for(var it=new Float64Array(this.columns+1),at=0;at<m;at++)it[at]=this.data[S][at];for(it[at++]=x[S];at<this.columns+1;at++)it[at]=this.data[S][at-1];this.data[S]=it}return this.columns+=1,this}}]),X}(Ot);function De(Q,X){if(this.data=[],Number.isInteger(X)&&X>=0)for(var $=0;$<Q;$++)this.data.push(new Float64Array(X));else throw new TypeError("nColumns must be a positive integer");this.rows=Q,this.columns=X}se(Ot,Gt);var te=new WeakMap,he=function(Q){B(X,Q);function X($){var m;if(nt(this,X),m=y(this,X),f(D(m),te,{writable:!0,value:void 0}),Gt.isMatrix($)){if(!$.isSymmetric())throw new TypeError("not symmetric data");s(D(m),te,Gt.copy($,new Gt($.rows,$.rows)))}else if(Number.isInteger($)&&$>=0)s(D(m),te,new Gt($,$));else if(s(D(m),te,new Gt($)),!m.isSymmetric())throw new TypeError("not symmetric data");return m}return q(X,[{key:"size",get:function(){return u(this,te).size}},{key:"rows",get:function(){return u(this,te).rows}},{key:"columns",get:function(){return u(this,te).columns}},{key:"diagonalSize",get:function(){return this.rows}},{key:"clone",value:function(){var m=new X(this.diagonalSize),x=g(this.upperRightEntries()),S;try{for(x.s();!(S=x.n()).done;){var it=et(S.value,3),at=it[0],ht=it[1],ut=it[2];m.set(at,ht,ut)}}catch(Nt){x.e(Nt)}finally{x.f()}return m}},{key:"toMatrix",value:function(){return new Gt(this)}},{key:"get",value:function(m,x){return u(this,te).get(m,x)}},{key:"set",value:function(m,x,S){return u(this,te).set(m,x,S),u(this,te).set(x,m,S),this}},{key:"removeCross",value:function(m){return u(this,te).removeRow(m),u(this,te).removeColumn(m),this}},{key:"addCross",value:function(m,x){x===void 0&&(x=m,m=this.diagonalSize);var S=x.slice();return S.splice(m,1),u(this,te).addRow(m,S),u(this,te).addColumn(m,x),this}},{key:"applyMask",value:function(m){if(m.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");var x=[],S=g(m.entries()),it;try{for(S.s();!(it=S.n()).done;){var at=et(it.value,2),ht=at[0],ut=at[1];ut||x.push(ht)}}catch(we){S.e(we)}finally{S.f()}x.reverse();for(var Nt=0,Rt=x;Nt<Rt.length;Nt++){var Zt=Rt[Nt];this.removeCross(Zt)}return this}},{key:"toCompact",value:function(){for(var m=this.diagonalSize,x=new Array(m*(m+1)/2),S=0,it=0,at=0;at<x.length;at++)x[at]=this.get(it,S),++S>=m&&(S=++it);return x}},{key:"upperRightEntries",value:z().mark(function $(){var m,x,S;return z().wrap(function(at){for(;;)switch(at.prev=at.next){case 0:m=0,x=0;case 1:if(!(m<this.diagonalSize)){at.next=9;break}return S=this.get(m,x),at.next=5,[m,x,S];case 5:++x>=this.diagonalSize&&(x=++m);case 6:at.next=1;break;case 9:case"end":return at.stop()}},$,this)})},{key:"upperRightValues",value:z().mark(function $(){var m,x,S;return z().wrap(function(at){for(;;)switch(at.prev=at.next){case 0:m=0,x=0;case 1:if(!(m<this.diagonalSize)){at.next=9;break}return S=this.get(m,x),at.next=5,S;case 5:++x>=this.diagonalSize&&(x=++m);case 6:at.next=1;break;case 9:case"end":return at.stop()}},$,this)})}],[{key:"isSymmetricMatrix",value:function(m){return Gt.isMatrix(m)&&m.klassType==="SymmetricMatrix"}},{key:"zeros",value:function(m){return new this(m)}},{key:"ones",value:function(m){return new this(m).fill(1)}},{key:"fromCompact",value:function(m){var x=m.length,S=(Math.sqrt(8*x+1)-1)/2;if(!Number.isInteger(S))throw new TypeError("This array is not a compact representation of a Symmetric Matrix, ".concat(JSON.stringify(m)));for(var it=new X(S),at=0,ht=0,ut=0;ut<x;ut++)it.set(at,ht,m[ut]),++at>=S&&(at=++ht);return it}}]),X}(Ot);he.prototype.klassType="SymmetricMatrix";var He=function(Q){B(X,Q);function X($){var m;if(nt(this,X),m=y(this,X,[$]),!m.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix");return m}return q(X,[{key:"set",value:function(m,x,S){return m===x&&(S=0),n(M(X.prototype),"set",this).call(this,m,x,S)}},{key:"addCross",value:function(m,x){return x===void 0&&(x=m,m=this.diagonalSize),x=x.slice(),x[m]=0,n(M(X.prototype),"addCross",this).call(this,m,x)}},{key:"toSymmetricMatrix",value:function(){return new he(this)}},{key:"clone",value:function(){var m=new X(this.diagonalSize),x=g(this.upperRightEntries()),S;try{for(x.s();!(S=x.n()).done;){var it=et(S.value,3),at=it[0],ht=it[1],ut=it[2];at!==ht&&m.set(at,ht,ut)}}catch(Nt){x.e(Nt)}finally{x.f()}return m}},{key:"toCompact",value:function(){for(var m=this.diagonalSize,x=(m-1)*m/2,S=new Array(x),it=1,at=0,ht=0;ht<S.length;ht++)S[ht]=this.get(at,it),++it>=m&&(it=++at+1);return S}}],[{key:"isDistanceMatrix",value:function(m){return he.isSymmetricMatrix(m)&&m.klassSubType==="DistanceMatrix"}},{key:"fromCompact",value:function(m){var x=m.length,S=(Math.sqrt(8*x+1)+1)/2;if(!Number.isInteger(S))throw new TypeError("This array is not a compact representation of a DistanceMatrix, ".concat(JSON.stringify(m)));for(var it=new this(S),at=1,ht=0,ut=0;ut<x;ut++)it.set(at,ht,m[ut]),++at>=S&&(at=++ht+1);return it}}]),X}(he);He.prototype.klassSubType="DistanceMatrix";var en=function(Q){B(X,Q);function X($,m,x){var S;return nt(this,X),S=y(this,X),S.matrix=$,S.rows=m,S.columns=x,S}return q(X)}(Ot),qe=function(Q){B(X,Q);function X($,m){var x;return nt(this,X),Ie($,m),x=y(this,X,[$,$.rows,1]),x.column=m,x}return q(X,[{key:"set",value:function(m,x,S){return this.matrix.set(m,this.column,S),this}},{key:"get",value:function(m){return this.matrix.get(m,this.column)}}]),X}(en),ze=function(Q){B(X,Q);function X($,m){var x;return nt(this,X),rn($,m),x=y(this,X,[$,$.rows,m.length]),x.columnIndices=m,x}return q(X,[{key:"set",value:function(m,x,S){return this.matrix.set(m,this.columnIndices[x],S),this}},{key:"get",value:function(m,x){return this.matrix.get(m,this.columnIndices[x])}}]),X}(en),xe=function(Q){B(X,Q);function X($){return nt(this,X),y(this,X,[$,$.rows,$.columns])}return q(X,[{key:"set",value:function(m,x,S){return this.matrix.set(m,this.columns-x-1,S),this}},{key:"get",value:function(m,x){return this.matrix.get(m,this.columns-x-1)}}]),X}(en),je=function(Q){B(X,Q);function X($){return nt(this,X),y(this,X,[$,$.rows,$.columns])}return q(X,[{key:"set",value:function(m,x,S){return this.matrix.set(this.rows-m-1,x,S),this}},{key:"get",value:function(m,x){return this.matrix.get(this.rows-m-1,x)}}]),X}(en),Me=function(Q){B(X,Q);function X($,m){var x;return nt(this,X),de($,m),x=y(this,X,[$,1,$.columns]),x.row=m,x}return q(X,[{key:"set",value:function(m,x,S){return this.matrix.set(this.row,x,S),this}},{key:"get",value:function(m,x){return this.matrix.get(this.row,x)}}]),X}(en),Ue=function(Q){B(X,Q);function X($,m){var x;return nt(this,X),$e($,m),x=y(this,X,[$,m.length,$.columns]),x.rowIndices=m,x}return q(X,[{key:"set",value:function(m,x,S){return this.matrix.set(this.rowIndices[m],x,S),this}},{key:"get",value:function(m,x){return this.matrix.get(this.rowIndices[m],x)}}]),X}(en),Sn=function(Q){B(X,Q);function X($,m,x){var S;return nt(this,X),$e($,m),rn($,x),S=y(this,X,[$,m.length,x.length]),S.rowIndices=m,S.columnIndices=x,S}return q(X,[{key:"set",value:function(m,x,S){return this.matrix.set(this.rowIndices[m],this.columnIndices[x],S),this}},{key:"get",value:function(m,x){return this.matrix.get(this.rowIndices[m],this.columnIndices[x])}}]),X}(en),Ke=function(Q){B(X,Q);function X($,m,x,S,it){var at;return nt(this,X),ln($,m,x,S,it),at=y(this,X,[$,x-m+1,it-S+1]),at.startRow=m,at.startColumn=S,at}return q(X,[{key:"set",value:function(m,x,S){return this.matrix.set(this.startRow+m,this.startColumn+x,S),this}},{key:"get",value:function(m,x){return this.matrix.get(this.startRow+m,this.startColumn+x)}}]),X}(en),mn=function(Q){B(X,Q);function X($){return nt(this,X),y(this,X,[$,$.columns,$.rows])}return q(X,[{key:"set",value:function(m,x,S){return this.matrix.set(x,m,S),this}},{key:"get",value:function(m,x){return this.matrix.get(x,m)}}]),X}(en),Bn=function(Q){B(X,Q);function X($){var m,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};nt(this,X);var S=x.rows,it=S===void 0?1:S;if($.length%it!==0)throw new Error("the data length is not divisible by the number of rows");return m=y(this,X),m.rows=it,m.columns=$.length/it,m.data=$,m}return q(X,[{key:"set",value:function(m,x,S){var it=this._calculateIndex(m,x);return this.data[it]=S,this}},{key:"get",value:function(m,x){var S=this._calculateIndex(m,x);return this.data[S]}},{key:"_calculateIndex",value:function(m,x){return m*this.columns+x}}]),X}(Ot),Zn=function(Q){B(X,Q);function X($){var m;return nt(this,X),m=y(this,X),m.data=$,m.rows=$.length,m.columns=$[0].length,m}return q(X,[{key:"set",value:function(m,x,S){return this.data[m][x]=S,this}},{key:"get",value:function(m,x){return this.data[m][x]}}]),X}(Ot);function ir(Q,X){if(wt.isAnyArray(Q))return Q[0]&&wt.isAnyArray(Q[0])?new Zn(Q):new Bn(Q,X);throw new Error("the argument is not an array")}var Sr=function(){function Q(X){nt(this,Q),X=Zn.checkMatrix(X);var $=X.clone(),m=$.rows,x=$.columns,S=new Float64Array(m),it=1,at,ht,ut,Nt,Rt,Zt,we,le,We;for(at=0;at<m;at++)S[at]=at;for(le=new Float64Array(m),ht=0;ht<x;ht++){for(at=0;at<m;at++)le[at]=$.get(at,ht);for(at=0;at<m;at++){for(We=Math.min(at,ht),Rt=0,ut=0;ut<We;ut++)Rt+=$.get(at,ut)*le[ut];le[at]-=Rt,$.set(at,ht,le[at])}for(Nt=ht,at=ht+1;at<m;at++)Math.abs(le[at])>Math.abs(le[Nt])&&(Nt=at);if(Nt!==ht){for(ut=0;ut<x;ut++)Zt=$.get(Nt,ut),$.set(Nt,ut,$.get(ht,ut)),$.set(ht,ut,Zt);we=S[Nt],S[Nt]=S[ht],S[ht]=we,it=-it}if(ht<m&&$.get(ht,ht)!==0)for(at=ht+1;at<m;at++)$.set(at,ht,$.get(at,ht)/$.get(ht,ht))}this.LU=$,this.pivotVector=S,this.pivotSign=it}return q(Q,[{key:"isSingular",value:function(){for(var $=this.LU,m=$.columns,x=0;x<m;x++)if($.get(x,x)===0)return!0;return!1}},{key:"solve",value:function($){$=Gt.checkMatrix($);var m=this.LU,x=m.rows;if(x!==$.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var S=$.columns,it=$.subMatrixRow(this.pivotVector,0,S-1),at=m.columns,ht,ut,Nt;for(Nt=0;Nt<at;Nt++)for(ht=Nt+1;ht<at;ht++)for(ut=0;ut<S;ut++)it.set(ht,ut,it.get(ht,ut)-it.get(Nt,ut)*m.get(ht,Nt));for(Nt=at-1;Nt>=0;Nt--){for(ut=0;ut<S;ut++)it.set(Nt,ut,it.get(Nt,ut)/m.get(Nt,Nt));for(ht=0;ht<Nt;ht++)for(ut=0;ut<S;ut++)it.set(ht,ut,it.get(ht,ut)-it.get(Nt,ut)*m.get(ht,Nt))}return it}},{key:"determinant",get:function(){var $=this.LU;if(!$.isSquare())throw new Error("Matrix must be square");for(var m=this.pivotSign,x=$.columns,S=0;S<x;S++)m*=$.get(S,S);return m}},{key:"lowerTriangularMatrix",get:function(){for(var $=this.LU,m=$.rows,x=$.columns,S=new Gt(m,x),it=0;it<m;it++)for(var at=0;at<x;at++)it>at?S.set(it,at,$.get(it,at)):it===at?S.set(it,at,1):S.set(it,at,0);return S}},{key:"upperTriangularMatrix",get:function(){for(var $=this.LU,m=$.rows,x=$.columns,S=new Gt(m,x),it=0;it<m;it++)for(var at=0;at<x;at++)it<=at?S.set(it,at,$.get(it,at)):S.set(it,at,0);return S}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),Q}();function Tn(Q,X){var $=0;return Math.abs(Q)>Math.abs(X)?($=X/Q,Math.abs(Q)*Math.sqrt(1+$*$)):X!==0?($=Q/X,Math.abs(X)*Math.sqrt(1+$*$)):0}var On=function(){function Q(X){nt(this,Q),X=Zn.checkMatrix(X);var $=X.clone(),m=X.rows,x=X.columns,S=new Float64Array(x),it,at,ht,ut;for(ht=0;ht<x;ht++){var Nt=0;for(it=ht;it<m;it++)Nt=Tn(Nt,$.get(it,ht));if(Nt!==0){for($.get(ht,ht)<0&&(Nt=-Nt),it=ht;it<m;it++)$.set(it,ht,$.get(it,ht)/Nt);for($.set(ht,ht,$.get(ht,ht)+1),at=ht+1;at<x;at++){for(ut=0,it=ht;it<m;it++)ut+=$.get(it,ht)*$.get(it,at);for(ut=-ut/$.get(ht,ht),it=ht;it<m;it++)$.set(it,at,$.get(it,at)+ut*$.get(it,ht))}}S[ht]=-Nt}this.QR=$,this.Rdiag=S}return q(Q,[{key:"solve",value:function($){$=Gt.checkMatrix($);var m=this.QR,x=m.rows;if($.rows!==x)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var S=$.columns,it=$.clone(),at=m.columns,ht,ut,Nt,Rt;for(Nt=0;Nt<at;Nt++)for(ut=0;ut<S;ut++){for(Rt=0,ht=Nt;ht<x;ht++)Rt+=m.get(ht,Nt)*it.get(ht,ut);for(Rt=-Rt/m.get(Nt,Nt),ht=Nt;ht<x;ht++)it.set(ht,ut,it.get(ht,ut)+Rt*m.get(ht,Nt))}for(Nt=at-1;Nt>=0;Nt--){for(ut=0;ut<S;ut++)it.set(Nt,ut,it.get(Nt,ut)/this.Rdiag[Nt]);for(ht=0;ht<Nt;ht++)for(ut=0;ut<S;ut++)it.set(ht,ut,it.get(ht,ut)-it.get(Nt,ut)*m.get(ht,Nt))}return it.subMatrix(0,at-1,0,S-1)}},{key:"isFullRank",value:function(){for(var $=this.QR.columns,m=0;m<$;m++)if(this.Rdiag[m]===0)return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var $=this.QR,m=$.columns,x=new Gt(m,m),S,it;for(S=0;S<m;S++)for(it=0;it<m;it++)S<it?x.set(S,it,$.get(S,it)):S===it?x.set(S,it,this.Rdiag[S]):x.set(S,it,0);return x}},{key:"orthogonalMatrix",get:function(){var $=this.QR,m=$.rows,x=$.columns,S=new Gt(m,x),it,at,ht,ut;for(ht=x-1;ht>=0;ht--){for(it=0;it<m;it++)S.set(it,ht,0);for(S.set(ht,ht,1),at=ht;at<x;at++)if($.get(ht,ht)!==0){for(ut=0,it=ht;it<m;it++)ut+=$.get(it,ht)*S.get(it,at);for(ut=-ut/$.get(ht,ht),it=ht;it<m;it++)S.set(it,at,S.get(it,at)+ut*$.get(it,ht))}}return S}}]),Q}(),Un=function(){function Q(X){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(nt(this,Q),X=Zn.checkMatrix(X),X.isEmpty())throw new Error("Matrix must be non-empty");var m=X.rows,x=X.columns,S=$.computeLeftSingularVectors,it=S===void 0?!0:S,at=$.computeRightSingularVectors,ht=at===void 0?!0:at,ut=$.autoTranspose,Nt=ut===void 0?!1:ut,Rt=!!it,Zt=!!ht,we=!1,le;if(m<x)if(!Nt)le=X.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{le=X.transpose(),m=le.rows,x=le.columns,we=!0;var We=Rt;Rt=Zt,Zt=We}else le=X.clone();for(var Je=Math.min(m,x),Xt=Math.min(m+1,x),ne=new Float64Array(Xt),ye=new Gt(m,Je),Xe=new Gt(x,x),Le=new Float64Array(x),zn=new Float64Array(m),Wn=new Float64Array(Xt),yn=0;yn<Xt;yn++)Wn[yn]=yn;for(var Pn=Math.min(m-1,x),V=Math.max(0,Math.min(x-2,m)),rt=Math.max(Pn,V),lt=0;lt<rt;lt++){if(lt<Pn){ne[lt]=0;for(var kt=lt;kt<m;kt++)ne[lt]=Tn(ne[lt],le.get(kt,lt));if(ne[lt]!==0){le.get(lt,lt)<0&&(ne[lt]=-ne[lt]);for(var Jt=lt;Jt<m;Jt++)le.set(Jt,lt,le.get(Jt,lt)/ne[lt]);le.set(lt,lt,le.get(lt,lt)+1)}ne[lt]=-ne[lt]}for(var ie=lt+1;ie<x;ie++){if(lt<Pn&&ne[lt]!==0){for(var ue=0,qt=lt;qt<m;qt++)ue+=le.get(qt,lt)*le.get(qt,ie);ue=-ue/le.get(lt,lt);for(var ae=lt;ae<m;ae++)le.set(ae,ie,le.get(ae,ie)+ue*le.get(ae,lt))}Le[ie]=le.get(lt,ie)}if(Rt&&lt<Pn)for(var _e=lt;_e<m;_e++)ye.set(_e,lt,le.get(_e,lt));if(lt<V){Le[lt]=0;for(var Re=lt+1;Re<x;Re++)Le[lt]=Tn(Le[lt],Le[Re]);if(Le[lt]!==0){Le[lt+1]<0&&(Le[lt]=0-Le[lt]);for(var Ve=lt+1;Ve<x;Ve++)Le[Ve]/=Le[lt];Le[lt+1]+=1}if(Le[lt]=-Le[lt],lt+1<m&&Le[lt]!==0){for(var Qe=lt+1;Qe<m;Qe++)zn[Qe]=0;for(var _n=lt+1;_n<m;_n++)for(var xn=lt+1;xn<x;xn++)zn[_n]+=Le[xn]*le.get(_n,xn);for(var pn=lt+1;pn<x;pn++)for(var gn=-Le[pn]/Le[lt+1],sr=lt+1;sr<m;sr++)le.set(sr,pn,le.get(sr,pn)+gn*zn[sr])}if(Zt)for(var Wr=lt+1;Wr<x;Wr++)Xe.set(Wr,lt,Le[Wr])}}var $n=Math.min(x,m+1);if(Pn<x&&(ne[Pn]=le.get(Pn,Pn)),m<$n&&(ne[$n-1]=0),V+1<$n&&(Le[V]=le.get(V,$n-1)),Le[$n-1]=0,Rt){for(var Yr=Pn;Yr<Je;Yr++){for(var Ii=0;Ii<m;Ii++)ye.set(Ii,Yr,0);ye.set(Yr,Yr,1)}for(var dr=Pn-1;dr>=0;dr--)if(ne[dr]!==0){for(var ci=dr+1;ci<Je;ci++){for(var Si=0,wr=dr;wr<m;wr++)Si+=ye.get(wr,dr)*ye.get(wr,ci);Si=-Si/ye.get(dr,dr);for(var Br=dr;Br<m;Br++)ye.set(Br,ci,ye.get(Br,ci)+Si*ye.get(Br,dr))}for(var Qr=dr;Qr<m;Qr++)ye.set(Qr,dr,-ye.get(Qr,dr));ye.set(dr,dr,1+ye.get(dr,dr));for(var ti=0;ti<dr-1;ti++)ye.set(ti,dr,0)}else{for(var mi=0;mi<m;mi++)ye.set(mi,dr,0);ye.set(dr,dr,1)}}if(Zt)for(var jn=x-1;jn>=0;jn--){if(jn<V&&Le[jn]!==0)for(var uo=jn+1;uo<x;uo++){for(var E=0,P=jn+1;P<x;P++)E+=Xe.get(P,jn)*Xe.get(P,uo);E=-E/Xe.get(jn+1,jn);for(var H=jn+1;H<x;H++)Xe.set(H,uo,Xe.get(H,uo)+E*Xe.get(H,jn))}for(var Z=0;Z<x;Z++)Xe.set(Z,jn,0);Xe.set(jn,jn,1)}for(var st=$n-1,ot=Number.EPSILON;$n>0;){var ft=void 0,Lt=void 0;for(ft=$n-2;ft>=-1&&ft!==-1;ft--){var Ct=Number.MIN_VALUE+ot*Math.abs(ne[ft]+Math.abs(ne[ft+1]));if(Math.abs(Le[ft])<=Ct||Number.isNaN(Le[ft])){Le[ft]=0;break}}if(ft===$n-2)Lt=4;else{var Ht=void 0;for(Ht=$n-1;Ht>=ft&&Ht!==ft;Ht--){var ce=(Ht!==$n?Math.abs(Le[Ht]):0)+(Ht!==ft+1?Math.abs(Le[Ht-1]):0);if(Math.abs(ne[Ht])<=ot*ce){ne[Ht]=0;break}}Ht===ft?Lt=3:Ht===$n-1?Lt=1:(Lt=2,ft=Ht)}switch(ft++,Lt){case 1:{var be=Le[$n-2];Le[$n-2]=0;for(var oe=$n-2;oe>=ft;oe--){var Ee=Tn(ne[oe],be),wn=ne[oe]/Ee,Qn=be/Ee;if(ne[oe]=Ee,oe!==ft&&(be=-Qn*Le[oe-1],Le[oe-1]=wn*Le[oe-1]),Zt)for(var Nn=0;Nn<x;Nn++)Ee=wn*Xe.get(Nn,oe)+Qn*Xe.get(Nn,$n-1),Xe.set(Nn,$n-1,-Qn*Xe.get(Nn,oe)+wn*Xe.get(Nn,$n-1)),Xe.set(Nn,oe,Ee)}break}case 2:{var Lr=Le[ft-1];Le[ft-1]=0;for(var pr=ft;pr<$n;pr++){var ei=Tn(ne[pr],Lr),di=ne[pr]/ei,Yn=Lr/ei;if(ne[pr]=ei,Lr=-Yn*Le[pr],Le[pr]=di*Le[pr],Rt)for(var Fr=0;Fr<m;Fr++)ei=di*ye.get(Fr,pr)+Yn*ye.get(Fr,ft-1),ye.set(Fr,ft-1,-Yn*ye.get(Fr,pr)+di*ye.get(Fr,ft-1)),ye.set(Fr,pr,ei)}break}case 3:{var Gn=Math.max(Math.abs(ne[$n-1]),Math.abs(ne[$n-2]),Math.abs(Le[$n-2]),Math.abs(ne[ft]),Math.abs(Le[ft])),gr=ne[$n-1]/Gn,Qi=ne[$n-2]/Gn,Zi=Le[$n-2]/Gn,ni=ne[ft]/Gn,Ji=Le[ft]/Gn,Ur=((Qi+gr)*(Qi-gr)+Zi*Zi)/2,yi=gr*Zi*(gr*Zi),ri=0;(Ur!==0||yi!==0)&&(Ur<0?ri=0-Math.sqrt(Ur*Ur+yi):ri=Math.sqrt(Ur*Ur+yi),ri=yi/(Ur+ri));for(var Nr=(ni+gr)*(ni-gr)+ri,Fi=ni*Ji,Fn=ft;Fn<$n-1;Fn++){var er=Tn(Nr,Fi);er===0&&(er=Number.MIN_VALUE);var ai=Nr/er,Zr=Fi/er;if(Fn!==ft&&(Le[Fn-1]=er),Nr=ai*ne[Fn]+Zr*Le[Fn],Le[Fn]=ai*Le[Fn]-Zr*ne[Fn],Fi=Zr*ne[Fn+1],ne[Fn+1]=ai*ne[Fn+1],Zt)for(var Ri=0;Ri<x;Ri++)er=ai*Xe.get(Ri,Fn)+Zr*Xe.get(Ri,Fn+1),Xe.set(Ri,Fn+1,-Zr*Xe.get(Ri,Fn)+ai*Xe.get(Ri,Fn+1)),Xe.set(Ri,Fn,er);if(er=Tn(Nr,Fi),er===0&&(er=Number.MIN_VALUE),ai=Nr/er,Zr=Fi/er,ne[Fn]=er,Nr=ai*Le[Fn]+Zr*ne[Fn+1],ne[Fn+1]=-Zr*Le[Fn]+ai*ne[Fn+1],Fi=Zr*Le[Fn+1],Le[Fn+1]=ai*Le[Fn+1],Rt&&Fn<m-1)for(var Jn=0;Jn<m;Jn++)er=ai*ye.get(Jn,Fn)+Zr*ye.get(Jn,Fn+1),ye.set(Jn,Fn+1,-Zr*ye.get(Jn,Fn)+ai*ye.get(Jn,Fn+1)),ye.set(Jn,Fn,er)}Le[$n-2]=Nr;break}case 4:{if(ne[ft]<=0&&(ne[ft]=ne[ft]<0?-ne[ft]:0,Zt))for(var qi=0;qi<=st;qi++)Xe.set(qi,ft,-Xe.get(qi,ft));for(;ft<st&&!(ne[ft]>=ne[ft+1]);){var Jr=ne[ft];if(ne[ft]=ne[ft+1],ne[ft+1]=Jr,Zt&&ft<x-1)for(var bi=0;bi<x;bi++)Jr=Xe.get(bi,ft+1),Xe.set(bi,ft+1,Xe.get(bi,ft)),Xe.set(bi,ft,Jr);if(Rt&&ft<m-1)for(var lo=0;lo<m;lo++)Jr=ye.get(lo,ft+1),ye.set(lo,ft+1,ye.get(lo,ft)),ye.set(lo,ft,Jr);ft++}$n--;break}}}if(we){var gs=Xe;Xe=ye,ye=gs}this.m=m,this.n=x,this.s=ne,this.U=ye,this.V=Xe}return q(Q,[{key:"solve",value:function($){for(var m=$,x=this.threshold,S=this.s.length,it=Gt.zeros(S,S),at=0;at<S;at++)Math.abs(this.s[at])<=x?it.set(at,at,0):it.set(at,at,1/this.s[at]);for(var ht=this.U,ut=this.rightSingularVectors,Nt=ut.mmul(it),Rt=ut.rows,Zt=ht.rows,we=Gt.zeros(Rt,Zt),le=0;le<Rt;le++)for(var We=0;We<Zt;We++){for(var Je=0,Xt=0;Xt<S;Xt++)Je+=Nt.get(le,Xt)*ht.get(We,Xt);we.set(le,We,Je)}return we.mmul(m)}},{key:"solveForDiagonal",value:function($){return this.solve(Gt.diag($))}},{key:"inverse",value:function(){for(var $=this.V,m=this.threshold,x=$.rows,S=$.columns,it=new Gt(x,this.s.length),at=0;at<x;at++)for(var ht=0;ht<S;ht++)Math.abs(this.s[ht])>m&&it.set(at,ht,$.get(at,ht)/this.s[ht]);for(var ut=this.U,Nt=ut.rows,Rt=ut.columns,Zt=new Gt(x,Nt),we=0;we<x;we++)for(var le=0;le<Nt;le++){for(var We=0,Je=0;Je<Rt;Je++)We+=it.get(we,Je)*ut.get(le,Je);Zt.set(we,le,We)}return Zt}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var $=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,m=0,x=this.s,S=0,it=x.length;S<it;S++)x[S]>$&&m++;return m}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Gt.diag(this.s)}}]),Q}();function vr(Q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Q=Zn.checkMatrix(Q),X?new Un(Q).inverse():Tr(Q,Gt.eye(Q.rows))}function Tr(Q,X){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Q=Zn.checkMatrix(Q),X=Zn.checkMatrix(X),$?new Un(Q).solve(X):Q.isSquare()?new Sr(Q).solve(X):new On(Q).solve(X)}function ur(Q){if(Q=Gt.checkMatrix(Q),Q.isSquare()){if(Q.columns===0)return 1;var X,$,m,x;if(Q.columns===2)return X=Q.get(0,0),$=Q.get(0,1),m=Q.get(1,0),x=Q.get(1,1),X*x-$*m;if(Q.columns===3){var S,it,at;return S=new Sn(Q,[1,2],[1,2]),it=new Sn(Q,[1,2],[0,2]),at=new Sn(Q,[1,2],[0,1]),X=Q.get(0,0),$=Q.get(0,1),m=Q.get(0,2),X*ur(S)-$*ur(it)+m*ur(at)}else return new Sr(Q).determinant}else throw Error("determinant can only be calculated for a square matrix")}function zr(Q,X){for(var $=[],m=0;m<Q;m++)m!==X&&$.push(m);return $}function Ye(Q,X,$){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-9,x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-9;if(Q>x)return new Array(X.rows+1).fill(0);for(var S=X.addRow($,[0]),it=0;it<S.rows;it++)Math.abs(S.get(it,0))<m&&S.set(it,0,0);return S.to1DArray()}function Kn(Q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=X.thresholdValue,m=$===void 0?1e-9:$,x=X.thresholdError,S=x===void 0?1e-9:x;Q=Gt.checkMatrix(Q);for(var it=Q.rows,at=new Gt(it,it),ht=0;ht<it;ht++){var ut=Gt.columnVector(Q.getRow(ht)),Nt=Q.subMatrixRow(zr(it,ht)).transpose(),Rt=new Un(Nt),Zt=Rt.solve(ut),we=Gt.sub(ut,Nt.mmul(Zt)).abs().max();at.setRow(ht,Ye(we,Zt,ht,m,S))}return at}function or(Q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.EPSILON;if(Q=Gt.checkMatrix(Q),Q.isEmpty())return Q.transpose();for(var $=new Un(Q,{autoTranspose:!0}),m=$.leftSingularVectors,x=$.rightSingularVectors,S=$.diagonal,it=0;it<S.length;it++)Math.abs(S[it])>X?S[it]=1/S[it]:S[it]=0;return x.mmul(Gt.diag(S).mmul(m.transpose()))}function Dn(Q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Q=new Gt(Q);var m=!1;if(G(X)==="object"&&!Gt.isMatrix(X)&&!wt.isAnyArray(X)?($=X,X=Q,m=!0):X=new Gt(X),Q.rows!==X.rows)throw new TypeError("Both matrices must have the same number of rows");var x=$,S=x.center,it=S===void 0?!0:S;it&&(Q=Q.center("column"),m||(X=X.center("column")));for(var at=Q.transpose().mmul(X),ht=0;ht<at.rows;ht++)for(var ut=0;ut<at.columns;ut++)at.set(ht,ut,at.get(ht,ut)*(1/(Q.rows-1)));return at}function Ar(Q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Q=new Gt(Q);var m=!1;if(G(X)==="object"&&!Gt.isMatrix(X)&&!wt.isAnyArray(X)?($=X,X=Q,m=!0):X=new Gt(X),Q.rows!==X.rows)throw new TypeError("Both matrices must have the same number of rows");var x=$,S=x.center,it=S===void 0?!0:S,at=x.scale,ht=at===void 0?!0:at;it&&(Q.center("column"),m||X.center("column")),ht&&(Q.scale("column"),m||X.scale("column"));for(var ut=Q.standardDeviation("column",{unbiased:!0}),Nt=m?ut:X.standardDeviation("column",{unbiased:!0}),Rt=Q.transpose().mmul(X),Zt=0;Zt<Rt.rows;Zt++)for(var we=0;we<Rt.columns;we++)Rt.set(Zt,we,Rt.get(Zt,we)*(1/(ut[Zt]*Nt[we]))*(1/(Q.rows-1)));return Rt}var _r=function(){function Q(X){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};nt(this,Q);var m=$.assumeSymmetric,x=m===void 0?!1:m;if(X=Zn.checkMatrix(X),!X.isSquare())throw new Error("Matrix is not a square matrix");if(X.isEmpty())throw new Error("Matrix must be non-empty");var S=X.columns,it=new Gt(S,S),at=new Float64Array(S),ht=new Float64Array(S),ut=X,Nt,Rt,Zt=!1;if(x?Zt=!0:Zt=X.isSymmetric(),Zt){for(Nt=0;Nt<S;Nt++)for(Rt=0;Rt<S;Rt++)it.set(Nt,Rt,ut.get(Nt,Rt));Kr(S,ht,at,it),Cr(S,ht,at,it)}else{var we=new Gt(S,S),le=new Float64Array(S);for(Rt=0;Rt<S;Rt++)for(Nt=0;Nt<S;Nt++)we.set(Nt,Rt,ut.get(Nt,Rt));Pr(S,we,le,it),si(S,ht,at,it,we)}this.n=S,this.e=ht,this.d=at,this.V=it}return q(Q,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var $=this.n,m=this.e,x=this.d,S=new Gt($,$),it,at;for(it=0;it<$;it++){for(at=0;at<$;at++)S.set(it,at,0);S.set(it,it,x[it]),m[it]>0?S.set(it,it+1,m[it]):m[it]<0&&S.set(it,it-1,m[it])}return S}}]),Q}();function Kr(Q,X,$,m){var x,S,it,at,ht,ut,Nt,Rt;for(ht=0;ht<Q;ht++)$[ht]=m.get(Q-1,ht);for(at=Q-1;at>0;at--){for(Rt=0,it=0,ut=0;ut<at;ut++)Rt=Rt+Math.abs($[ut]);if(Rt===0)for(X[at]=$[at-1],ht=0;ht<at;ht++)$[ht]=m.get(at-1,ht),m.set(at,ht,0),m.set(ht,at,0);else{for(ut=0;ut<at;ut++)$[ut]/=Rt,it+=$[ut]*$[ut];for(x=$[at-1],S=Math.sqrt(it),x>0&&(S=-S),X[at]=Rt*S,it=it-x*S,$[at-1]=x-S,ht=0;ht<at;ht++)X[ht]=0;for(ht=0;ht<at;ht++){for(x=$[ht],m.set(ht,at,x),S=X[ht]+m.get(ht,ht)*x,ut=ht+1;ut<=at-1;ut++)S+=m.get(ut,ht)*$[ut],X[ut]+=m.get(ut,ht)*x;X[ht]=S}for(x=0,ht=0;ht<at;ht++)X[ht]/=it,x+=X[ht]*$[ht];for(Nt=x/(it+it),ht=0;ht<at;ht++)X[ht]-=Nt*$[ht];for(ht=0;ht<at;ht++){for(x=$[ht],S=X[ht],ut=ht;ut<=at-1;ut++)m.set(ut,ht,m.get(ut,ht)-(x*X[ut]+S*$[ut]));$[ht]=m.get(at-1,ht),m.set(at,ht,0)}}$[at]=it}for(at=0;at<Q-1;at++){if(m.set(Q-1,at,m.get(at,at)),m.set(at,at,1),it=$[at+1],it!==0){for(ut=0;ut<=at;ut++)$[ut]=m.get(ut,at+1)/it;for(ht=0;ht<=at;ht++){for(S=0,ut=0;ut<=at;ut++)S+=m.get(ut,at+1)*m.get(ut,ht);for(ut=0;ut<=at;ut++)m.set(ut,ht,m.get(ut,ht)-S*$[ut])}}for(ut=0;ut<=at;ut++)m.set(ut,at+1,0)}for(ht=0;ht<Q;ht++)$[ht]=m.get(Q-1,ht),m.set(Q-1,ht,0);m.set(Q-1,Q-1,1),X[0]=0}function Cr(Q,X,$,m){var x,S,it,at,ht,ut,Nt,Rt,Zt,we,le,We,Je,Xt,ne,ye;for(it=1;it<Q;it++)X[it-1]=X[it];X[Q-1]=0;var Xe=0,Le=0,zn=Number.EPSILON;for(ut=0;ut<Q;ut++){for(Le=Math.max(Le,Math.abs($[ut])+Math.abs(X[ut])),Nt=ut;Nt<Q&&!(Math.abs(X[Nt])<=zn*Le);)Nt++;if(Nt>ut)do{for(x=$[ut],Rt=($[ut+1]-x)/(2*X[ut]),Zt=Tn(Rt,1),Rt<0&&(Zt=-Zt),$[ut]=X[ut]/(Rt+Zt),$[ut+1]=X[ut]*(Rt+Zt),we=$[ut+1],S=x-$[ut],it=ut+2;it<Q;it++)$[it]-=S;for(Xe=Xe+S,Rt=$[Nt],le=1,We=le,Je=le,Xt=X[ut+1],ne=0,ye=0,it=Nt-1;it>=ut;it--)for(Je=We,We=le,ye=ne,x=le*X[it],S=le*Rt,Zt=Tn(Rt,X[it]),X[it+1]=ne*Zt,ne=X[it]/Zt,le=Rt/Zt,Rt=le*$[it]-ne*x,$[it+1]=S+ne*(le*x+ne*$[it]),ht=0;ht<Q;ht++)S=m.get(ht,it+1),m.set(ht,it+1,ne*m.get(ht,it)+le*S),m.set(ht,it,le*m.get(ht,it)-ne*S);Rt=-ne*ye*Je*Xt*X[ut]/we,X[ut]=ne*Rt,$[ut]=le*Rt}while(Math.abs(X[ut])>zn*Le);$[ut]=$[ut]+Xe,X[ut]=0}for(it=0;it<Q-1;it++){for(ht=it,Rt=$[it],at=it+1;at<Q;at++)$[at]<Rt&&(ht=at,Rt=$[at]);if(ht!==it)for($[ht]=$[it],$[it]=Rt,at=0;at<Q;at++)Rt=m.get(at,it),m.set(at,it,m.get(at,ht)),m.set(at,ht,Rt)}}function Pr(Q,X,$,m){var x=0,S=Q-1,it,at,ht,ut,Nt,Rt,Zt;for(Rt=x+1;Rt<=S-1;Rt++){for(Zt=0,ut=Rt;ut<=S;ut++)Zt=Zt+Math.abs(X.get(ut,Rt-1));if(Zt!==0){for(ht=0,ut=S;ut>=Rt;ut--)$[ut]=X.get(ut,Rt-1)/Zt,ht+=$[ut]*$[ut];for(at=Math.sqrt(ht),$[Rt]>0&&(at=-at),ht=ht-$[Rt]*at,$[Rt]=$[Rt]-at,Nt=Rt;Nt<Q;Nt++){for(it=0,ut=S;ut>=Rt;ut--)it+=$[ut]*X.get(ut,Nt);for(it=it/ht,ut=Rt;ut<=S;ut++)X.set(ut,Nt,X.get(ut,Nt)-it*$[ut])}for(ut=0;ut<=S;ut++){for(it=0,Nt=S;Nt>=Rt;Nt--)it+=$[Nt]*X.get(ut,Nt);for(it=it/ht,Nt=Rt;Nt<=S;Nt++)X.set(ut,Nt,X.get(ut,Nt)-it*$[Nt])}$[Rt]=Zt*$[Rt],X.set(Rt,Rt-1,Zt*at)}}for(ut=0;ut<Q;ut++)for(Nt=0;Nt<Q;Nt++)m.set(ut,Nt,ut===Nt?1:0);for(Rt=S-1;Rt>=x+1;Rt--)if(X.get(Rt,Rt-1)!==0){for(ut=Rt+1;ut<=S;ut++)$[ut]=X.get(ut,Rt-1);for(Nt=Rt;Nt<=S;Nt++){for(at=0,ut=Rt;ut<=S;ut++)at+=$[ut]*m.get(ut,Nt);for(at=at/$[Rt]/X.get(Rt,Rt-1),ut=Rt;ut<=S;ut++)m.set(ut,Nt,m.get(ut,Nt)+at*$[ut])}}}function si(Q,X,$,m,x){var S=Q-1,it=0,at=Q-1,ht=Number.EPSILON,ut=0,Nt=0,Rt=0,Zt=0,we=0,le=0,We=0,Je=0,Xt,ne,ye,Xe,Le,zn,Wn,yn,Pn,V,rt,lt,kt,Jt,ie;for(Xt=0;Xt<Q;Xt++)for((Xt<it||Xt>at)&&($[Xt]=x.get(Xt,Xt),X[Xt]=0),ne=Math.max(Xt-1,0);ne<Q;ne++)Nt=Nt+Math.abs(x.get(Xt,ne));for(;S>=it;){for(Xe=S;Xe>it&&(le=Math.abs(x.get(Xe-1,Xe-1))+Math.abs(x.get(Xe,Xe)),le===0&&(le=Nt),!(Math.abs(x.get(Xe,Xe-1))<ht*le));)Xe--;if(Xe===S)x.set(S,S,x.get(S,S)+ut),$[S]=x.get(S,S),X[S]=0,S--,Je=0;else if(Xe===S-1){if(Wn=x.get(S,S-1)*x.get(S-1,S),Rt=(x.get(S-1,S-1)-x.get(S,S))/2,Zt=Rt*Rt+Wn,We=Math.sqrt(Math.abs(Zt)),x.set(S,S,x.get(S,S)+ut),x.set(S-1,S-1,x.get(S-1,S-1)+ut),yn=x.get(S,S),Zt>=0){for(We=Rt>=0?Rt+We:Rt-We,$[S-1]=yn+We,$[S]=$[S-1],We!==0&&($[S]=yn-Wn/We),X[S-1]=0,X[S]=0,yn=x.get(S,S-1),le=Math.abs(yn)+Math.abs(We),Rt=yn/le,Zt=We/le,we=Math.sqrt(Rt*Rt+Zt*Zt),Rt=Rt/we,Zt=Zt/we,ne=S-1;ne<Q;ne++)We=x.get(S-1,ne),x.set(S-1,ne,Zt*We+Rt*x.get(S,ne)),x.set(S,ne,Zt*x.get(S,ne)-Rt*We);for(Xt=0;Xt<=S;Xt++)We=x.get(Xt,S-1),x.set(Xt,S-1,Zt*We+Rt*x.get(Xt,S)),x.set(Xt,S,Zt*x.get(Xt,S)-Rt*We);for(Xt=it;Xt<=at;Xt++)We=m.get(Xt,S-1),m.set(Xt,S-1,Zt*We+Rt*m.get(Xt,S)),m.set(Xt,S,Zt*m.get(Xt,S)-Rt*We)}else $[S-1]=yn+Rt,$[S]=yn+Rt,X[S-1]=We,X[S]=-We;S=S-2,Je=0}else{if(yn=x.get(S,S),Pn=0,Wn=0,Xe<S&&(Pn=x.get(S-1,S-1),Wn=x.get(S,S-1)*x.get(S-1,S)),Je===10){for(ut+=yn,Xt=it;Xt<=S;Xt++)x.set(Xt,Xt,x.get(Xt,Xt)-yn);le=Math.abs(x.get(S,S-1))+Math.abs(x.get(S-1,S-2)),yn=Pn=.75*le,Wn=-.4375*le*le}if(Je===30&&(le=(Pn-yn)/2,le=le*le+Wn,le>0)){for(le=Math.sqrt(le),Pn<yn&&(le=-le),le=yn-Wn/((Pn-yn)/2+le),Xt=it;Xt<=S;Xt++)x.set(Xt,Xt,x.get(Xt,Xt)-le);ut+=le,yn=Pn=Wn=.964}for(Je=Je+1,Le=S-2;Le>=Xe&&(We=x.get(Le,Le),we=yn-We,le=Pn-We,Rt=(we*le-Wn)/x.get(Le+1,Le)+x.get(Le,Le+1),Zt=x.get(Le+1,Le+1)-We-we-le,we=x.get(Le+2,Le+1),le=Math.abs(Rt)+Math.abs(Zt)+Math.abs(we),Rt=Rt/le,Zt=Zt/le,we=we/le,!(Le===Xe||Math.abs(x.get(Le,Le-1))*(Math.abs(Zt)+Math.abs(we))<ht*(Math.abs(Rt)*(Math.abs(x.get(Le-1,Le-1))+Math.abs(We)+Math.abs(x.get(Le+1,Le+1))))));)Le--;for(Xt=Le+2;Xt<=S;Xt++)x.set(Xt,Xt-2,0),Xt>Le+2&&x.set(Xt,Xt-3,0);for(ye=Le;ye<=S-1&&(Jt=ye!==S-1,ye!==Le&&(Rt=x.get(ye,ye-1),Zt=x.get(ye+1,ye-1),we=Jt?x.get(ye+2,ye-1):0,yn=Math.abs(Rt)+Math.abs(Zt)+Math.abs(we),yn!==0&&(Rt=Rt/yn,Zt=Zt/yn,we=we/yn)),yn!==0);ye++)if(le=Math.sqrt(Rt*Rt+Zt*Zt+we*we),Rt<0&&(le=-le),le!==0){for(ye!==Le?x.set(ye,ye-1,-le*yn):Xe!==Le&&x.set(ye,ye-1,-x.get(ye,ye-1)),Rt=Rt+le,yn=Rt/le,Pn=Zt/le,We=we/le,Zt=Zt/Rt,we=we/Rt,ne=ye;ne<Q;ne++)Rt=x.get(ye,ne)+Zt*x.get(ye+1,ne),Jt&&(Rt=Rt+we*x.get(ye+2,ne),x.set(ye+2,ne,x.get(ye+2,ne)-Rt*We)),x.set(ye,ne,x.get(ye,ne)-Rt*yn),x.set(ye+1,ne,x.get(ye+1,ne)-Rt*Pn);for(Xt=0;Xt<=Math.min(S,ye+3);Xt++)Rt=yn*x.get(Xt,ye)+Pn*x.get(Xt,ye+1),Jt&&(Rt=Rt+We*x.get(Xt,ye+2),x.set(Xt,ye+2,x.get(Xt,ye+2)-Rt*we)),x.set(Xt,ye,x.get(Xt,ye)-Rt),x.set(Xt,ye+1,x.get(Xt,ye+1)-Rt*Zt);for(Xt=it;Xt<=at;Xt++)Rt=yn*m.get(Xt,ye)+Pn*m.get(Xt,ye+1),Jt&&(Rt=Rt+We*m.get(Xt,ye+2),m.set(Xt,ye+2,m.get(Xt,ye+2)-Rt*we)),m.set(Xt,ye,m.get(Xt,ye)-Rt),m.set(Xt,ye+1,m.get(Xt,ye+1)-Rt*Zt)}}}if(Nt!==0){for(S=Q-1;S>=0;S--)if(Rt=$[S],Zt=X[S],Zt===0)for(Xe=S,x.set(S,S,1),Xt=S-1;Xt>=0;Xt--){for(Wn=x.get(Xt,Xt)-Rt,we=0,ne=Xe;ne<=S;ne++)we=we+x.get(Xt,ne)*x.get(ne,S);if(X[Xt]<0)We=Wn,le=we;else if(Xe=Xt,X[Xt]===0?x.set(Xt,S,Wn!==0?-we/Wn:-we/(ht*Nt)):(yn=x.get(Xt,Xt+1),Pn=x.get(Xt+1,Xt),Zt=($[Xt]-Rt)*($[Xt]-Rt)+X[Xt]*X[Xt],zn=(yn*le-We*we)/Zt,x.set(Xt,S,zn),x.set(Xt+1,S,Math.abs(yn)>Math.abs(We)?(-we-Wn*zn)/yn:(-le-Pn*zn)/We)),zn=Math.abs(x.get(Xt,S)),ht*zn*zn>1)for(ne=Xt;ne<=S;ne++)x.set(ne,S,x.get(ne,S)/zn)}else if(Zt<0)for(Xe=S-1,Math.abs(x.get(S,S-1))>Math.abs(x.get(S-1,S))?(x.set(S-1,S-1,Zt/x.get(S,S-1)),x.set(S-1,S,-(x.get(S,S)-Rt)/x.get(S,S-1))):(ie=En(0,-x.get(S-1,S),x.get(S-1,S-1)-Rt,Zt),x.set(S-1,S-1,ie[0]),x.set(S-1,S,ie[1])),x.set(S,S-1,0),x.set(S,S,1),Xt=S-2;Xt>=0;Xt--){for(V=0,rt=0,ne=Xe;ne<=S;ne++)V=V+x.get(Xt,ne)*x.get(ne,S-1),rt=rt+x.get(Xt,ne)*x.get(ne,S);if(Wn=x.get(Xt,Xt)-Rt,X[Xt]<0)We=Wn,we=V,le=rt;else if(Xe=Xt,X[Xt]===0?(ie=En(-V,-rt,Wn,Zt),x.set(Xt,S-1,ie[0]),x.set(Xt,S,ie[1])):(yn=x.get(Xt,Xt+1),Pn=x.get(Xt+1,Xt),lt=($[Xt]-Rt)*($[Xt]-Rt)+X[Xt]*X[Xt]-Zt*Zt,kt=($[Xt]-Rt)*2*Zt,lt===0&&kt===0&&(lt=ht*Nt*(Math.abs(Wn)+Math.abs(Zt)+Math.abs(yn)+Math.abs(Pn)+Math.abs(We))),ie=En(yn*we-We*V+Zt*rt,yn*le-We*rt-Zt*V,lt,kt),x.set(Xt,S-1,ie[0]),x.set(Xt,S,ie[1]),Math.abs(yn)>Math.abs(We)+Math.abs(Zt)?(x.set(Xt+1,S-1,(-V-Wn*x.get(Xt,S-1)+Zt*x.get(Xt,S))/yn),x.set(Xt+1,S,(-rt-Wn*x.get(Xt,S)-Zt*x.get(Xt,S-1))/yn)):(ie=En(-we-Pn*x.get(Xt,S-1),-le-Pn*x.get(Xt,S),We,Zt),x.set(Xt+1,S-1,ie[0]),x.set(Xt+1,S,ie[1]))),zn=Math.max(Math.abs(x.get(Xt,S-1)),Math.abs(x.get(Xt,S))),ht*zn*zn>1)for(ne=Xt;ne<=S;ne++)x.set(ne,S-1,x.get(ne,S-1)/zn),x.set(ne,S,x.get(ne,S)/zn)}for(Xt=0;Xt<Q;Xt++)if(Xt<it||Xt>at)for(ne=Xt;ne<Q;ne++)m.set(Xt,ne,x.get(Xt,ne));for(ne=Q-1;ne>=it;ne--)for(Xt=it;Xt<=at;Xt++){for(We=0,ye=it;ye<=Math.min(ne,at);ye++)We=We+m.get(Xt,ye)*x.get(ye,ne);m.set(Xt,ne,We)}}}function En(Q,X,$,m){var x,S;return Math.abs($)>Math.abs(m)?(x=m/$,S=$+x*m,[(Q+x*X)/S,(X-x*Q)/S]):(x=$/m,S=m+x*$,[(x*Q+X)/S,(x*X-Q)/S])}var br=function(){function Q(X){if(nt(this,Q),X=Zn.checkMatrix(X),!X.isSymmetric())throw new Error("Matrix is not symmetric");var $=X,m=$.rows,x=new Gt(m,m),S=!0,it,at,ht;for(at=0;at<m;at++){var ut=0;for(ht=0;ht<at;ht++){var Nt=0;for(it=0;it<ht;it++)Nt+=x.get(ht,it)*x.get(at,it);Nt=($.get(at,ht)-Nt)/x.get(ht,ht),x.set(at,ht,Nt),ut=ut+Nt*Nt}for(ut=$.get(at,at)-ut,S&=ut>0,x.set(at,at,Math.sqrt(Math.max(ut,0))),ht=at+1;ht<m;ht++)x.set(at,ht,0)}this.L=x,this.positiveDefinite=!!S}return q(Q,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function($){$=Zn.checkMatrix($);var m=this.L,x=m.rows;if($.rows!==x)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");var S=$.columns,it=$.clone(),at,ht,ut;for(ut=0;ut<x;ut++)for(ht=0;ht<S;ht++){for(at=0;at<ut;at++)it.set(ut,ht,it.get(ut,ht)-it.get(at,ht)*m.get(ut,at));it.set(ut,ht,it.get(ut,ht)/m.get(ut,ut))}for(ut=x-1;ut>=0;ut--)for(ht=0;ht<S;ht++){for(at=ut+1;at<x;at++)it.set(ut,ht,it.get(ut,ht)-it.get(at,ht)*m.get(at,ut));it.set(ut,ht,it.get(ut,ht)/m.get(ut,ut))}return it}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),Q}(),Hr=q(function Q(X){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};nt(this,Q),X=Zn.checkMatrix(X);var m=$.Y,x=$.scaleScores,S=x===void 0?!1:x,it=$.maxIterations,at=it===void 0?1e3:it,ht=$.terminationCriteria,ut=ht===void 0?1e-10:ht,Nt;if(m){if(wt.isAnyArray(m)&&typeof m[0]=="number"?m=Gt.columnVector(m):m=Zn.checkMatrix(m),m.rows!==X.rows)throw new Error("Y should have the same number of rows as X");Nt=m.getColumnVector(0)}else Nt=X.getColumnVector(0);for(var Rt=1,Zt,we,le,We,Je=0;Je<at&&Rt>ut;Je++)le=X.transpose().mmul(Nt).div(Nt.transpose().mmul(Nt).get(0,0)),le=le.div(le.norm()),Zt=X.mmul(le).div(le.transpose().mmul(le).get(0,0)),Je>0&&(Rt=Zt.clone().sub(We).pow(2).sum()),We=Zt.clone(),m?(we=m.transpose().mmul(Zt).div(Zt.transpose().mmul(Zt).get(0,0)),we=we.div(we.norm()),Nt=m.mmul(we).div(we.transpose().mmul(we).get(0,0))):Nt=Zt;if(m){var Xt=X.transpose().mmul(Zt).div(Zt.transpose().mmul(Zt).get(0,0));Xt=Xt.div(Xt.norm());var ne=X.clone().sub(Zt.clone().mmul(Xt.transpose())),ye=Nt.transpose().mmul(Zt).div(Zt.transpose().mmul(Zt).get(0,0)),Xe=m.clone().sub(Zt.clone().mulS(ye.get(0,0)).mmul(we.transpose()));this.t=Zt,this.p=Xt.transpose(),this.w=le.transpose(),this.q=we,this.u=Nt,this.s=Zt.transpose().mmul(Zt),this.xResidual=ne,this.yResidual=Xe,this.betas=ye}else this.w=le.transpose(),this.s=Zt.transpose().mmul(Zt).sqrt(),S?this.t=Zt.clone().div(this.s.get(0,0)):this.t=Zt,this.xResidual=X.sub(Zt.mmul(le.transpose()))});c.AbstractMatrix=Ot,c.CHO=br,c.CholeskyDecomposition=br,c.DistanceMatrix=He,c.EVD=_r,c.EigenvalueDecomposition=_r,c.LU=Sr,c.LuDecomposition=Sr,c.Matrix=Gt,c.MatrixColumnSelectionView=ze,c.MatrixColumnView=qe,c.MatrixFlipColumnView=xe,c.MatrixFlipRowView=je,c.MatrixRowSelectionView=Ue,c.MatrixRowView=Me,c.MatrixSelectionView=Sn,c.MatrixSubView=Ke,c.MatrixTransposeView=mn,c.NIPALS=Hr,c.Nipals=Hr,c.QR=On,c.QrDecomposition=On,c.SVD=Un,c.SingularValueDecomposition=Un,c.SymmetricMatrix=he,c.WrapperMatrix1D=Bn,c.WrapperMatrix2D=Zn,c.correlation=Ar,c.covariance=Dn,c.default=Gt,c.determinant=ur,c.inverse=vr,c.linearDependencies=Kn,c.pseudoInverse=or,c.solve=Tr,c.wrap=ir},1377:function(b,c,e){function n(ge){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ne){return typeof Ne}:function(Ne){return Ne&&typeof Symbol=="function"&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne},n(ge)}Object.defineProperty(c,"__esModule",{value:!0});var o=e(7711),f=mt(o),s=e(7305),a=mt(s),u=e(5397),h=mt(u),p=e(5268),y=mt(p),w=e(3952),d=mt(w),M=e(9962),D=mt(M),B=e(8039),Y=mt(B),N=e(5500),A=mt(N),k=e(1106),tt=mt(k),et=e(7588),K=mt(et),U=e(3059),R=mt(U),g=e(6796),C=mt(g),W=e(1172),z=mt(W),G=e(9755),nt=mt(G),j=e(6369),q=e(1730),vt=mt(q);e(9370);function mt(ge){return ge&&ge.__esModule?ge:{default:ge}}function wt(ge,Ne){var Ut=typeof Symbol<"u"&&ge[Symbol.iterator]||ge["@@iterator"];if(!Ut){if(Array.isArray(ge)||(Ut=se(ge))||Ne&&ge&&typeof ge.length=="number"){Ut&&(ge=Ut);var I=0,Et=function(){};return{s:Et,n:function(){return I>=ge.length?{done:!0}:{done:!1,value:ge[I++]}},e:function(_t){throw _t},f:Et}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ct=!0,St=!1,xt;return{s:function(){Ut=Ut.call(ge)},n:function(){var _t=Ut.next();return ct=_t.done,_t},e:function(_t){St=!0,xt=_t},f:function(){try{!ct&&Ut.return!=null&&Ut.return()}finally{if(St)throw xt}}}}function At(ge,Ne){var Ut=Object.keys(ge);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(ge);Ne&&(I=I.filter(function(Et){return Object.getOwnPropertyDescriptor(ge,Et).enumerable})),Ut.push.apply(Ut,I)}return Ut}function Kt(ge){for(var Ne=1;Ne<arguments.length;Ne++){var Ut=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?At(Object(Ut),!0).forEach(function(I){Qt(ge,I,Ut[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(Ut)):At(Object(Ut)).forEach(function(I){Object.defineProperty(ge,I,Object.getOwnPropertyDescriptor(Ut,I))})}return ge}function jt(ge){return $t(ge)||zt(ge)||se(ge)||me()}function me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zt(ge){if(typeof Symbol<"u"&&ge[Symbol.iterator]!=null||ge["@@iterator"]!=null)return Array.from(ge)}function $t(ge){if(Array.isArray(ge))return de(ge)}function Pt(ge,Ne){return Oe(ge)||Ie(ge,Ne)||se(ge,Ne)||Ft()}function Ft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function se(ge,Ne){if(ge){if(typeof ge=="string")return de(ge,Ne);var Ut=Object.prototype.toString.call(ge).slice(8,-1);if(Ut==="Object"&&ge.constructor&&(Ut=ge.constructor.name),Ut==="Map"||Ut==="Set")return Array.from(ge);if(Ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ut))return de(ge,Ne)}}function de(ge,Ne){(Ne==null||Ne>ge.length)&&(Ne=ge.length);for(var Ut=0,I=new Array(Ne);Ut<Ne;Ut++)I[Ut]=ge[Ut];return I}function Ie(ge,Ne){var Ut=ge==null?null:typeof Symbol<"u"&&ge[Symbol.iterator]||ge["@@iterator"];if(Ut!=null){var I,Et,ct,St,xt=[],Ot=!0,_t=!1;try{if(ct=(Ut=Ut.call(ge)).next,Ne===0){if(Object(Ut)!==Ut)return;Ot=!1}else for(;!(Ot=(I=ct.call(Ut)).done)&&(xt.push(I.value),xt.length!==Ne);Ot=!0);}catch(Bt){_t=!0,Et=Bt}finally{try{if(!Ot&&Ut.return!=null&&(St=Ut.return(),Object(St)!==St))return}finally{if(_t)throw Et}}return xt}}function Oe(ge){if(Array.isArray(ge))return ge}function Qt(ge,Ne,Ut){return Ne=fn(Ne),Ne in ge?Object.defineProperty(ge,Ne,{value:Ut,enumerable:!0,configurable:!0,writable:!0}):ge[Ne]=Ut,ge}function $e(ge,Ne){if(!(ge instanceof Ne))throw new TypeError("Cannot call a class as a function")}function rn(ge,Ne){for(var Ut=0;Ut<Ne.length;Ut++){var I=Ne[Ut];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(ge,fn(I.key),I)}}function ln(ge,Ne,Ut){return Ne&&rn(ge.prototype,Ne),Ut&&rn(ge,Ut),Object.defineProperty(ge,"prototype",{writable:!1}),ge}function fn(ge){var Ne=Pe(ge,"string");return n(Ne)=="symbol"?Ne:String(Ne)}function Pe(ge,Ne){if(n(ge)!="object"||!ge)return ge;var Ut=ge[Symbol.toPrimitive];if(Ut!==void 0){var I=Ut.call(ge,Ne||"default");if(n(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ne==="string"?String:Number)(ge)}function un(ge,Ne,Ut){return Ne=hn(Ne),cn(ge,sn()?Reflect.construct(Ne,Ut||[],hn(ge).constructor):Ne.apply(ge,Ut))}function cn(ge,Ne){if(Ne&&(n(Ne)==="object"||typeof Ne=="function"))return Ne;if(Ne!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vn(ge)}function sn(){try{var ge=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sn=function(){return!!ge})()}function hn(ge){return hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ut){return Ut.__proto__||Object.getPrototypeOf(Ut)},hn(ge)}function Vn(ge){if(ge===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ge}function Or(ge,Ne){if(typeof Ne!="function"&&Ne!==null)throw new TypeError("Super expression must either be null or a function");ge.prototype=Object.create(Ne&&Ne.prototype,{constructor:{value:ge,writable:!0,configurable:!0}}),Object.defineProperty(ge,"prototype",{writable:!1}),Ne&&Hn(ge,Ne)}function Hn(ge,Ne){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,Et){return I.__proto__=Et,I},Hn(ge,Ne)}var pe=e(4609),bt=e(9392),Ze=e(4572),hr=function(ge){Or(Ne,ge);function Ne(Ut){var I;return $e(this,Ne),I=un(this,Ne,[Ut]),I.root=Ut.root,I.layout=Ut.layout,I.layoutOptions=Ut.layoutOptions,bt.isObject(I.layout)&&!bt.isFunction(I.layout)&&(I.previousIsFlatNode=I.layout.isFlatNode,I.layoutOptions=I.layout.options||I.layoutOptions,I.layout=I.layout.type),I.layout={type:I.layout,options:I.layoutOptions||{}},I.zoomable=Ut.zoomable||!1,I.moveable=Ut.moveable||!1,I.draggable=Ut.draggable||!1,I.linkable=Ut.linkable||!1,I.disLinkable=Ut.disLinkable||!1,I.virtualScroll={enable:bt.get(Ut,"virtualScroll.enable",!1),paddingLeft:bt.get(Ut,"virtualScroll.paddingLeft",20),paddingRight:bt.get(Ut,"virtualScroll.paddingRight",20),paddingTop:bt.get(Ut,"virtualScroll.paddingTop",20),paddingBottom:bt.get(Ut,"virtualScroll.paddingBottom",20)},I.virtualHideItem={nodes:[],groups:[],edges:[]},I.theme={group:{type:bt.get(Ut,"theme.group.type")||"normal",includeGroups:bt.get(Ut,"theme.group.includeGroups",!1),dragGroupZIndex:bt.get(Ut,"theme.group.dragGroupZIndex",50)},node:{dragNodeZIndex:bt.get(Ut,"theme.node.dragNodeZIndex",250)},edge:{type:bt.get(Ut,"theme.edge.type")||"node",shapeType:bt.get(Ut,"theme.edge.shapeType")||"Straight",hasRadius:bt.get(Ut,"theme.edge.hasRadius")||!1,radius:bt.get(Ut,"theme.edge.radius"),Class:bt.get(Ut,"theme.edge.Class")||h.default,arrow:bt.get(Ut,"theme.edge.arrow"),arrowShapeType:bt.get(Ut,"theme.edge.arrowShapeType","default"),arrowPosition:bt.get(Ut,"theme.edge.arrowPosition"),arrowOffset:bt.get(Ut,"theme.edge.arrowOffset"),draggable:bt.get(Ut,"theme.edge.draggable"),label:bt.get(Ut,"theme.edge.label"),labelPosition:bt.get(Ut,"theme.edge.labelPosition"),labelOffset:bt.get(Ut,"theme.edge.labelOffset"),labelUpdateInterval:bt.get(Ut,"theme.edge.labelUpdateInterval",20),isRepeat:bt.get(Ut,"theme.edge.isRepeat")||!1,isLinkMyself:bt.get(Ut,"theme.edge.isLinkMyself")||!1,isExpandWidth:bt.get(Ut,"theme.edge.isExpandWidth")||!1,defaultAnimate:bt.get(Ut,"theme.edge.defaultAnimate")||!1,dragEdgeZindex:bt.get(Ut,"theme.edge.dragEdgeZindex",499),overlapGap:bt.get(Ut,"theme.edge.overlapGap",1)},endpoint:{linkableHighlight:bt.get(Ut,"theme.endpoint.linkableHighlight")||!1,limitNum:bt.get(Ut,"theme.endpoint.limitNum"),expandArea:{left:bt.get(Ut,"theme.endpoint.expandArea.left")===void 0?10:bt.get(Ut,"theme.endpoint.expandArea.left"),right:bt.get(Ut,"theme.endpoint.expandArea.right")===void 0?10:bt.get(Ut,"theme.endpoint.expandArea.right"),top:bt.get(Ut,"theme.endpoint.expandArea.top")===void 0?10:bt.get(Ut,"theme.endpoint.expandArea.top"),bottom:bt.get(Ut,"theme.endpoint.expandArea.bottom")===void 0?10:bt.get(Ut,"theme.endpoint.expandArea.bottom")},isAllowLinkInSameNode:bt.get(Ut,"theme.endpoint.isAllowLinkInSameNode",!0)},zoomGap:bt.get(Ut,"theme.zoomGap")||.001,autoFixCanvas:{enable:bt.get(Ut,"theme.autoFixCanvas.enable",!1),autoMovePadding:bt.get(Ut,"theme.autoFixCanvas.autoMovePadding")||[20,20,20,20]},autoResizeRootSize:bt.get(Ut,"theme.autoResizeRootSize",!0),isMouseMoveStopPropagation:bt.get(Ut,"theme.isMouseMoveStopPropagation")||!1},I.global=bt.get(Ut,"global",{isScopeStrict:bt.get(Ut,"global.isScopeStrict"),limitQueueLen:5,isCloneDeep:bt.get(Ut,"global.isCloneDeep",!0),arrowUtil:new z.default}),I._zoomData=1,I._moveData=[0,0],I._zoomTimer=null,I.groups=[],I.nodes=[],I.edges=[],I.isSelectMode=!1,I.selectContents=[],I.selectMode="include",I.selectItem={nodes:[],edges:[],groups:[],endpoints:[]},I._remarkZoom=void 0,I._remarkMove=void 0,I.svg=null,I.wrapper=null,I.canvasWrapper=null,I._dragGroupZIndex=I.theme.group.dragGroupZIndex,I._dragNodeZIndex=I.theme.node.dragNodeZIndex,I._dragEdgeZindex=I.theme.edge.dragEdgeZindex,I._genWrapper(),I._genSvgWrapper(),I._genCanvasWrapper(),nt.default.init(I.svg),I._dragType=null,I._dragNode=null,I._mouseMoved=!1,I._dragEndpoint=null,I._dragEdges=[],I._dragPathEdge=null,I._dragGroup=null,I._rootWidth=pe(I.root).width(),I._rootHeight=pe(I.root).height(),pe(I.root).css("overflow","hidden"),pe(I.root).css("position")==="static"&&pe(I.root).css("position","relative"),I._hoverGroupQueue=[],I._hoverGroupObj=void 0,I._hoverGroupTimer=void 0,I._gridService=new K.default({root:I.root,canvas:Vn(I)}),I._gridObjQueue=[],I._gridObj=void 0,I._gridTimer=void 0,I._guidelineService=new R.default({root:I.root,canvas:Vn(I)}),I._guideObjQueue=[],I._guideObj=void 0,I._guideTimer=void 0,I._coordinateService=new A.default({canvas:Vn(I),terOffsetX:pe(I.root).offset().left,terOffsetY:pe(I.root).offset().top,terWidth:pe(I.root).width(),terHeight:pe(I.root).height(),canOffsetX:I._moveData[0],canOffsetY:I._moveData[1],scale:I._zoomData,virtualScroll:I.virtualScroll}),I._virtualScrollUtil=new vt.default,I.virtualScroll.enable&&I._virtualScrollUtil.init({info:I.virtualScroll,canvas:Vn(I),coordinate:I._coordinateService}),I._addEventListener(),I._unionData={__system:{nodes:[],edges:[],groups:[],endpoints:[]}},I._NodeClass=a.default,I._GroupClass=y.default,I.actionQueue=[],I.actionQueueIndex=-1,I._autoMoveDir=[],I._autoMoveTimer=null,I._hasInited=!1,I._updateInterval=setInterval(function(){I.nodes.forEach(function(Et){Et._isForceUpdateSize=!0})},5e3),I._cache={nodes:{}},I._redrawPromises=[],I._isRedraw=!1,I._isHightVerChrome=!0,I._isFocusing=!1,(0,j.prepareAvoidObstaclesInfo)(Vn(I)),I}return ln(Ne,[{key:"draw",value:function(I,Et){var ct=this,St=I.groups||[],xt=I.nodes||[],Ot=I.edges||[];this.layout&&!I.isNotRelayout&&this._autoLayout({groups:St,nodes:xt,edges:Ot});var _t=new Promise(function(Bt,re){setTimeout(function(){(!ct._isHightVerChrome||!window.ResizeObserver||!ct.theme.autoResizeRootSize)&&(ct._rootWidth=pe(ct.root).width(),ct._rootHeight=pe(ct.root).height(),ct._coordinateService._changeCanvasInfo({terOffsetX:pe(ct.root).offset().left,terOffsetY:pe(ct.root).offset().top,terWidth:ct._rootWidth,terHeight:ct._rootHeight})),ct.addGroups(St,!1,!0),Bt()})}).then(function(){return new Promise(function(Bt,re){setTimeout(function(){ct.addNodes(xt,!1,!0),Bt()},10)})}).then(function(Bt){return new Promise(function(re,Gt){setTimeout(function(){ct.addEdges(Ot),re()},20)})});_t.then(function(){ct.virtualScroll.enable&&ct._virtualScrollUtil.redraw(!0),ct.actionQueue=[],ct.actionQueueIndex=-1,Et&&Et({nodes:ct.nodes,edges:ct.edges,groups:ct.groups}),ct._hasInited=!0})}},{key:"redraw",value:function(I,Et){var ct=this;if(this._redrawPromises.push({opts:I,callback:Et}),!this._isRedraw){var St=function Ot(_t){_t.then(function(Bt){var re=Bt.opts,Gt=Bt.callback;ct.removeNodes(ct.nodes.map(function(De){return De.id})||[]),ct.removeGroups(ct.groups.map(function(De){return De.id})||[]),ct.clearActionQueue(),ct.draw(re||{},function(De){if(Gt&&Gt(De),ct._redrawPromises.length>0){var te=ct._redrawPromises.shift();Ot(Promise.resolve(te))}else ct._isRedraw=!1})})},xt=this._redrawPromises.shift();St(Promise.resolve(xt))}}},{key:"getDataMap",value:function(){return{nodes:this.nodes,edges:this.edges,groups:this.groups}}},{key:"autoLayout",value:function(I,Et){var ct=this;this.layout=bt.assign({},this.layout,{type:I,options:Et});var St=this.nodes,xt=this.groups,Ot=this.edges,_t=St.map(function(Gt){return Gt.options}),Bt=xt.map(function(Gt){return Gt.options}),re=Ot.map(function(Gt){return{source:bt.get(Gt,"sourceNode.id"),target:bt.get(Gt,"targetNode.id")}});this._autoLayout({groups:Bt,nodes:_t,edges:re}),_t.forEach(function(Gt,De){ct.nodes[De].moveTo(Gt.left,Gt.top)})}},{key:"_genSvgWrapper",value:function(){function I(){var Gt=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i,/Electron/i];return Gt.some(function(De){return window.navigator.userAgent.match(De)})}var Et=I(),ct="100%",St="100%",xt=function(){var De=0,te=window.screen,he=window.navigator.userAgent.toLowerCase();return window.devicePixelRatio!==void 0?De=window.devicePixelRatio:~he.indexOf("msie")?te.deviceXDPI&&te.logicalXDPI&&(De=te.deviceXDPI/te.logicalXDPI):window.outerWidth!==void 0&&window.innerWidth!==void 0&&(De=window.outerWidth/window.innerWidth),De&&(De=Math.round(De*100)),De};if(!Et){var Ot=1/(xt()/200);ct=1*Ot+"px",St=1*Ot+"px"}var _t=pe(document.createElementNS("http://www.w3.org/2000/svg","svg")).attr("class","butterfly-svg").attr("width",ct).attr("height",St).attr("version","1.1").attr("xmlns","http://www.w3.org/2000/svg").css("z-index",this._dragEdgeZindex).appendTo(this.wrapper);if(!Et){window.onresize=function(){var Gt=1/(xt()/200);_t.attr("width",1*Gt+"px").attr("height",1*Gt+"px")};var Bt=pe(this.wrapper)[0].getBoundingClientRect(),re=_t[0].getBoundingClientRect();_t.css("top",Bt.top-re.top+"px").css("left",Bt.left-re.left+"px")}return this.svg=_t}},{key:"_genWrapper",value:function(){var I=pe('<div class="butterfly-wrapper"></div>').appendTo(this.root);return this.wrapper=I[0]}},{key:"_genCanvasWrapper",value:function(){this.canvasWrapper=new Y.default,this.canvasWrapper.init({root:this.root,_on:this.on.bind(this),_emit:this.emit.bind(this)})}},{key:"_addEventListener",value:function(){var I=this;this.zoomable&&this.setZoomable(!0),this.moveable&&this.setMoveable(!0);var Et=/Chrome/.test(window.navigator.userAgent)&&/Google Inc/.test(window.navigator.vendor),ct=function(){var Ot=window.navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return Ot?parseInt(Ot[2],10):!1};if(this._isHightVerChrome=Et&&ct()>=64,this._isHightVerChrome&&window.ResizeObserver&&this.theme.autoResizeRootSize){var St=new ResizeObserver(function(xt){I._rootWidth=pe(I.root).width(),I._rootHeight=pe(I.root).height(),I._coordinateService._changeCanvasInfo({terOffsetX:pe(I.root).offset().left,terOffsetY:pe(I.root).offset().top,terWidth:I._rootWidth,terHeight:I._rootHeight}),I.canvasWrapper.resize({root:I.root}),I.setGridMode(!0,void 0,!0),I.virtualScroll.enable&&I._virtualScrollUtil.redraw(),I.emit("system.canvas.resize"),I.emit("events",{type:"canvas:resize"})});St.observe(this.root)}else window.addEventListener("resize",function(){I._rootWidth=pe(I.root).width(),I._rootHeight=pe(I.root).height(),I._coordinateService._changeCanvasInfo({terOffsetX:pe(I.root).offset().left,terOffsetY:pe(I.root).offset().top,terWidth:I._rootWidth,terHeight:I._rootHeight}),I.canvasWrapper.resize({root:I.root}),I.setGridMode(!0,void 0,!0),I.virtualScroll.enable&&I._virtualScrollUtil.redraw(),I.emit("system.canvas.resize"),I.emit("events",{type:"canvas:resize"})});this.on("InnerEvents",function(xt){if(xt.type==="node:addEndpoint")I._addEndpoint(xt.data,"node",xt.isInited);else if(xt.type==="node:removeEndpoint"){var Ot=xt.data,_t=I.edges.filter(function(he){return he.sourceNode.id===Ot.nodeId&&he.sourceEndpoint.id===Ot.id||he.targetNode.id===Ot.nodeId&&he.targetEndpoint.id===Ot.id});I.removeEdges(_t)}else if(xt.type==="group:addEndpoint")I._addEndpoint(xt.data,"group",xt.isInited);else if(xt.type==="node:dragBegin")I._dragType="node:drag",I._dragNode=xt.data;else if(xt.type==="node:mouseDown")I._dragType="node:mouseDown";else if(xt.type==="group:dragBegin")I._dragType="group:drag",I._dragNode=I._dragGroup=xt.data;else if(xt.type==="endpoint:drag")I._dragType="endpoint:drag",I._dragEndpoint=xt.data;else if(xt.type==="node:move")I._moveNode(xt.node,xt.x,xt.y,xt.isNotEventEmit);else if(xt.type==="group:move")I._moveGroup(xt.group,xt.x,xt.y,xt.isNotEventEmit);else if(xt.type==="link:mouseDown")I._dragType="link:mouseDown";else if(xt.type==="link:dragBegin")I._dragType="link:drag",I._dragPathEdge={edge:xt.edge,path:xt.path};else if(xt.type==="multiple:select"){var Bt=I._selectMultiplyItem(xt.range,xt.toDirection);bt.assign(I._unionData.__system,I.selectItem),I.emit("system.multiple.select",{data:Bt}),I.emit("events",{type:"multiple:select",data:Bt}),I.selectItem={nodes:[],edges:[],endpoints:[]}}else if(xt.type==="node:resize")I._dragType="node:resize",I._dragNode=xt.node;else if(xt.type==="group:resize")I._dragType="group:resize",I._dragGroup=xt.group;else if(xt.type==="node:delete")I.removeNode(xt.data.id);else if(xt.type==="edge:delete")I.removeEdge(xt.data);else if(xt.type==="group:delete")I.removeGroup(xt.data.id);else if(xt.type==="group:addNodes")bt.get(xt,"nodes",[]).forEach(function(he){var He=bt.find(I.nodes,function(xe){return he.id===xe.id});if(!He)I.addNode(he);else{var en=I.removeNode(he.id,!0,!0),qe=en.nodes[0],ze=xt.group;en.edges,qe._init({top:he.top-ze.top,left:he.left-ze.left,dom:qe.dom,group:ze.id}),I.addNode(qe,!0)}}),xt.isNotEventEmit||(I.emit("events",{type:"system.group.addMembers",nodes:xt.nodes,group:xt.group}),I.emit("system.group.addMembers",{nodes:xt.nodes,group:xt.group}));else if(xt.type==="group:removeNodes"){var re=xt.group;bt.get(xt,"nodes",[]).forEach(function(he){I.removeNode(he.id,!0,!0),he._init({group:void 0,left:he.left+re.left,top:he.top+re.top,dom:he.dom,_isDeleteGroup:!0}),I.addNode(he,!0)})}else if(xt.type==="edge:updateLabel"){var Gt=xt.data.labelDom;pe(I.wrapper).append(Gt)}else if(xt.type==="edge:setZIndex")I.setEdgeZIndex([xt.edge],xt.index);else if(xt.type==="endpoint:updatePos"){var De=xt.point,te=I.getNeighborEdgesByEndpoint(De.nodeId,De.id);te.forEach(function(he){he.redraw()})}}),this._attachMouseDownEvent()}},{key:"_attachMouseDownEvent",value:function(){var I=this,Et={x:0,y:0},ct={x:0,y:0},St=!1,xt=[],Ot=function(xe){if(!St){var je=I._getAllEndpoints();je.forEach(function(Me){if(!(xe===Me||Me.type==="source"||Me._tmpType==="source")){if(Me.canLink&&Me.canLink(xe)){Me.linkable&&(Me.linkable(),Me._linkable=!0);return}if((0,tt.default)(xe.scope,Me.scope)){Me.linkable&&(Me.linkable(),Me._linkable=!0),xt.push(Me);return}}}),St=!0}},_t=function(){St=!1,xt.forEach(function(xe){xe.unLinkable&&xe.unLinkable(),xe.unHoverLinkable&&xe.unHoverLinkable(),xe._linkable=!1}),xt=[]},Bt=null,re=!1,Gt=function(xe,je){re||(re=!0,setTimeout(function(){var Me=I._getAllEndpoints(),Ue=I._coordinateService._terminal2canvas("x",xe),Sn=I._coordinateService._terminal2canvas("y",je),Ke=null;Me.forEach(function(mn){var Bn=mn._posLeft+mn._width+(bt.get(mn,"expandArea.right")||I.theme.endpoint.expandArea.right),Zn=mn._posTop+mn._height+(bt.get(mn,"expandArea.bottom")||I.theme.endpoint.expandArea.bottom),ir=mn._posLeft-(bt.get(mn,"expandArea.left")||I.theme.endpoint.expandArea.left),Sr=mn._posTop-(bt.get(mn,"expandArea.top")||I.theme.endpoint.expandArea.top);Ue>ir&&Ue<Bn&&Sn>Sr&&Sn<Zn&&(Ke=mn)}),Ke?Ke!==Bt&&(Ke.hoverLinkable&&Ke.hoverLinkable(),Bt=Ke):Bt&&(Bt.unHoverLinkable&&Bt.unHoverLinkable(),Bt=null),re=!1},100))},De=function(){I._dragType=null,I._dragNode=null,I._dragEndpoint=null,I._dragGroup=null,I._dragPathEdge=null,I._dragEdges=[],I._mouseMoved=!1,ct={x:0,y:0},Et={x:0,y:0},I._autoMoveDir=[],I._guidelineService.isActive&&I._guidelineService.clearCanvas()},te={timer:0,x:0,y:0},he=function(xe){var je=0;if(I._mouseMoved=!1,xe.button===je&&!I._isFocusing){if(!I._dragType&&I.moveable&&(I._dragType="canvas:drag",te={timer:new Date().getTime(),x:I._moveData[0],y:I._moveData[1]}),I.isSelectMode){I.canvasWrapper.active(),I._dragType="selectCanvas:drag",I.canvasWrapper.dom.dispatchEvent(new MouseEvent("mousedown",{clientX:xe.clientX,clientY:xe.clientY}));return}Et={x:xe.clientX,y:xe.clientY},I._dragNode&&I._dragNode.__type=="node"&&(pe(I._dragNode.dom).css("z-index",++I._dragNodeZIndex*2-1),bt.get(I._dragNode,"endpoints").forEach(function(Me){pe(Me.dom).css("z-index",I._dragNodeZIndex*2)})),I._dragNode&&I._dragNode.__type=="group"&&(pe(I._dragNode.dom).css("z-index",++I._dragGroupZIndex*2-1),bt.get(I._dragNode,"endpoints").forEach(function(Me){pe(Me.dom).css("z-index",I._dragGroupZIndex*2)})),I.emit("system.drag.start",{dragType:I._dragType,dragNode:I._dragNode,dragEndpoint:I._dragEndpoint,dragEdges:I._dragEdges,dragGroup:I._dragGroup,position:{clientX:xe.clientX,clientY:xe.clientY,canvasX:I._coordinateService._terminal2canvas("x",xe.clientX),canvasY:I._coordinateService._terminal2canvas("y",xe.clientY)}}),I.emit("events",{type:"drag:start",dragType:I._dragType,dragNode:I._dragNode,dragEndpoint:I._dragEndpoint,dragEdges:I._dragEdges,dragGroup:I._dragGroup,position:{clientX:xe.clientX,clientY:xe.clientY,canvasX:I._coordinateService._terminal2canvas("x",xe.clientX),canvasY:I._coordinateService._terminal2canvas("y",xe.clientY)}}),I._autoMoveDir=[]}},He=function(xe){I._mouseMoved=!0;var je=0;if(xe.button===je&&(I.theme.isMouseMoveStopPropagation&&xe.stopPropagation(),I._dragType)){var Me=I._coordinateService._terminal2canvas("x",xe.clientX),Ue=I._coordinateService._terminal2canvas("y",xe.clientY),Sn=xe.clientX-Et.x,Ke=xe.clientY-Et.y;if(I._dragType==="canvas:drag")I.move([Sn+I._moveData[0],Ke+I._moveData[1]]),Et={x:xe.clientX,y:xe.clientY};else if(I._dragType==="node:drag"){if(ct.x===0&&ct.y===0){ct={x:Me,y:Ue};return}if(I._dragNode){var mn=[I._dragNode],Bn=I._findUnion("nodes",I._dragNode);Bn&&Bn.length>0?(Bn.forEach(function(En){mn=mn.concat(I._unionData[En].nodes)}),mn=bt.uniqBy(mn,"id")):I._rmSystemUnion(),pe(I.svg).css("visibility","hidden"),pe(I.wrapper).css("visibility","hidden"),mn.forEach(function(En){I._moveNode(En,En.left+(Me-ct.x),En.top+(Ue-ct.y)),I._guidelineService.isActive&&I._guidelineService.draw(En,"node")}),pe(I.svg).css("visibility","visible"),pe(I.wrapper).css("visibility","visible"),ct={x:Me,y:Ue},I._hoverGroup(I._dragNode),I.emit("system.node.move",{nodes:mn}),I.emit("events",{type:"node:move",nodes:mn}),I._autoMoveCanvas(xe.clientX,xe.clientY,{type:"node:drag",nodes:mn},function(En){ct.x+=En[0],ct.y+=En[1]})}}else if(I._dragType==="group:drag"){if(ct.x===0&&ct.y===0){ct={x:Me,y:Ue};return}if(I._dragNode){pe(I.svg).css("visibility","hidden"),pe(I.wrapper).css("visibility","hidden");var Zn=I._dragNode;I._moveGroup(Zn,Zn.left+(Me-ct.x),Zn.top+(Ue-ct.y)),I._guidelineService.isActive&&I._guidelineService.draw(Zn,"group"),pe(I.svg).css("visibility","visible"),pe(I.wrapper).css("visibility","visible"),ct={x:Me,y:Ue},I.emit("system.group.move",{group:Zn}),I.emit("events",{type:"group:move",group:Zn}),I._autoMoveCanvas(xe.clientX,xe.clientY,{type:"group:drag",group:Zn},function(En){ct.x+=En[0],ct.y+=En[1]})}}else if(I._dragType==="endpoint:drag"){var ir=I._coordinateService._terminal2canvas("x",xe.clientX),Sr=I._coordinateService._terminal2canvas("y",xe.clientY),Tn=I._dragEndpoint.type==="source"||I._dragEndpoint.type==="onlyConnect"||!I._dragEndpoint.type&&(!I._dragEndpoint._tmpType||I._dragEndpoint._tmpType==="source"),On=(I._dragEndpoint.type==="target"||!I._dragEndpoint.type&&I._dragEndpoint._tmpType==="target")&&I._dragEndpoint.type!=="onlyConnect";if(Tn&&I.linkable){var Un=I._findUnion("endpoints",I._dragEndpoint),vr=[];if(!I._dragEdges||I._dragEdges.length===0){var Tr=I.theme.edge.Class,ur=[];Un&&Un.length>0?(Un.forEach(function(En){ur=ur.concat(I._unionData[En].endpoints)}),ur=bt.uniqBy(ur,function(En){return En.nodeId+"||"+En.id})):ur=[I._dragEndpoint],ur.forEach(function(En){var br,Hr=En.nodeType==="node"?I.getNode(En.nodeId):I.getGroup(En.nodeId),Q=En,X=(br={type:"endpoint"},Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(br,"type",I.theme.edge.type),"shapeType",I.theme.edge.shapeType),"hasRadius",I.theme.edge.hasRadius),"radius",I.theme.edge.radius),"orientationLimit",I.theme.endpoint.position),"_sourceType",En.nodeType),"sourceNode",Hr),"sourceEndpoint",Q),"arrow",I.theme.edge.arrow),"arrowShapeType",I.theme.edge.arrowShapeType),Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(br,"arrowPosition",I.theme.edge.arrowPosition),"arrowOffset",I.theme.edge.arrowOffset),"draggable",I.theme.edge.draggable),"label",I.theme.edge.label),"labelPosition",I.theme.edge.labelPosition),"labelOffset",I.theme.edge.labelOffset),"labelUpdateInterval",I.theme.edge.labelUpdateInterval),"isExpandWidth",I.theme.edge.isExpandWidth));X.options=bt.assign({},X,{sourceNode:Hr.id,sourceEndpoint:Q.id});var $=I.edges.filter(function(x){return x.sourceEndpoint.nodeId+x.sourceEndpoint.id===En.nodeId+En.id}).length+1;if($>En.limitNum){console.warn("id为".concat(En.nodeId,"的节点下的id为").concat(En.id,"锚点限制了").concat(En.limitNum,"条连线")),I.emit("system.endpoint.limit",{endpoint:En});return}var m=new Tr(bt.assign(X,{_global:I.global,_on:I.on.bind(I),_emit:I.emit.bind(I)}));m._init({_coordinateService:I._coordinateService}),pe(I.svg).append(m.dom),m.labelDom&&pe(I.wrapper).append(m.labelDom),m.arrowDom&&pe(I.svg).append(m.arrowDom),vr.push(m)}),I._dragEdges=vr}else vr=I._dragEdges;pe(I.svg).css("visibility","hidden"),pe(I.wrapper).css("visibility","hidden");var zr={pos:[ir,Sr]};vr.forEach(function(En){var br=En.sourceEndpoint._posLeft+En.sourceEndpoint._width/2,Hr=En.sourceEndpoint._posTop+En.sourceEndpoint._height/2,Q={pos:[br,Hr],orientation:En.sourceEndpoint.orientation};En.redraw(Q,zr)}),pe(I.svg).css("visibility","visible"),pe(I.wrapper).css("visibility","visible"),I.theme.endpoint.linkableHighlight&&(Ot(I._dragEndpoint),Gt(xe.clientX,xe.clientY)),I._autoMoveCanvas(xe.clientX,xe.clientY,{type:"endpoint:drag",edges:vr},function(En){vr.forEach(function(br){var Hr=br.sourceEndpoint._posLeft+br.sourceEndpoint._width/2,Q=br.sourceEndpoint._posTop+br.sourceEndpoint._height/2,X={pos:[Hr,Q],orientation:br.sourceEndpoint.orientation};zr.pos[0]+=En[0],zr.pos[1]+=En[1],br.redraw(X,zr)})}),I.emit("system.drag.move",{dragType:I._dragType,pos:[xe.clientX,xe.clientY],dragNode:I._dragNode,dragEndpoint:I._dragEndpoint,dragEdges:vr}),I.emit("events",{type:"drag:move",dragType:I._dragType,pos:[xe.clientX,xe.clientY],dragNode:I._dragNode,dragEndpoint:I._dragEndpoint,dragEdges:vr})}else if(On&&I.disLinkable){for(var Ye=null,Kn=I.edges.length-1;Kn>=0;Kn--)if(I._dragEndpoint.id===bt.get(I.edges,[Kn,"targetEndpoint","id"])&&I._dragEndpoint.nodeId===bt.get(I.edges,[Kn,"targetNode","id"])){Ye=I.edges[Kn];break}if(Ye&&I._dragEdges.length===0&&(Ye._isDeletingEdge=!0,I._dragEdges=[Ye]),I._dragEdges.length!==0){var or=I._dragEdges[0],Dn=or.sourceEndpoint._posLeft+or.sourceEndpoint._width/2,Ar=or.sourceEndpoint._posTop+or.sourceEndpoint._height/2,_r={pos:[Dn,Ar],orientation:or.sourceEndpoint.orientation},Kr={pos:[ir,Sr]};or.redraw(_r,Kr)}I.theme.endpoint.linkableHighlight&&(Ot(I._dragEndpoint),Gt(xe.clientX,xe.clientY))}}else if(I._dragType==="link:drag")I._dragPathEdge.edge._updatePath(I._dragPathEdge.path,{x:Me,y:Ue});else if(I._dragType==="node:resize")I._dragNode.resize(Me,Ue);else if(I._dragType==="group:resize"){var Cr=I._getGroupPos(I._dragGroup),Pr=Me-Cr.left,si=Ue-Cr.top;I._dragGroup.setSize(Pr,si)}else I._dragType==="selectCanvas:drag"&&I._autoMoveCanvas(xe.clientX,xe.clientY,{type:"selectCanvas:drag"},function(En){var br=Pt(En,2),Hr=br[0],Q=br[1],X=I.canvasWrapper,$=X.startX,m=X.startY;I.canvasWrapper._changeCanvasInfo({startX:$-Hr,startY:m-Q}),I.canvasWrapper.drawRect()})}},en=function(xe){var je=0;if(xe.button===je){var Me=[];if(_t(),I._dragType==="endpoint:drag"&&I._dragEdges&&I._dragEdges.length!==0){var Ue=I._coordinateService._terminal2canvas("x",xe.clientX),Sn=I._coordinateService._terminal2canvas("y",xe.clientY),Ke=null,mn=bt.concat(I.nodes,I.groups);mn.forEach(function(Ye){Ye.endpoints&&Ye.endpoints.forEach(function(Kn){var or=Kn._posLeft+Kn._width+(bt.get(Kn,"expandArea.right")||I.theme.endpoint.expandArea.right),Dn=Kn._posTop+Kn._height+(bt.get(Kn,"expandArea.bottom")||I.theme.endpoint.expandArea.bottom),Ar=Kn._posLeft-(bt.get(Kn,"expandArea.left")||I.theme.endpoint.expandArea.left),_r=Kn._posTop-(bt.get(Kn,"expandArea.top")||I.theme.endpoint.expandArea.top);Ue>Ar&&Ue<or&&Sn>_r&&Sn<Dn&&(Ke=Kn)})});var Bn=!1;if((!Ke||Ke.type==="source"||Ke._tmpType==="source")&&(Bn=!0),Bn||(Bn=bt.some(I._dragEdges,function(Ye){return!(0,tt.default)(Ye.sourceEndpoint.scope,Ke.scope,bt.get(I,"global.isScopeStrict"))})),Ke&&Ke.limitNum!==void 0){var Zn=I.edges.filter(function(Ye){if(I._dragEdges[0]!==Ye)return Ye.targetEndpoint.nodeId+Ye.targetEndpoint.id===Ke.nodeId+Ke.id}).length+I._dragEdges.length;Zn>Ke.limitNum&&(console.warn("id为".concat(Ke.nodeId,"的节点下的id为").concat(Ke.id,"锚点限制了").concat(Ke.limitNum,"条连线")),I.emit("system.endpoint.limit",{endpoint:Ke}),Bn=!0)}if(Ke&&!I.theme.endpoint.isAllowLinkInSameNode&&I._dragEdges.forEach(function(Ye){if(Ye.sourceEndpoint.nodeId===Ke.nodeId){Bn=!0;return}}),Bn)I._dragEdges.forEach(function(Ye){Ye._isDeletingEdge?I.removeEdge(Ye):Ye.destroy(!Ye._isDeletingEdge)}),I._dragEdges.forEach(function(Ye){if(bt.get(Ye,"sourceEndpoint._tmpType")==="source"){var Kn=bt.some(I.edges,function(Dn){return Ye.sourceNode.id===Dn.sourceNode.id&&Ye.sourceEndpoint.id===Dn.sourceEndpoint.id});!Kn&&(Ye.sourceEndpoint._tmpType=void 0)}if(bt.get(Ye,"targetEndpoint._tmpType")==="target"){var or=bt.some(I.edges,function(Dn){return Ye.targetNode.id===Dn.targetNode.id&&Ye.targetEndpoint.id===Dn.targetEndpoint.id});!or&&(Ye.targetEndpoint._tmpType=void 0)}});else{var ir=[],Sr=[],Tn=I._dragEdges.filter(function(Ye){if(!I.theme.edge.isRepeat){var Kn=bt.some(I.edges,function(Cr){var Pr=!1;return Ye.sourceNode&&(Cr.type==="node"?Pr=Ye.sourceNode.id===Cr.sourceNode.id:Pr=Ye.sourceNode.id===Cr.sourceNode.id&&Ye.sourceEndpoint.id===Cr.sourceEndpoint.id),Pr&&Ke.nodeId&&(Cr.type==="node"?Pr=Pr&&bt.get(Ye,"targetNode.id")===bt.get(Cr,"targetNode.id"):Pr=Pr&&Ke.nodeId===bt.get(Cr,"targetNode.id")&&Ke.id===bt.get(Cr,"targetEndpoint.id")),Pr&&Ye._isDeletingEdge&&(Pr=!1),Pr});if(Kn)return console.warn("id为".concat(Ye.sourceEndpoint.id,"-").concat(Ke.id,"的线条连接重复，请检查")),Ye.destroy(),!1}var or=bt.get(Ye,"targetNode.id"),Dn=bt.get(Ye,"targetEndpoint.id"),Ar=Ke.nodeType==="node"?I.getNode(Ke.nodeId):I.getGroup(Ke.nodeId),_r=Ke;or&&Dn&&"".concat(or,"||").concat(Dn)!=="".concat(Ar.id,"||").concat(_r.id)?(ir.push(bt.cloneDeep(Ye)),Sr.push({edge:Ye,preTargetNodeId:or,preTargetPointId:Dn,currentTargetNodeId:Ar.id,currentTargetPointId:_r.id}),Ye.targetEndpoint.connectedNum-=1,Ke.connectedNum+=1):(Ye.sourceEndpoint.connectedNum+=1,Ke.connectedNum+=1),Ye._create({id:Ye.id&&!Ye._isDeletingEdge?Ye.id:"".concat(Ye.sourceEndpoint.id,"-").concat(Ke.id),targetNode:Ar,_targetType:Ke.nodeType,targetEndpoint:_r,type:"endpoint"});var Kr=Ye.isConnect?Ye.isConnect():!0;return Kr?(Ye._isDeletingEdge?delete Ye._isDeletingEdge:(Ye.mounted&&Ye.mounted(),I.edges.push(Ye)),Ye.type==="endpoint"&&!bt.get(Ye,"sourceEndpoint.type")&&!bt.get(Ye,"sourceEndpoint._tmpType")&&(Ye.sourceEndpoint._tmpType="source"),Ye.type==="endpoint"&&!bt.get(Ye,"targetEndpoint.type")&&!bt.get(Ye,"targetEndpoint._tmpType")&&(Ye.targetEndpoint._tmpType="target"),or&&Dn&&"".concat(or,"||").concat(Dn)==="".concat(Ar.id,"||").concat(_r.id)?!1:Ye):(console.warn("id为".concat(Ye.sourceEndpoint.id,"-").concat(Ke.id,"的线条无法连接，请检查")),Ye.destroy(),!1)});ir.length!==0&&Tn.length!==0?(I.pushActionQueue({type:"system:reconnectEdges",data:{delLinks:ir,addLinks:Tn,info:Sr}}),I.emit("system.link.reconnect",{delLinks:ir,addLinks:Tn,info:Sr}),I.emit("events",{type:"link:reconnect",delLinks:ir,addLinks:Tn,info:Sr})):(ir.length!==0&&ir.forEach(function(Ye){I.pushActionQueue({type:"system:removeEdges",data:ir}),I.emit("system.link.delete",{link:Ye}),I.emit("events",{type:"link:delete",link:Ye})}),Tn.length!==0&&(I.pushActionQueue({type:"system:addEdges",data:I._dragEdges}),I.emit("system.link.connect",{links:I._dragEdges}),I.emit("events",{type:"link:connect",links:I._dragEdges})))}}if((I._dragType==="node:drag"||I._dragType==="group:drag")&&I._dragNode){var On=I._dragType==="node:drag"?"node":"group",Un=I._dragNode,vr=function(Kn){var or=null,Dn=null,Ar=Kn.left,_r=Kn.left+Kn.getWidth(),Kr=Kn.top,Cr=Kn.top+Kn.getHeight();if(Kn.group){var Pr=I.getGroup(Kn.group);or=Pr;for(var si=Kn;si.group;){var En=I.getGroup(si.group),br=En.left,Hr=En.top;Ar+=br,Kr+=Hr,_r+=br,Cr+=Hr,si=En}}I._hoverGroup(Un),Dn||(Dn=I._findGroupByCoordinates(Kn,Ar,Kr,_r,Cr));var Q=[];if(or){if(or!==Dn){var X=On==="node"?I.removeNode(Un.id,!0,!0):I.removeGroup(Un.id,!0),$=On==="node"?X.nodes[0]:X.group;Q=X.edges;var m={top:Kr,left:Ar,dom:$.dom,_isDeleteGroup:!0},x=I.actionQueue[I.actionQueueIndex];if(x&&x.type==="system:moveNodes"&&(x.data._isDraging=!0),I.pushActionQueue({type:"system:groupRemoveMembers",data:{group:or,nodes:On==="node"?[$]:[],groups:On==="group"?[$]:[],_isDraging:!0}}),I.emit("events",{type:"system.group.removeMembers",group:or,nodes:On==="node"?[$]:[],groups:On==="group"?[$]:[]}),I.emit("system.group.removeMembers",{group:or,nodes:On==="node"?[$]:[],groups:On==="group"?[$]:[]}),Dn)if((0,tt.default)(Un.scope,Dn.scope,bt.get(I,"global.isScopeStrict"))){for(var S=Dn;S;)m.top-=S.top,m.left-=S.left,S=I.getGroup(S.group);m.group=Dn.id,m._isDeleteGroup=!1,I.popActionQueue(),I.pushActionQueue({type:"system:groupAddMembers",data:{sourceGroup:or,targetGroup:Dn,nodes:On==="node"?[$]:[],groups:On==="group"?[$]:[],_isDraging:!0}}),I.emit("events",{type:"system.group.addMembers",nodes:On==="node"?[$]:[],groups:On==="group"?[$]:[],group:Dn}),I.emit("system.group.addMembers",{nodes:On==="node"?[$]:[],groups:On==="group"?[$]:[],group:Dn}),I._clearHoverGroup(Dn)}else console.warn("nodeId为".concat(I._dragNode.id,"的节点和groupId").concat(Dn.id,"的节点组scope值不符，无法加入"));$._init(m),On==="node"?I.addNode($,!0):(I.addGroup($,X.groups.concat(X.nodes),{notResize:!0,notAdaptorPos:!0},!0),X.edges.length>0&&I.addEdges(X.edges,!0))}}else if(Dn)if((0,tt.default)(Un.scope,Dn.scope,bt.get(I,"global.isScopeStrict"))){var it=On==="node"?I.removeNode(Un.id,!0,!0):I.removeGroup(Un.id,!0),at=On==="node"?it.nodes[0]:it.group;Q=it.edges;var ht=I._getGroupPos(Dn);at._init({top:Kr-ht.top,left:Ar-ht.left,dom:at.dom,group:Dn.id}),On==="node"?I.addNode(at,!0):(I.addGroup(at,it.groups.concat(it.nodes),{notResize:!0,notAdaptorPos:!0,posType:"absolute"},!0),it.edges.length>0&&I.addEdges(it.edges,!0));var ut=I.actionQueue[I.actionQueueIndex];ut&&ut.type==="system:moveNodes"&&(ut.data._isDraging=!0),I.pushActionQueue({type:"system:groupAddMembers",data:{sourceGroup:void 0,targetGroup:Dn,nodes:On==="node"?[at]:[],groups:On==="group"?[at]:[],_isDraging:!0}}),I.emit("events",{type:"system.group.addMembers",nodes:On==="node"?[at]:[],groups:On==="group"?[at]:[],group:Dn}),I.emit("system.group.addMembers",{nodes:On==="node"?[at]:[],groups:On==="group"?[at]:[],group:Dn}),I._clearHoverGroup(Dn)}else console.warn("nodeId为".concat(I._dragNode.id,"的节点和groupId").concat(Dn.id,"的节点组scope值不符，无法加入"));Q.forEach(function(Nt){Nt.redraw()}),Un.endpoints.forEach(function(Nt){Nt.updatePos&&Nt.updatePos()}),Un._isMoving=!1},Tr=[Un],ur=I._findUnion("".concat(On,"s"),Un);ur&&ur.length>0&&(ur.forEach(function(Ye){Tr=Tr.concat(I._unionData[Ye]["".concat(On,"s")])}),Tr=bt.uniqBy(Tr,"id")),Tr.forEach(function(Ye){vr(Ye)}),Me=Tr,I._rmSystemUnion()}if(I._dragType==="group:resize"&&I._dragGroup&&(I.emit("events",{type:"system.group.resize",group:I._dragGroup}),I.emit("system.group.resize",{group:I._dragGroup})),!I.isSelectMode&&I._dragType==="canvas:drag"){var zr={timer:new Date().getTime(),x:I._moveData[0],y:I._moveData[1]};(zr.timer-te.timer<300||Math.abs(te.x-zr.x)<20&&Math.abs(te.y-zr.y)<20)&&(I.emit("system.canvas.click"),I.emit("events",{type:"canvas:click"}))}I._mouseMoved&&(I._dragType==="node:drag"||I._dragType==="group:drag")&&I.pushActionQueue({type:"_system:dragNodeEnd"}),I.emit("system.drag.end",{dragType:I._dragType,dragNode:I._dragNode,dragEndpoint:I._dragEndpoint,dragEdges:I._dragEdges,dragGroup:I._dragGroup,unionItems:Me}),I.emit("events",{type:"drag:end",dragType:I._dragType,dragNode:I._dragNode,dragEndpoint:I._dragEndpoint,dragEdges:I._dragEdges,dragGroup:I._dragGroup,unionItems:Me}),De()}},qe=function(xe){I._dragEdges&&I._dragEdges.length>0&&(I._dragEdges.forEach(function(je){je._isDeletingEdge?I.removeEdge(je):je.destroy(!je._isDeletingEdge)}),I.emit("system.drag.mouseleave",{edges:I._dragEdges}),I.emit("events",{type:"drag:mouseleave",edges:I._dragEdges})),De()};this.root.addEventListener("mousedown",he),this.root.addEventListener("mousemove",He),this.root.addEventListener("mouseup",en),this.root.addEventListener("mouseleave",function(ze){var xe=ze.toElement;if(xe){var je=bt.get(xe,"className");je&&typeof je=="string"&&je.indexOf("butterfly-tooltip")===-1&&qe()}})}},{key:"getNode",value:function(I){var Et=this._cache.nodes[I];return Et||(Et=bt.find(this.nodes,function(ct){return ct.id===I}),Et&&(this._cache.nodes[Et.id]=Et)),Et}},{key:"addNodes",value:function(I,Et,ct){var St=this,xt=document.createDocumentFragment(),Ot=pe(this.wrapper),_t=I.filter(function(Bt){if(Bt.group){var re=St.getGroup(Bt.group);if(!re)return console.warn("\bnodeId为".concat(Bt.id,"的节点找不到groupId为").concat(Bt.group,"的节点组，因此无法渲染")),!1}return!0}).map(function(Bt){var re=null;if(Bt instanceof a.default||Bt.__type==="node")re=Bt;else{var Gt=Bt.Class||St._NodeClass;re=new Gt(bt.assign({},St.global.isCloneDeep?bt.cloneDeep(Bt):Bt,{_global:St.global,_on:St.on.bind(St),_emit:St.emit.bind(St),_virtualScrollUtil:St._virtualScrollUtil,_endpointLimitNum:St.theme.endpoint.limitNum,draggable:Bt.draggable!==void 0?Bt.draggable:St.draggable}))}if(St._isExistNode(re)){console.warn("node:".concat(re.id," has existed"));return}var De={};re.dom&&(De.dom=re.dom),re._init(De),St.nodes.push(re),St.virtualScroll.enable&&!re.group&&(re.virtualHidden=!0,pe(re.dom).css("visibility","hidden"));var te=re.group?St.getGroup(re.group):null;return te?(0,tt.default)(re.scope,te.scope,bt.get(St,"global.isScopeStrict"))?te._appendChildren([re]):console.warn("nodeId为".concat(re.id,"的节点和groupId").concat(te.id,"的节点组scope值不符，无法加入")):xt.appendChild(re.dom),St._cache.nodes[re.id]=re,re}).filter(function(Bt){return!!Bt});return Ot.append(xt),_t.forEach(function(Bt){Bt._createEndpoint(Et),pe(Bt.dom).css("z-index",St._dragNodeZIndex*2-1),bt.get(Bt,"endpoints").forEach(function(re){pe(re.dom).css("z-index",St._dragNodeZIndex*2)}),!Et&&Bt.mounted&&Bt.mounted()}),_t&&_t.length>0&&!Et&&(this.pushActionQueue({type:"system:addNodes",data:_t}),this.emit("system.nodes.add",{nodes:_t}),this.emit("events",{type:"nodes:add",nodes:_t})),this.virtualScroll.enable&&!ct&&this._virtualScrollUtil.redraw(),_t}},{key:"addNode",value:function(I,Et){return this.addNodes([I],Et)[0]}},{key:"removeNode",value:function(I,Et,ct){return this.removeNodes([I],Et,ct)}},{key:"removeNodes",value:function(I,Et,ct){var St=this,xt=[];xt=I.map(function(Bt){return Bt instanceof a.default?Bt.id:Bt});var Ot=[],_t=[];return xt.forEach(function(Bt){var re=bt.findIndex(St.nodes,function(He){return He.id===Bt});if(re===-1){console.warn("找不到id为：".concat(Bt,"的节点"));return}var Gt=St.getNeighborEdges(Bt);Et||St.removeEdges(Gt,!0,!0);var De=St.nodes[re];De.destroy(ct);var te=St.nodes.splice(re,1);if(De.group){var he=St.getGroup(De.group);he&&(he.nodes=he.nodes.filter(function(He){return He.id!==De.id}))}te.length>0&&(Ot=Ot.concat(te),_t=_t.concat(Gt)),delete St._cache.nodes[Bt]}),Ot.length>0&&(ct||(this.pushActionQueue({type:"system:removeNodes",data:{nodes:Ot,edges:_t}}),this.emit("system.nodes.delete",{nodes:Ot,edges:_t}),this.emit("events",{type:"nodes:delete",nodes:Ot,edges:_t}))),this.virtualScroll.enable&&this._virtualScrollUtil.removeNodes({nodes:Ot,edges:_t}),{nodes:Ot,edges:_t}}},{key:"getNeighborNodes",value:function(I){var Et=this,ct={},St=bt.find(this.nodes,function(xt){return I===xt.id});return St||console.warn("找不到id为".concat(I,"的节点")),this.edges.forEach(function(xt){xt.sourceNode&&xt.sourceNode.id===I?ct[xt.targetNode.id]=!0:xt.targetNode&&xt.targetNode.id===I&&(ct[xt.sourceNode.id]=!0)}),Object.keys(ct).map(function(xt){return Et.getNode(xt)})}},{key:"getNeighborNodesAndEdgesByLevel",value:function(I){var Et=I.node,ct=I.endpoint,St=I.type,xt=St===void 0?"out":St,Ot=I.level,_t=Ot===void 0?1/0:Ot,Bt=I.iteratee,re=Bt===void 0?function(){return!0}:Bt;if(!Et||!this.nodes.length)return{nodes:[],edges:[]};if(_t==0||!this.edges.length)return{nodes:[Et],edges:[]};var Gt=[],De=new Set,te=this._getAdjcentTable(xt);if(ct?Gt=bt.get(te,[Et.id,ct.id],[]).map(function(qe){return[].concat(jt(qe),[1])}):Gt=(Object.values(bt.get(te,Et.id,{}))||[]).flatMap(function(qe){return qe.map(function(ze){return ze.concat(1)})}),De.add(Et.id),!Gt.length)return{nodes:[Et],edges:[]};for(var he=function(){var ze=Gt.shift(),xe=Pt(ze,3),je=xe[0],Me=xe[1],Ue=xe[2];if(De.has(je.id)||Ue>_t||!re(je,Me,Ue))return 1;(Object.values(bt.get(te,je.id,{}))||[]).forEach(function(Sn){Sn.forEach(function(Ke){var mn=Pt(Ke,2),Bn=mn[0];mn[1],!De.has(Bn.id)&&Gt.push([].concat(jt(Ke),[Ue+1]))})}),De.add(je.id)};Gt.length;)he();var He=new Set,en=new Set;return this.edges.forEach(function(qe){var ze=qe.sourceNode;qe.sourceEndpoint;var xe=qe.targetNode;qe.targetEndpoint,De.has(ze.id)&&De.has(xe.id)&&(He.add(ze),He.add(xe),en.add(qe))}),{nodes:jt(He),edges:jt(en)}}},{key:"_getAdjcentTable",value:function(I){var Et={};return this.edges.forEach(function(ct){var St=ct.sourceNode,xt=ct.sourceEndpoint,Ot=ct.targetNode,_t=ct.targetEndpoint,Bt=St.id,re=xt.id,Gt=Ot.id,De=_t.id;I!=="out"&&(Et[Gt]||(Et[Gt]={}),Et[Gt][De]||(Et[Gt][De]=[]),Et[Gt][De].push([St,xt])),I!=="in"&&(Et[Bt]||(Et[Bt]={}),Et[Bt][re]||(Et[Bt][re]=[]),Et[Bt][re].push([Ot,_t]))}),this.nodes.forEach(function(ct){Et[ct.id]||(Et[ct.id]={})}),Et}},{key:"_isExistNode",value:function(I){var Et=this.nodes.filter(function(ct){return ct.id===I.id});return Et.length>0}},{key:"_moveNode",value:function(I,Et,ct,St){var xt=!!I.group;if(xt){var Ot=this.getGroup(I.group),_t=Ot.type||this.theme.group.type;if(_t==="inner"){var Bt=pe(Ot.dom).width(),re=pe(Ot.dom).height(),Gt=pe(I.dom).width(),De=pe(I.dom).height();if(Et<0||Et+Gt>Bt||ct<0||ct+De>re)return}}St||this.pushActionQueue({type:"system:moveNodes",data:{node:I,top:ct,left:Et}}),I._moveTo(Et,ct),I.endpoints&&I.endpoints.forEach(function(te){te.updatePos()}),this.edges.forEach(function(te){if(te.type==="endpoint"){var he=bt.find(I.endpoints,function(en){return en.nodeId===te.sourceNode.id&&!!te.sourceNode.getEndpoint(en.id,"source")||en.nodeId===te.targetNode.id&&!!te.targetNode.getEndpoint(en.id,"target")});he&&(te._hasDragged=!1,te._breakPoints=[],te.redraw())}else if(te.type==="node"){var He=te.sourceNode.id===I.id||te.targetNode.id===I.id;He&&(te._hasDragged=!1,te._breakPoints=[],te.redraw())}})}},{key:"_addEndpoint",value:function(I,Et,ct){var St={nodeType:Et,_coordinateService:this._coordinateService};if(I._init(St),!I._isInitedDom){var xt=I.dom;if(bt.get(I,"_node.group")){var Ot=this.getGroup(I._node.group);pe(Ot.dom).append(xt)}else pe(this.wrapper).prepend(xt);var _t=pe(I._node.dom).attr("z-index");pe(xt).css("z-index",_t),I.updatePos()}I.mounted&&I.mounted()}},{key:"_getAllEndpoints",value:function(){var I=[];return I=I.concat(this.nodes.map(function(Et){return Et.endpoints})),I=I.concat(this.groups.map(function(Et){return Et.endpoints})),I=I.filter(function(Et){return!!Et}),bt.flatten(I)}},{key:"getGroup",value:function(I){return bt.find(this.groups,function(Et){return Et.id===I})}},{key:"addGroup",value:function(I,Et,ct,St,xt){var Ot=this,_t=pe(this.wrapper),Bt=I.Class||this._GroupClass,re=[],Gt=bt.get(ct,"posType")==="absolute",De=bt.get(ct,"notResize"),te=bt.get(ct,"notAdaptorPos"),he=null;if(I instanceof y.default?he=I:he=new Bt(bt.assign({},this.isCloneDeep?bt.cloneDeep(I):I,{_global:this.global,_emit:this.emit.bind(this),_on:this.on.bind(this),_virtualScrollUtil:this._virtualScrollUtil,_endpointLimitNum:this.theme.endpoint.limitNum,draggable:I.draggable!==void 0?I.draggable:this.draggable})),this._isExistGroup(he)){console.warn("group:".concat(he.id," has existed"));return}if(this.theme.group.includeGroups||(delete he.group,delete he._group),he._init(),this.virtualScroll.enable&&!he.group&&(he.virtualHidden=!0,pe(he.dom).css("visibility","hidden")),he.group){var He=this.getGroup(he.group);if(!He){console.warn("\bgroupId为".concat(he.id,"的节点组找不到groupId为").concat(node.group,"的节点组，因此无法渲染"));return}(0,tt.default)(he.scope,He.scope,bt.get(this,"global.isScopeStrict"))?He._appendChildren([he]):console.warn("groupId为".concat(he.id,"的节点组和groupId").concat(He.id,"的节点组scope值不符，无法加入")),he.endpoints.forEach(function(Ue){Ue.updatePos()})}else _t.prepend(he.dom);if(he._createEndpoint(),he.mounted&&he.mounted(),this.groups.push(he),Et&&Et.length>0){if(Et=Et.filter(function(Ue){return(0,tt.default)(Ue.scope,he.scope,bt.get(Ot,"global.isScopeStrict"))&&(Ue.group===he.id||Ue.group==null)}),!te){var en=1/0,qe=1/0;Et.forEach(function(Ue){Gt||(Ue.left<en&&(en=Ue.left),Ue.top<qe&&(qe=Ue.top))}),he._moveTo(en-bt.get(ct,"padding",5),qe-bt.get(ct,"padding",5))}if(re=Et.map(function(Ue){var Sn=null;if(Ue.__type==="node"){var Ke=Ot.getNode(Ue.id);if(Ke){var mn=Ot._getGroupPos(he);Ot.removeNode(Ke.id,!0,!0),Ke._init({dom:Ke.dom,top:Ke.top-mn.top,left:Ke.left-mn.left,group:he.id}),Sn=Ot.addNode(Ke,!0)}else{var Bn=null;if(Ue instanceof a.default||Ue.__type==="node")Bn=Ue;else{var Zn=Ue.Class||Ot._NodeClass;Bn=new Zn(bt.assign({},Ot.global.isCloneDeep?bt.cloneDeep(Ue):Ue,{_global:Ot.global,_on:Ot.on.bind(Ot),_emit:Ot.emit.bind(Ot),_virtualScrollUtil:Ot._virtualScrollUtil,_endpointLimitNum:Ot.theme.endpoint.limitNum,draggable:Ue.draggable!==void 0?Ue.draggable:Ot.draggable}))}Gt||(Bn.top=Bn.top-he.top,Bn.left=Bn.left-he.left),Bn.group=he.id,Sn=Ot.addNode(Bn)}}else{var ir=Ot.getGroup(Ue.id);if(ir){var Sr=Ot.removeGroup(ir.id,!0);ir._init({dom:ir.dom,top:ir.top-he.top,left:ir.left-he.left,group:he.id}),Sn=Ot.addGroup(ir,[],{},!0),ir.addNodes(Sr.nodes.map(function(Un){return Un.left-=he.left,Un.top-=he.top,Un}),!0),Ot.addEdges(Sr.edges||[],!0)}else{var Tn=null;if(Ue instanceof y.default||Ue.__type==="group")Tn=Ue;else{var On=Ue.Class||Ot._GroupClass;_newGroupObj=new On(bt.assign({},Ot.global.isCloneDeep?bt.cloneDeep(Ue):Ue,{_global:Ot.global,_on:Ot.on.bind(Ot),_emit:Ot.emit.bind(Ot),_virtualScrollUtil:Ot._virtualScrollUtil,_endpointLimitNum:Ot.theme.endpoint.limitNum,draggable:Ue.draggable!==void 0?Ue.draggable:Ot.draggable}))}Gt||(_newGroupObj.top=_newGroupObj.top-Tn.top,_newGroupObj.left=_newGroupObj.left-Tn.left),_newGroupObj.group=_newGroupObj.id,Sn=Ot.addGroup(_newGroupObj)}}return Sn}),!De){var ze=-1/0,xe=-1/0;re.forEach(function(Ue){var Sn=pe(Ue.dom).width(),Ke=pe(Ue.dom).height();ze<Ue.left+Sn&&(ze=Ue.left+Sn),xe<Ue.top+Ke&&(xe=Ue.top+Ke)}),he.setSize(ze+bt.get(ct,"padding",5)*2,xe+bt.get(ct,"padding",5)*2)}}if(!St){var je=[],Me=[];re.forEach(function(Ue){Ue.__type==="node"?je.push(Ue):Me.push(Ue)}),this.pushActionQueue({type:"system:addGroups",data:[{group:he,nodes:je,groups:Me}]}),this.emit("system.group.add",{group:he,addNodes:je,addGroups:Me}),this.emit("events",{type:"group:add",group:he,addNodes:je,addGroups:Me})}return this.virtualScroll.enable&&!xt&&this._virtualScrollUtil.redraw(),he}},{key:"addGroups",value:function(I,Et,ct){var St=this,xt=function(Bt){var re={};return Bt.forEach(function(Gt){re[Gt.id]===void 0?re[Gt.id]=0:re[Gt.id]++,Gt.group&&(re[Gt.group]===void 0?re[Gt.group]=0:re[Gt.group]++)}),I.sort(function(Gt,De){return re[De.id]-re[Gt.id]})},Ot=xt(I);return Ot=Ot.map(function(_t){return St.addGroup(_t,[],null,Et,!0)}).filter(function(_t){return _t}),this.virtualScroll.enable&&!ct&&this._virtualScrollUtil.redraw(),Ot}},{key:"removeGroup",value:function(I,Et){var ct=this,St=void 0;I instanceof y.default?St=I.id:St=I;var xt=this.getGroup(St);if(!xt){console.warn("未找到id为".concat(St,"的节点组"));return}var Ot=[],_t=this._getGroupPos(xt),Bt=xt.nodes.map(function(te){var he=ct.removeNode(te.id,!0,!0),He=he.nodes[0],en=he.edges;return He._init({top:te.top+_t.top,left:te.left+_t.left,dom:te.dom,_isDeleteGroup:!0}),ct.addNode(He,!0),en.forEach(function(qe){qe.redraw()}),Ot=Ot.concat(en),He}),re=xt.groups.map(function(te){var he=ct.getNeighborEdges(te.id,"group"),He=bt.findIndex(ct.groups,function(en){return en.id===te.id});return ct.groups.splice(He,1),te.destroy(!0),te._init({top:te.top+_t.top,left:te.left+_t.left,dom:te.dom,_isDeleteGroup:!0}),ct.addGroup(te,[],{},!0),te.endpoints.forEach(function(en){en.updatePos()}),he.forEach(function(en){en.redraw()}),te});xt.groups=[];var Gt=this.getNeighborEdges(xt.id,"group");Gt.length>0&&this.removeEdges(Gt,Et,!0);var De=bt.findIndex(this.groups,function(te){return te.id===St});return this.groups.splice(De,1)[0],xt.destroy(Et),Et||this.pushActionQueue({type:"system:removeGroup",data:{group:xt,nodes:Bt||[],groups:re||[]}}),this.virtualScroll.enable&&this._virtualScrollUtil.removeGroup(xt),{group:xt,nodes:Bt||[],edges:Gt||[],groups:re||[]}}},{key:"removeGroups",value:function(){var I=this,Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ct=arguments.length>1?arguments[1]:void 0,St=[];St=Et.map(function(Ot){return Ot instanceof y.default?Ot.id:Ot});var xt=St.map(function(Ot){return I.removeGroup(Ot,ct)});return{groups:xt}}},{key:"_isExistGroup",value:function(I){var Et=this.groups.filter(function(ct){return ct.id===I.id});return Et.length>0}},{key:"_moveGroup",value:function(I,Et,ct,St){St||this.pushActionQueue({type:"system:moveGroups",data:{group:I,top:ct,left:Et}}),I._moveTo(Et,ct);for(var xt=Qt({},I.id,"group"),Ot=[I];Ot.length>0;){var _t=Ot.pop();_t.nodes.length>0&&_t.nodes.forEach(function(Bt){xt[Bt.id]="node"}),_t.groups.length>0&&(_t.groups.forEach(function(Bt){xt[Bt.id]="group"}),Ot=Ot.concat(_t.groups))}this.edges.forEach(function(Bt){var re=bt.get(Bt,"sourceNode.id"),Gt=bt.get(Bt,"targetNode.id"),De=bt.get(Bt,"_sourceType"),te=bt.get(Bt,"_targetType"),he=xt[re]===De||xt[Gt]===te;he&&Bt.redraw()})}},{key:"_findGroupByCoordinates",value:function(I,Et,ct,St,xt){var Ot=this,_t=this.groups;I.__type==="group"&&(_t=this.groups.filter(function(je){return je.id!==I.id}));for(var Bt=[],re=0;re<_t.length;re++){var Gt=_t[re],De=this._getGroupPos(Gt),te=De.left,he=De.left+Gt.getWidth(),He=De.top,en=De.top+Gt.getHeight(),qe=!1;St!==void 0&&xt!==void 0?qe=te<=Et&&he>=St&&He<=ct&&en>=xt:qe=Et>=te&&Et<=he&&ct>=He&&ct<=en,qe&&Bt.push(Gt)}if(Bt.length<=1)return Bt[0];var ze=void 0,xe=-1/0;return Bt.forEach(function(je){var Me=Ot._getGroupPos(je);Me.left>xe&&(xe=Me.left,ze=je)}),ze}},{key:"_hoverGroup",value:function(I){var Et=this;this._hoverGroupQueue.push(I),this._hoverGroupTimer||(this._hoverGroupTimer=setInterval(function(){if(Et._hoverGroupQueue.length===0){clearInterval(Et._hoverGroupTimer),Et._hoverGroupTimer=void 0;return}var ct=Et._hoverGroupQueue.pop(),St=Et._findGroupByCoordinates(ct,ct.left,ct.top);if(St){if(!Et._hoverGroupObj||St.id!==Et._hoverGroupObj.id){var xt=Et._hoverGroupObj&&pe(Et._hoverGroupObj.dom);xt&&xt.removeClass("butterfly-group-hover-valid"),xt&&xt.removeClass("butterfly-group-hover-invalid"),xt&&xt.removeClass("butterfly-group-hover"),St.scope&&St.scope===ct.scope?pe(St.dom).addClass("butterfly-group-hover-valid"):St.scope&&St.scope!==ct.scope&&pe(St.dom).addClass("butterfly-group-hover-invalid"),pe(St.dom).addClass("butterfly-group-hover"),Et._hoverGroupObj=St}}else Et._hoverGroupObj&&pe(Et._hoverGroupObj.dom).removeClass("butterfly-group-hover"),Et._hoverGroupObj&&pe(Et._hoverGroupObj.dom).removeClass("butterfly-group-hover-valid"),Et._hoverGroupObj&&pe(Et._hoverGroupObj.dom).removeClass("butterfly-group-hover-invalid"),Et._hoverGroupObj=void 0;Et._hoverGroupQueue=[]},200))}},{key:"_clearHoverGroup",value:function(I){this._hoverGroupObj&&pe(this._hoverGroupObj.dom).removeClass("butterfly-group-hover"),this._hoverGroupObj&&pe(this._hoverGroupObj.dom).removeClass("butterfly-group-hover-valid"),this._hoverGroupObj&&pe(this._hoverGroupObj.dom).removeClass("butterfly-group-hover-invalid"),this._hoverGroupTimer=void 0,this._hoverGroupObj=void 0,this._hoverGroupQueue=[]}},{key:"_getGroupPos",value:function(I){for(var Et=I,ct=0,St=0;Et;)ct+=Et.top,St+=Et.left,Et=Et._group;return{top:ct,left:St}}},{key:"getEdge",value:function(I){return bt.find(this.edges,function(Et){return Et.id===I})}},{key:"addEdges",value:function(I,Et){var ct=this;pe(this.svg).css("visibility","hidden");var St=document.createDocumentFragment(),xt=document.createDocumentFragment(),Ot=I.map(function(_t){if(!ct.theme.endpoint.isAllowLinkInSameNode&&_t.sourceNode===_t.targetNode){console.warn("butterflies error: isAllowLinkInSameNode is ".concat(ct.theme.endpoint.isAllowLinkInSameNode,". link sourceNodeId = link targetNodeId:").concat(_t.sourceNode));return}if(_t instanceof h.default)return _t._init({_coordinateService:ct._coordinateService}),St.appendChild(_t.dom),_t.eventHandlerDom&&St.appendChild(_t.eventHandlerDom),_t.labelDom&&xt.appendChild(_t.labelDom),_t.arrowDom&&St.appendChild(_t.arrowDom),ct.edges.push(_t),_t.mounted&&_t.mounted(),_t;var Bt=_t.Class||ct.theme.edge.Class,re=null,Gt=null,De=_t._sourceType,te=_t._targetType,he=function(mn,Bn,Zn){var ir=mn.type==="node"||!mn.type?mn[Zn]:mn["".concat(Zn,"Node")];if(Bn==="node")return ct.getNode(ir);if(Bn==="group")return ct.getGroup(ir)};if(_t.sourceNode instanceof a.default||bt.get(_t,"sourceNode.__type")==="node")De="node",re=_t.sourceNode;else if(_t.sourceNode instanceof y.default||bt.get(_t,"sourceNode.__type")==="group")De="group",re=_t.sourceNode;else if(_t._sourceType)re=De==="node"?he(_t,"node","source"):he(_t,"group","source");else{var He=he(_t,"node","source");He?(De="node",re=He):(De="group",re=he(_t,"group","source"))}if(_t.targetNode instanceof a.default||bt.get(_t,"targetNode.__type")==="node")te="node",Gt=_t.targetNode;else if(_t.targetNode instanceof y.default||bt.get(_t,"targetNode.__type")==="group")te="group",Gt=_t.targetNode;else if(_t._targetType)Gt=te==="node"?he(_t,"node","target"):he(_t,"group","target");else{var en=he(_t,"node","target");en?(te="node",Gt=en):(te="group",Gt=he(_t,"group","target"))}if(_t.type==="endpoint"){var qe;if(!re||!Gt){console.warn("butterflies error: can not connect edge. link sourceNodeId:".concat(_t.sourceNode,";link targetNodeId:").concat(_t.targetNode));return}var ze=null,xe=null;if(_t.sourceEndpoint&&(_t.sourceEndpoint instanceof d.default||_t.sourceEndpoint.__type==="endpoint")?ze=_t.sourceEndpoint:ze=re.getEndpoint(_t.source,"source"),_t.targetEndpoint&&(_t.targetEndpoint instanceof d.default||_t.targetEndpoint.__type==="endpoint")?xe=_t.targetEndpoint:xe=Gt.getEndpoint(_t.target,"target"),!ze||!xe){console.warn("butterflies error: can not connect edge. link sourceId:".concat(_t.source,";link targetId:").concat(_t.target));return}if(!ct.theme.edge.isRepeat){var je=bt.some(ct.edges,function(Ke){var mn=!1;return re&&(Ke.type==="node"?mn=re.id===Ke.sourceNode.id:mn=re.id===Ke.sourceNode.id&&ze.id===Ke.sourceEndpoint.id&&De===Ke.sourceEndpoint.nodeType),mn&&Gt&&(Ke.type==="node"?mn=Gt.id===Ke.targetNode.id:mn=Gt.id===Ke.targetNode.id&&xe.id===Ke.targetEndpoint.id&&te===Ke.targetEndpoint.nodeType),mn});if(je){console.warn("id为".concat(ze.id,"-").concat(xe.id,"的线条连接重复，请检查"));return}}var Me=new Bt((qe={type:"endpoint",id:_t.id,label:_t.label},Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(qe,"type",_t.type||ct.theme.edge.type),"shapeType",_t.shapeType||ct.theme.edge.shapeType),"hasRadius",_t.hasRadius||ct.theme.edge.hasRadius),"radius",_t.radius||ct.theme.edge.radius),"orientationLimit",ct.theme.endpoint.position),"isExpandWidth",ct.theme.edge.isExpandWidth),"defaultAnimate",ct.theme.edge.defaultAnimate),"sourceNode",re),"targetNode",Gt),"sourceEndpoint",ze),Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(qe,"targetEndpoint",xe),"arrow",_t.arrow===void 0?bt.get(ct,"theme.edge.arrow"):_t.arrow),"arrowShapeType",_t.arrowShapeType===void 0?bt.get(ct,"theme.edge.arrowShapeType"):_t.arrowShapeType),"arrowPosition",_t.arrowPosition===void 0?bt.get(ct,"theme.edge.arrowPosition"):_t.arrowPosition),"arrowOffset",_t.arrowOffset===void 0?bt.get(ct,"theme.edge.arrowOffset"):_t.arrowOffset),"draggable",_t.draggable===void 0?bt.get(ct,"theme.edge.draggable"):_t.draggable),"labelPosition",_t.labelPosition===void 0?bt.get(ct,"theme.edge.labelPosition"):_t.labelPosition),"labelOffset",_t.labelOffset===void 0?bt.get(ct,"theme.edge.labelOffset"):_t.labelOffset),"labelUpdateInterval",_t.labelUpdateInterval===void 0?bt.get(ct,"theme.edge.labelUpdateInterval"):_t.labelUpdateInterval),"options",_t),Qt(Qt(Qt(Qt(Qt(qe,"_sourceType",De),"_targetType",te),"_global",ct.global),"_on",ct.on.bind(ct)),"_emit",ct.emit.bind(ct))));return Me._init({_coordinateService:ct._coordinateService}),St.appendChild(Me.dom),Me.labelDom&&(pe(Me.labelDom).css("z-index",ct._dragEdgeZindex+1),xt.appendChild(Me.labelDom)),Me.arrowDom&&St.appendChild(Me.arrowDom),ct.edges.push(Me),ze.connectedNum+=1,xe.connectedNum+=1,Me.mounted&&Me.mounted(),ze.type===void 0&&(ze._tmpType="source"),xe.type===void 0&&(xe._tmpType="target"),Me}else{var Ue;if(!re||!Gt){console.warn("butterflies error: can not connect edge. link sourceId:".concat(_t.source,";link targetId:").concat(_t.target));return}var Sn=new Bt((Ue={type:"node",id:_t.id,label:_t.label,sourceNode:re,targetNode:Gt},Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(Ue,"type",_t.type||ct.theme.edge.type),"shapeType",_t.shapeType||ct.theme.edge.shapeType),"hasRadius",_t.hasRadius||ct.theme.edge.hasRadius),"radius",_t.radius||ct.theme.edge.radius),"orientationLimit",ct.theme.endpoint.position),"arrow",_t.arrow===void 0?bt.get(ct,"theme.edge.arrow"):_t.arrow),"arrowShapeType",_t.arrowShapeType===void 0?bt.get(ct,"theme.edge.arrowShapeType"):_t.arrowShapeType),"arrowPosition",_t.arrowPosition===void 0?bt.get(ct,"theme.edge.arrowPosition"):_t.arrowPosition),"arrowOffset",_t.arrowOffset===void 0?bt.get(ct,"theme.edge.arrowOffset"):_t.arrowOffset),"draggable",_t.draggable===void 0?bt.get(ct,"theme.edge.draggable"):_t.draggable),Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt(Ue,"labelPosition",_t.labelPosition===void 0?bt.get(ct,"theme.edge.labelPosition"):_t.labelPosition),"labelOffset",_t.labelOffset===void 0?bt.get(ct,"theme.edge.labelOffset"):_t.labelOffset),"labelUpdateInterval",_t.labelUpdateInterval===void 0?bt.get(ct,"theme.edge.labelUpdateInterval"):_t.labelUpdateInterval),"isExpandWidth",ct.theme.edge.isExpandWidth),"defaultAnimate",ct.theme.edge.defaultAnimate),"options",_t),"_global",ct.global),"_sourceType",De),"_targetType",te),"_on",ct.on.bind(ct)),Qt(Ue,"_emit",ct.emit.bind(ct))));return Sn._init({_coordinateService:ct._coordinateService}),St.appendChild(Sn.dom),Sn.labelDom&&xt.appendChild(Sn.labelDom),Sn.arrowDom&&St.appendChild(Sn.arrowDom),ct.edges.push(Sn),Sn.mounted&&Sn.mounted(),Sn}}).filter(function(_t){return _t});return Ot.forEach(function(_t){var Bt={},re={};if(_t.type==="endpoint")Bt={pos:[_t.sourceEndpoint._posLeft+_t.sourceEndpoint._width/2,_t.sourceEndpoint._posTop+_t.sourceEndpoint._height/2],orientation:_t.sourceEndpoint.orientation?_t.sourceEndpoint.orientation:void 0},re={pos:[_t.targetEndpoint._posLeft+_t.targetEndpoint._width/2,_t.targetEndpoint._posTop+_t.targetEndpoint._height/2],orientation:_t.targetEndpoint.orientation?_t.targetEndpoint.orientation:void 0};else if(_t.type==="node"){var Gt=function(te,he){for(var He=0,en=[te.group];en.length>0;){var qe=en.pop(),ze=ct.getGroup(qe);ze&&(He+=ze[he],ze.group&&en.push(ze.group))}return He};Bt={pos:[_t.sourceNode.left+_t.sourceNode.getWidth(!0)/2+Gt(_t.sourceNode,"left"),_t.sourceNode.top+_t.sourceNode.getHeight(!0)/2+Gt(_t.sourceNode,"top")]},re={pos:[_t.targetNode.left+_t.targetNode.getWidth(!0)/2+Gt(_t.targetNode,"left"),_t.targetNode.top+_t.targetNode.getHeight(!0)/2+Gt(_t.targetNode,"top")]}}_t.redraw(Bt,re)}),this.virtualScroll.enable&&this._virtualScrollUtil.addEdges(Ot,{edgeFragment:St,labelFragment:xt}),pe(this.svg).append(St),pe(this.wrapper).append(xt),Et||(this.pushActionQueue({type:"system:addEdges",data:Ot}),this.emit("system.link.connect",{links:Ot}),this.emit("events",{type:"link:connect",links:Ot})),pe(this.svg).css("visibility","visible"),this._checkEdgesOverlapping(),Ot}},{key:"addEdge",value:function(I,Et){return this.addEdges([I],Et)[0]}},{key:"removeEdges",value:function(I,Et,ct){var St=this,xt=[];return I.forEach(function(Ot){var _t=-1;if(Ot instanceof h.default||Ot.__type==="edge")Ot.sourceEndpoint&&(Ot.sourceEndpoint.connectedNum-=1),Ot.targetEndpoint&&(Ot.targetEndpoint.connectedNum-=1),_t=bt.findIndex(St.edges,function(Bt){return Bt.type==="node"?Ot.sourceNode.id===Bt.sourceNode.id&&Ot.targetNode.id===Bt.targetNode.id:bt.get(Ot,"sourceNode.id")===bt.get(Bt,"sourceNode.id")&&bt.get(Ot,"sourceEndpoint.id")===bt.get(Bt,"sourceEndpoint.id")&&bt.get(Ot,"sourceEndpoint.nodeType")===bt.get(Bt,"sourceEndpoint.nodeType")&&bt.get(Ot,"targetNode.id")===bt.get(Bt,"targetNode.id")&&bt.get(Ot,"targetEndpoint.id")===bt.get(Bt,"targetEndpoint.id")&&bt.get(Ot,"targetEndpoint.nodeType")===bt.get(Bt,"targetEndpoint.nodeType")});else if(bt.isString(Ot))_t=bt.findIndex(St.edges,function(Bt){return Ot===Bt.id});else{console.warn("删除线条错误，传入参数有误，请检查");return}_t!==-1?xt=xt.concat(St.edges.splice(_t,1)):console.warn("删除线条错误，不存在值为".concat(Ot.id,"的线"))}),ct||this.pushActionQueue({type:"system:removeEdges",data:xt}),Et||(this.emit("system.links.delete",{links:xt}),this.emit("events",{type:"links:delete",links:xt})),xt.forEach(function(Ot){Ot.destroy(Et)}),xt.forEach(function(Ot){if(bt.get(Ot,"sourceEndpoint._tmpType")==="source"){var _t=bt.some(St.edges,function(re){return re.type!==Ot.type?!1:re.type==="node"?Ot.sourceNode.id===re.sourceNode.id:Ot.sourceNode.id===re.sourceNode.id&&Ot.sourceEndpoint.id===re.sourceEndpoint.id});!_t&&(Ot.sourceEndpoint._tmpType=void 0)}if(bt.get(Ot,"targetEndpoint._tmpType")==="target"){var Bt=bt.some(St.edges,function(re){return re.type!==Ot.type?!1:re.type==="node"?Ot.targetNode.id===re.targetNode.id:Ot.targetNode.id===re.targetNode.id&&Ot.targetEndpoint.id===re.targetEndpoint.id});!Bt&&(Ot.targetEndpoint._tmpType=void 0)}}),this.virtualScroll.enable&&this._virtualScrollUtil.removeEdges(xt),xt}},{key:"removeEdge",value:function(I,Et,ct){return this.removeEdges([I],Et,ct)[0]}},{key:"getNeighborEdges",value:function(I,Et){var ct=void 0,St=void 0;return Et==="node"?ct=bt.find(this.nodes,function(xt){return I===xt.id}):Et==="group"?St=bt.find(this.groups,function(xt){return I===xt.id}):(ct=bt.find(this.nodes,function(xt){return I===xt.id}),ct&&!Et&&(Et="node"),St=bt.find(this.groups,function(xt){return I===xt.id}),St&&!Et&&(Et="group")),this.edges.filter(function(xt){return Et==="node"?ct&&(bt.get(xt,"sourceNode.id")===ct.id||bt.get(xt,"targetNode.id")===ct.id):St&&(bt.get(xt,"sourceNode.id")===St.id||bt.get(xt,"targetNode.id")===St.id)})}},{key:"getNeighborEdgesByEndpoint",value:function(I,Et){var ct=this.getNeighborEdges(I);return ct.filter(function(St){return St.type==="node"?!1:St.sourceNode.id===I&&St.sourceEndpoint.id===Et||St.targetNode.id===I&&St.targetEndpoint.id===Et})}},{key:"setEdgeZIndex",value:function(){var I=this,Et,ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(ct.length!==0){ct.forEach(function(Gt){Gt._zIndex=St;var De=bt.findIndex(I.edges,function(he){return he===Gt});if(De!==-1){var te=I.edges.splice(De,1);pe(te.dom).detach(),te.eventHandlerDom&&pe(te.eventHandlerDom).detach(),te.arrowDom&&pe(te.arrowDom).detach()}else return});var xt=this._findEdgeIndex(ct[0]),Ot=[];ct.forEach(function(Gt){Ot.push(Gt.dom),Gt.eventHandlerDom&&Ot.push(Gt.eventHandlerDom),Gt.arrowDom&&Ot.push(Gt.arrowDom)});var _t=this.edges[xt],Bt=this.edges[xt+1];if(_t&&!_t.virtualHidden){var re=_t.dom;_t.eventHandlerDom&&(re=_t.eventHandlerDom),_t.arrowDom&&(re=_t.arrowDom),pe(re).after(Ot)}else Bt&&!Bt.virtualHidden?pe(Bt.dom).before(Ot):pe(this.svg).append(Ot);(Et=this.edges).splice.apply(Et,[xt+1,0].concat(jt(ct)))}}},{key:"_findEdgeIndex",value:function(I){var Et=this,ct=0,St=I._zIndex||0;return this.edges.forEach(function(xt,Ot){if(St<(xt._zIndex||0)){ct=Ot;return}Ot===Et.edges.length-1&&(ct=Ot)}),ct}},{key:"_checkEdgesOverlapping",value:function(){var I=this,Et={},ct={};this.edges.forEach(function(St){St.type==="endpoint"?Et["".concat(St.sourceNode.id,"-").concat(St.sourceEndpoint.id,"-").concat(St.targetNode.id,"-").concat(St.targetEndpoint.id)]=St:Et["".concat(St.sourceNode.id,"-").concat(St.targetNode.id)]=St,St._offsetPosLeft=0,St._offsetPosTop=0}),this.edges.forEach(function(St){var xt=!1,Ot="";if(St.type==="endpoint"){if(Ot="".concat(St.targetNode.id,"-").concat(St.targetEndpoint.id,"-").concat(St.sourceNode.id,"-").concat(St.sourceEndpoint.id),xt=!!Et[Ot]&&!ct[Ot],xt){var _t=Et["".concat(St.sourceNode.id,"-").concat(St.sourceEndpoint.id,"-").concat(St.targetNode.id,"-").concat(St.targetEndpoint.id)],Bt=Et["".concat(St.targetNode.id,"-").concat(St.targetEndpoint.id,"-").concat(St.sourceNode.id,"-").concat(St.sourceEndpoint.id)];ct["".concat(St.sourceNode.id,"-").concat(St.sourceEndpoint.id,"-").concat(St.targetNode.id,"-").concat(St.targetEndpoint.id)]=_t,ct["".concat(St.targetNode.id,"-").concat(St.targetEndpoint.id,"-").concat(St.sourceNode.id,"-").concat(St.sourceEndpoint.id)]=Bt;var re=_t.sourceEndpoint.orientation||[];re[0]===0?(_t._offsetPosLeft-=I.theme.edge.overlapGap,Bt._offsetPosLeft+=I.theme.edge.overlapGap):(_t._offsetPosTop-=I.theme.edge.overlapGap,Bt._offsetPosTop+=I.theme.edge.overlapGap)}}else if(Ot="".concat(St.targetNode.id,"-").concat(St.targetNode.id),xt=!!Et[Ot]&&!ct[Ot],xt){var Gt=Et["".concat(St.sourceNode.id,"-").concat(St.targetNode.id)],De=Et["".concat(St.targetNode.id,"-").concat(St.sourceNode.id)];ct["".concat(St.sourceNode.id,"-").concat(St.targetNode.id)]=Gt,ct["".concat(St.targetNode.id,"-").concat(St.sourceNode.id)]=De,!Gt._offsetPosLeft&&(Gt._offsetPosLeft=0),!De._offsetPosLeft&&(De._offsetPosLeft=0),Gt._offsetPosLeft-=I.theme.edge.overlapGap,De._offsetPosLeft+=I.theme.edge.overlapGap}}),Object.keys(ct).forEach(function(St){ct[St].redraw()})}},{key:"_autoLayout",value:function(I){var Et=this._rootWidth,ct=this._rootHeight;if(bt.isFunction(bt.get(this.layout,"type")))this.layout.type(Kt({width:Et,height:ct,data:I},this.layoutOptions));else if(bt.get(this.layout,"type")==="forceLayout"){var St=pe.extend({width:Et,height:ct,center:{x:Et/2,y:ct/2},chargeStrength:-150,link:{id:"id",distance:200,strength:1},collide:{radius:20}},bt.get(this.layout,"options"),!0);bt.get(this.layout,"type")==="forceLayout"&&D.default.forceLayout({opts:St,data:{groups:I.groups,nodes:I.nodes,edges:I.edges.map(function(Bt){return{source:Bt.type==="endpoint"?Bt.sourceNode:Bt.source,target:Bt.type==="endpoint"?Bt.targetNode:Bt.target}}),layers:I.layers}})}else if(bt.get(this.layout,"type")==="dagreLayout")D.default.dagreLayout({rankdir:bt.get(this.layout,"options.rankdir")||"TB",align:bt.get(this.layout,"options.align"),nodeSize:bt.get(this.layout,"options.nodeSize"),nodesepFunc:bt.get(this.layout,"options.nodesepFunc"),ranksepFunc:bt.get(this.layout,"options.ranksepFunc"),nodesep:bt.get(this.layout,"options.nodesep")||50,ranksep:bt.get(this.layout,"options.ranksep")||50,controlPoints:bt.get(this.layout,"options.controlPoints")||!1,data:{nodes:I.nodes,edges:I.edges.map(function(Bt){return{source:Bt.type==="endpoint"?Bt.sourceNode:Bt.source,target:Bt.type==="endpoint"?Bt.targetNode:Bt.target}})}});else if(bt.get(this.layout,"type")==="concentricLayout")D.default.concentLayout({center:bt.get(this.layout,"options.center")||[Et/2,ct/2],nodeSize:bt.get(this.layout,"options.nodeSize")||30,minNodeSpacing:bt.get(this.layout,"options.minNodeSpacing")||10,preventOverlap:bt.get(this.layout,"options.preventOverlap")||!1,sweep:bt.get(this.layout,"options.sweep"),equidistant:bt.get(this.layout,"options.equidistant")||!1,startAngle:3/2*Math.PI,clockwise:bt.get(this.layout,"options.clockwise")||!0,maxLevelDiff:bt.get(this.layout,"options.maxLevelDiff"),sortBy:bt.get(this.layout,"options.sortBy")||"degree",width:Et,height:ct,data:{groups:I.groups,nodes:I.nodes,edges:I.edges.map(function(Bt){return{source:Bt.type==="endpoint"?Bt.sourceNode:Bt.source,target:Bt.type==="endpoint"?Bt.targetNode:Bt.target}})}});else if(bt.get(this.layout,"type")==="circleLayout")D.default.circleLayout({radius:bt.get(this.layout,"options.radius"),getWidth:bt.get(this.layout,"options.getWidth"),getHeight:bt.get(this.layout,"options.getHeight"),data:{nodes:I.nodes,edges:I.edges.map(function(Bt){return{source:Bt.type==="endpoint"?Bt.sourceNode:Bt.source,target:Bt.type==="endpoint"?Bt.targetNode:Bt.target}})}});else if(bt.get(this.layout,"type")==="gridLayout"){var xt=pe.extend({width:bt.get(this.layout,"width")||150,height:bt.get(this.layout,"height")||100,begin:bt.get(this.layout,"begin")||[0,0],center:bt.get(this.layout,"center")||[Et/2,ct/2],preventOverlap:bt.get(this.layout,"preventOverlap")||!0,preventOverlapPadding:bt.get(this.layout,"preventOverlapPadding")||10,condense:bt.get(this.layout,"condense")||!1,rows:bt.get(this.layout,"rows"),cols:bt.get(this.layout,"cols"),position:bt.get(this.layout,"position"),sortBy:bt.get(this.layout,"sortBy")||"degree",nodeSize:bt.get(this.layout,"nodeSize")||30,link:{id:"id",distance:100,strength:1}},bt.get(this.layout,"options"),!0);bt.get(this.layout,"type")==="gridLayout"&&D.default.gridLayout({opts:xt,data:{groups:I.groups,nodes:I.nodes,edges:I.edges.map(function(Bt){return{source:Bt.type==="endpoint"?Bt.sourceNode:Bt.source,target:Bt.type==="endpoint"?Bt.targetNode:Bt.target}})}})}else if(bt.get(this.layout,"type")==="fruchterman"){var Ot=pe.extend({width:Et,height:ct,maxIteration:1e3,center:[Et/2,ct/2],gravity:5,speed:5,clustering:!1,clusterGravity:10,link:{id:"id",distance:100,strength:1}},bt.get(this.layout,"options"),!0);bt.get(this.layout,"type")==="fruchterman"&&D.default.fruchterman({opts:Ot,data:{groups:I.groups,nodes:I.nodes,edges:I.edges.map(function(Bt){return{source:Bt.type==="endpoint"?Bt.sourceNode:Bt.source,target:Bt.type==="endpoint"?Bt.targetNode:Bt.target}})}})}else if(bt.get(this.layout,"type")==="radial"){var _t=pe.extend({width:bt.get(this.layout,"options.width")||500,height:bt.get(this.layout,"options.height")||500,maxIteration:bt.get(this.layout,"options.maxIteration")||1e3,center:bt.get(this.layout,"options.center")||[Et/2,ct/2],focusNode:bt.get(this.layout,"options.focusNode")||null,unitRadius:bt.get(this.layout,"options.unitRadius")||null,linkDistance:bt.get(this.layout,"options.linkDistance")||50,preventOverlap:bt.get(this.layout,"options.preventOverlap")||!1,nodeSize:bt.get(this.layout,"options.nodeSize")||void 0,nodeSpacing:bt.get(this.layout,"options.nodeSpacing")||void 0,strictRadial:bt.get(this.layout,"options.strictRadial")||!0,maxPreventOverlapIteration:bt.get(this.layout,"options.maxPreventOverlapIteration")||200,sortBy:bt.get(this.layout,"options.sortBy")||void 0,sortStrength:bt.get(this.layout,"options.sortStrength")||10,link:{id:"id",distance:100,strength:1}},bt.get(this.layout,"options"),!0);bt.get(this.layout,"type")==="radial"&&D.default.radial({opts:_t,data:{groups:I.groups,nodes:I.nodes,edges:I.edges.map(function(Bt){return{source:Bt.type==="endpoint"?Bt.sourceNode:Bt.source,target:Bt.type==="endpoint"?Bt.targetNode:Bt.target}})}})}else bt.get(this.layout,"type")==="dagreGroupLayout"&&D.default.dagreGroupLayout({rankdir:bt.get(this.layout,"options.rankdir")||"TB",align:bt.get(this.layout,"options.align"),nodeSize:bt.get(this.layout,"options.nodeSize"),nodesepFunc:bt.get(this.layout,"options.nodesepFunc"),ranksepFunc:bt.get(this.layout,"options.ranksepFunc"),nodesep:bt.get(this.layout,"options.nodesep")||50,ranksep:bt.get(this.layout,"options.ranksep")||50,controlPoints:bt.get(this.layout,"options.controlPoints")||!1,data:{groups:I.groups,nodes:I.nodes,edges:I.edges.map(function(Bt){return{source:Bt.type==="endpoint"?Bt.sourceNode:Bt.source,target:Bt.type==="endpoint"?Bt.targetNode:Bt.target}})}})}},{key:"setMinimap",value:function(){var I=this,Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ct.events||(ct.events=[]);var St=["system.canvas.zoom","system.node.delete","system.node.move","system.nodes.add","system.group.delete","system.group.move","system.drag.move","system.canvas.move"].concat(jt(ct.events)),xt=function(){return I.nodes.map(function(He){return{id:He.id,left:He.left,top:He.top,width:He.getWidth(),height:He.getHeight(),group:He.group,minimapActive:bt.get(He,"options.minimapActive")}})},Ot=function(){return I.groups.map(function(He){return{id:He.id,left:He.left,top:He.top,width:He.getWidth(),height:He.getHeight(),minimapActive:bt.get(He,"options.minimapActive")}})};if(Et&&!this.minimap){this.minimap=new C.default(Kt({root:this.root,move:this.move.bind(this),terminal2canvas:this.terminal2canvas.bind(this),canvas2terminal:this.canvas2terminal.bind(this),nodes:xt(),groups:Ot(),zoom:this.getZoom(),offset:this.getOffset()},ct)),this.updateFn=function(){I.minimap.update({nodes:xt(),groups:Ot(),zoom:I.getZoom(),offset:I.getOffset()})};var _t=wt(St),Bt;try{for(_t.s();!(Bt=_t.n()).done;){var re=Bt.value;this.on(re,this.updateFn)}}catch(he){_t.e(he)}finally{_t.f()}return}if(this.minimap){this.minimap.destroy();var Gt=wt(St),De;try{for(Gt.s();!(De=Gt.n()).done;){var te=De.value;this.off(te,this.updateFn)}}catch(he){Gt.e(he)}finally{Gt.f()}delete this.minimap,delete this.updateFn}}},{key:"focusNodesWithAnimate",value:function(I){var Et=this,ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["node"],St=arguments.length>2?arguments[2]:void 0,xt=arguments.length>3?arguments[3]:void 0,Ot=1/0,_t=-1/0,Bt=1/0,re=-1/0;if(bt.includes(ct,"node")){var Gt=I.nodes;this.nodes.filter(function(Tn){return bt.find(Gt,function(On){return Tn.id===On})!==void 0}).forEach(function(Tn){var On=Tn.left,Un=Tn.left+Tn.getWidth(!0),vr=Tn.top,Tr=Tn.top+Tn.getHeight(!0);if(Tn.group){var ur=Et.getGroup(Tn.group);ur&&(On+=ur.left,Un+=ur.left,vr+=ur.top,Tr+=ur.top)}On<Ot&&(Ot=On),Un>_t&&(_t=Un),vr<Bt&&(Bt=vr),Tr>re&&(re=Tr)})}if(bt.includes(ct,"group")){var De=I.groups;this.groups.filter(function(Tn){return bt.find(De,function(On){return On===Tn.id})}).forEach(function(Tn){var On=Tn.left,Un=Tn.left+Tn.getWidth(),vr=Tn.top,Tr=Tn.top+Tn.getHeight();On<Ot&&(Ot=On),Un>_t&&(_t=Un),vr<Bt&&(Bt=vr),Tr>re&&(re=Tr)})}var te=bt.get(St,"offset")||[0,0],he=_t-Ot,He=this._rootWidth-te[0],en=re-Bt,qe=this._rootHeight-te[1],ze=He/he,xe=qe/en,je=ze<xe?ze:xe;bt.get(St,"keepPreZoom")?je=this._zoomData<je?this._zoomData:je:je=1<je?1:je;var Me=this._coordinateService._canvas2terminal("x",Ot,{scale:je,canOffsetX:0,canOffsetY:0,terOffsetX:0,terOffsetY:0,originX:50,originY:50}),Ue=this._coordinateService._canvas2terminal("x",_t,{scale:je,canOffsetX:0,canOffsetY:0,terOffsetX:0,terOffsetY:0,originX:50,originY:50}),Sn=this._coordinateService._canvas2terminal("y",Bt,{scale:je,canOffsetX:0,canOffsetY:0,terOffsetX:0,terOffsetY:0,originX:50,originY:50}),Ke=this._coordinateService._canvas2terminal("y",re,{scale:je,canOffsetX:0,canOffsetY:0,terOffsetX:0,terOffsetY:0,originX:50,originY:50}),mn=(Me+Ue-this._rootWidth)/2,Bn=(Sn+Ke-this._rootHeight)/2;if(mn=-mn+te[0],Bn=-Bn+te[1],St&&St.animate===!1)this._zoomData=je,this._moveData=[mn,Bn],this._coordinateService._changeCanvasInfo({canOffsetX:mn,canOffsetY:Bn,scale:je,originX:50,originY:50}),pe(this.wrapper).css({top:Bn,left:mn,transform:"scale(".concat(je,")")}),this.virtualScroll.enable&&this._virtualScrollUtil.redraw(),xt&&xt();else{var Zn=500,ir=new Promise(function(Tn){var On=1,Un=Et._moveData[0],vr=Et._moveData[1],Tr=(mn-Un)/20,ur=(Bn-vr)/20,zr=setInterval(function(){Un+=Tr,vr+=ur,pe(Et.wrapper).css({top:vr,left:Un}),On===20&&(clearInterval(zr),Tn()),On++},Zn/20)});this._moveData=[mn,Bn],this._coordinateService._changeCanvasInfo({canOffsetX:mn,canOffsetY:Bn,scale:je,originX:50,originY:50});var Sr=new Promise(function(Tn){Et.zoom(je,function(){Tn()})});this._isFocusing=!0,Promise.all([ir,Sr]).then(function(){Et.virtualScroll.enable&&Et._virtualScrollUtil.redraw(),Et._isFocusing=!1,xt&&xt()})}}},{key:"focusCenterWithAnimate",value:function(I,Et){var ct=this.nodes.map(function(xt){return xt.id}),St=this.groups.map(function(xt){return xt.id});if(ct.length===0&&St.length===0){this.move([0,0]),this.zoom(1,Et);return}this.focusNodesWithAnimate({nodes:ct,groups:St},["node","group"],I,Et)}},{key:"focusNodeWithAnimate",value:function(I){var Et=this,ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"node",St=arguments.length>2?arguments[2]:void 0,xt=arguments.length>3?arguments[3]:void 0,Ot=null;bt.isFunction(I)?Ot=ct==="node"?bt.find(this.nodes,I):bt.find(this.groups,I):Ot=ct==="node"?bt.find(this.nodes,function(je){return je.id===I}):bt.find(this.groups,function(je){return je.id===I});var _t=0,Bt=0;if(Ot){if(_t=Ot.top||Ot.y||0,Bt=Ot.left||Ot.x||0,Ot.height&&(_t+=Ot.height/2),Ot.width&&(Bt+=Ot.width/2),Ot.group){var re=bt.find(this.groups,function(je){return je.id===Ot.group});if(!re)return;_t+=re.top||re.y,Bt+=re.left||re.x,re.height&&(_t+=re.height/2),re.width&&(Bt+=re.width/2)}var Gt=bt.get(St,"offset")||[0,0],De=this._rootWidth,te=this._rootHeight,he=te/2-_t+Gt[1],He=De/2-Bt+Gt[0],en=500,qe=new Promise(function(je){pe(Et.wrapper).animate({top:he,left:He},en,function(){je()})});this._moveData=[He,he];var ze=1;bt.get(St,"keepPreZoom")&&(ze=this._zoomData<ze?this._zoomData:ze),this._coordinateService._changeCanvasInfo({canOffsetX:He,canOffsetY:he,originX:50,originY:50,scale:ze});var xe=new Promise(function(je){Et.zoom(ze,function(){je()})});this._isFocusing=!0,Promise.all([qe,xe]).then(function(){Et._isFocusing=!1,xt&&xt()}),this._guidelineService.isActive&&this._guidelineService.clearCanvas()}}},{key:"setSelectMode",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["node"],ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"include";I?(this.isSelectMode=!0,this._rmSystemUnion(),this.selectContents=Et,this.selectMode=ct,this.canvasWrapper.active(),this._remarkMove=this.moveable,this._remarkZoom=this.zoomable,this.setZoomable(!1),this.setMoveable(!1)):(this.isSelectMode=!1,this.canvasWrapper.unActive(),this._remarkMove&&this.setMoveable(!0),this._remarkZoom&&this.setZoomable(!0))}},{key:"getUnion",value:function(I){if(!I){console.error("传入正确的name");return}return this._unionData[I]}},{key:"getAllUnion",value:function(){return this._unionData}},{key:"add2Union",value:function(I,Et){var ct=this;if(!(!I||!Et)){this._unionData[I]||(this._unionData[I]={nodes:[],groups:[],edges:[],endpoints:[]});var St=this._unionData[I];Et.nodes&&(Et.nodes.forEach(function(xt){var Ot=bt.isString(xt),_t=Ot?ct.getNode(xt):xt;St.nodes.push(_t)}),St.nodes=bt.uniqBy(St.nodes,"id")),Et.groups&&(Et.groups.forEach(function(xt){var Ot=bt.isString(xt),_t=Ot?ct.getGroup(xt):xt;St.groups.push(_t)}),St.groups=bt.uniqBy(St.groups,"id")),Et.edges&&(Et.edges.forEach(function(xt){var Ot=bt.isString(xt),_t=Ot?ct.getEdge(xt):xt;St.edges.push(_t)}),St.edges=bt.uniqBy(St.edges,"id")),Et.endpoints&&(St.endpoints=St.endpoints.concat(Et.endpoints))}}},{key:"removeUnion",value:function(I){this._unionData[I]={nodes:[],edges:[],groups:[],endpoints:[]}}},{key:"removeAllUnion",value:function(){this._unionData={__system:{nodes:[],edges:[],groups:[],endpoints:[]}}}},{key:"_rmSystemUnion",value:function(){this._unionData.__system.nodes=[],this._unionData.__system.edges=[],this._unionData.__system.groups=[],this._unionData.__system.endpoints=[]}},{key:"_findUnion",value:function(I,Et){var ct=[];for(var St in this._unionData){var xt=bt.find(bt.get(this._unionData,[St,I],[]),function(Ot){return bt.toString(Ot.id)===bt.toString(Et.id)});xt&&ct.push(St)}return ct}},{key:"_selectMultiplyItem",value:function(I,Et){var ct=this,St=this._coordinateService._terminal2canvas("x",I[0]),xt=this._coordinateService._terminal2canvas("y",I[1]),Ot=this._coordinateService._terminal2canvas("x",I[2]),_t=this._coordinateService._terminal2canvas("y",I[3]),Bt=bt.includes(this.selectContents,"node"),re=bt.includes(this.selectContents,"edge"),Gt=bt.includes(this.selectContents,"endpoint"),De=function(he){var He=he.left,en=he.right,qe=he.top,ze=he.bottom;if(ct.selectMode==="include"||ct.selectMode==="senior"&&Et==="right")return St<He&&Ot>en&&xt<qe&&_t>ze;if(ct.selectMode==="touch"||ct.selectMode==="senior"&&Et==="left"){var xe=!0;return Ot<He&&(xe=!1),St>en&&(xe=!1),_t<qe&&(xe=!1),xt>ze&&(xe=!1),xe}};return Bt&&this.nodes.forEach(function(te){var he=te.left,He=te.left+pe(te.dom).width(),en=te.top,qe=te.top+pe(te.dom).height();if(te.group){var ze=ct.getGroup(te.group);he+=ze.left,He+=ze.left,en+=ze.top,qe+=ze.top}var xe=De({left:he,right:He,top:en,bottom:qe});xe&&ct.selectItem.nodes.push(te)}),Gt&&this.nodes.forEach(function(te){te.endpoints.forEach(function(he){var He=he._posLeft,en=he._posLeft+pe(he.dom).width(),qe=he._posTop,ze=he._posTop+pe(he.dom).height(),xe=De({left:He,right:en,top:qe,bottom:ze});xe&&ct.selectItem.endpoints.push(he)})}),re&&this.edges.forEach(function(te){if(te.type==="endpoint"){var he=te.sourceEndpoint._posLeft<te.targetEndpoint._posLeft?te.sourceEndpoint._posLeft:te.targetEndpoint._posLeft,He=te.sourceEndpoint._posLeft+te.sourceEndpoint._width>te.targetEndpoint._posLeft+te.targetEndpoint._width?te.sourceEndpoint._posLeft+te.sourceEndpoint._width:te.targetEndpoint._posLeft+te.targetEndpoint._width,en=te.sourceEndpoint._posTop<te.targetEndpoint._posTop?te.sourceEndpoint._posTop:te.targetEndpoint._posTop,qe=te.sourceEndpoint._posTop+te.sourceEndpoint._height>te.targetEndpoint._posTop+te.targetEndpoint._height?te.sourceEndpoint._posTop+te.sourceEndpoint._height:te.targetEndpoint._posTop+te.targetEndpoint._height,ze=De({left:he,right:He,top:en,bottom:qe});ze&&ct.selectItem.edges.push(te)}else te.type}),this.selectItem}},{key:"updateRootResize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._coordinateService._changeCanvasInfo({terOffsetX:I.terOffsetX||pe(this.root).offset().left,terOffsetY:I.terOffsetY||pe(this.root).offset().top,terWidth:I.terWidth||pe(this.root).width(),terHeight:I.terHeight||pe(this.root).height()}),this.canvasWrapper._changeCanvasInfo({terScrollX:I.terScrollX||0,terScrollY:I.terScrollY||0}),this.canvasWrapper.resize({root:this.root}),this._gridService._resize(),this._guidelineService._resize()}},{key:"setZoomable",value:function(I){var Et=this,ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._zoomDirection;ct!==void 0&&(this._zoomDirection=ct),this._zoomCb||(this._zoomCb=function(St){St.preventDefault();var xt=St.deltaY;if(Et._zoomDirection?Et._zoomData-=xt*Et.theme.zoomGap:Et._zoomData+=xt*Et.theme.zoomGap,Et._zoomData<.25){Et._zoomData=.25;return}if(Et._zoomData>5){Et._zoomData=5;return}for(var Ot=["webkit","moz","ms","o"],_t="scale(".concat(Et._zoomData,")"),Bt=0;Bt<Ot.length;Bt++)Et.wrapper.style["".concat(Ot[Bt],"Transform")]=_t;Et.wrapper.style.transform=_t,Et._coordinateService._changeCanvasInfo({wrapper:Et.wrapper,girdWrapper:Et._guidelineService.dom,mouseX:St.clientX,mouseY:St.clientY,scale:Et._zoomData}),Et._guidelineService.zoom(Et._zoomData),Et._guidelineService.setOrigin(Et._coordinateService.originX,Et._coordinateService.originY),Et.emit("system.canvas.zoom",{zoom:Et._zoomData}),Et.emit("events",{type:"canvas.zoom",zoom:Et._zoomData})}),I?this.root.addEventListener("wheel",this._zoomCb):this.root.removeEventListener("wheel",this._zoomCb)}},{key:"setMoveable",value:function(I){I?(this.moveable=!0,this._dragType==="canvas:drag"&&(this.moveable=!1)):this.moveable=!1}},{key:"setLinkable",value:function(I){this.linkable=!!I}},{key:"setDisLinkable",value:function(I){this.disLinkable=!!I}},{key:"setDraggable",value:function(I){this.nodes.forEach(function(Et){Et.setDraggable(I)}),this.draggable=I}},{key:"setOrigin",value:function(I){var Et=(I[0]||"0").toString().replace("%",""),ct=(I[1]||"0").toString().replace("%","");this._coordinateService._changeCanvasInfo({originX:parseFloat(Et),originY:parseFloat(ct)}),this._guidelineService.setOrigin(Et,ct)}},{key:"getZoom",value:function(){return this._zoomData}},{key:"getOffset",value:function(){return this._moveData}},{key:"getOrigin",value:function(){return[this._coordinateService.originX+"%",this._coordinateService.originY+"%"]}},{key:"zoom",value:function(I,Et){var ct=this;I<.25&&(I=.25),I>5&&(I=5);var St=50,xt=1,Ot=I-this._zoomData,_t=Ot/20;clearInterval(this._zoomTimer),this._zoomTimer=null,Ot!==0?this._zoomTimer=setInterval(function(){ct._zoomData+=_t;var Bt={scale:ct._zoomData};(ct._coordinateService.originX===void 0||ct._coordinateService.originY===void 0)&&(Bt.originX=50,Bt.originY=50),ct._coordinateService._changeCanvasInfo(Bt),ct._guidelineService.zoom(ct._zoomData),ct._guidelineService.setOrigin(ct._coordinateService.originX,ct._coordinateService.originY),pe(ct.wrapper).css({transform:"scale(".concat(ct._zoomData,")")}),xt===20&&(clearInterval(ct._zoomTimer),ct.emit("system.canvas.zoom",{zoom:ct._zoomData}),ct.emit("events",{type:"canvas.zoom",zoom:ct._zoomData}),Et&&Et()),xt++},St/20):Et&&Et()}},{key:"move",value:function(I){pe(this.wrapper).css("left",I[0]).css("top",I[1]),this._coordinateService._changeCanvasInfo({canOffsetX:I[0],canOffsetY:I[1]}),this._guidelineService.isActive&&this._guidelineService.move(I[0],I[1]),this._moveData=I,this.emit("system.canvas.move"),this.emit("events",{type:"system.canvas.move"})}},{key:"setGridMode",value:function(){var I=this,Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._gridObj,St=arguments.length>2?arguments[2]:void 0;if(Et){if(this._gridObjQueue.push(ct),this._gridTimer)return;this._gridTimer=setInterval(function(){if(I._gridObjQueue.length===0){clearInterval(I._gridTimer),I._gridTimer=null;return}I._gridObj=I._gridObjQueue.pop(),St&&I._gridService._resize(),I._gridService.create(I._gridObj),I._gridObjQueue=[]},1e3)}else this._gridService.destroy(),this._gridObjQueue=[]}},{key:"setGuideLine",value:function(){var I=this,Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._guideObj;if(Et){if(this._guideObjQueue.push(ct),this._guideTimer)return;this._guideTimer=setInterval(function(){if(I._guideObjQueue.length===0){clearInterval(I._guideTimer),I._guideTimer=null;return}I._guideObj=I._guideObjQueue.pop(),I._guidelineService.create(I._guideObj),I._guideObjQueue=[]},200)}else this._guidelineService.destroy(),this._guideObjQueue=[]}},{key:"canvas2terminal",value:function(I,Et){return this._coordinateService.canvas2terminal(I,Et)}},{key:"terminal2canvas",value:function(I,Et){return this._coordinateService.terminal2canvas(I,Et)}},{key:"save2img",value:function(I){var Et="toPng";switch(I.type){case"jpeg":case".jpeg":Et="toJpeg";break;case"png":case".png":Et="toPng";break;case"svg":case".svg":Et="toSvg";break}return Ze[Et](this.root,I).then(function(ct){return ct}).catch(function(ct){console.error("oops, something went wrong!",ct)})}},{key:"justifyCoordinate",value:function(){this._gridService.justifyAllCoordinate()}},{key:"_autoMoveCanvas",value:function(I,Et,ct,St){var xt=this;if(this.theme.autoFixCanvas.enable){this._autoMoveDir=[];var Ot=this._coordinateService.terOffsetX,_t=this._coordinateService.terOffsetY;if(clearInterval(this._autoMoveTimer),this._autoMoveTimer=null,!(this._autoMoveTimer&&this._autoMoveDir.length>0)){var Bt=this.theme.autoFixCanvas.autoMovePadding;if(I-Ot<=Bt[3]&&this._autoMoveDir.push("left"),this._rootWidth-(I-Ot)<=Bt[1]&&this._autoMoveDir.push("right"),Et-_t<=Bt[0]&&this._autoMoveDir.push("top"),this._rootHeight-(Et-_t)<=Bt[2]&&this._autoMoveDir.push("bottom"),this._autoMoveDir.length===0){clearInterval(this._autoMoveTimer);return}if(!this._autoMoveTimer){var re=5;this._autoMoveTimer=setInterval(function(){xt._autoMoveDir.includes("left")&&(xt.move([xt._moveData[0]+re,xt._moveData[1]]),Gt([-re,0])),xt._autoMoveDir.includes("right")&&(xt.move([xt._moveData[0]-re,xt._moveData[1]]),Gt([+re,0])),xt._autoMoveDir.includes("top")&&(xt.move([xt._moveData[0],xt._moveData[1]+re]),Gt([0,-re])),xt._autoMoveDir.includes("bottom")&&(xt.move([xt._moveData[0],xt._moveData[1]-re]),Gt([0,+re]))},70)}var Gt=function(te){if(ct.type==="node:drag")ct.nodes.forEach(function(He){He.moveTo(He.left+te[0],He.top+te[1])});else if(ct.type==="group:drag"){var he=ct.group;he.moveTo(he.left+te[0],he.top+te[1])}St&&St(te)}}}}},{key:"undo",value:function(){var I=this,Et=[];if(this.actionQueueIndex<=-1){console.warn("回退堆栈已空，无法再undo");return}var ct=this.actionQueue[this.actionQueueIndex--];if(ct.type==="_system:dragNodeEnd"&&(ct=this.actionQueue[this.actionQueueIndex--]),Et.push(ct),ct.type==="system:addNodes")this.removeNodes(ct.data,!1,!0);else if(ct.type==="system:removeNodes")this.addNodes(ct.data.nodes,!0),this.addEdges(ct.data.edges,!0);else if(ct.type==="system:addEdges")this.removeEdges(ct.data,!0,!0);else if(ct.type==="system:removeEdges")this.addEdges(ct.data,!0);else if(ct.type==="system:moveNodes")for(var St in ct.data.nodes){var xt=ct.data.nodes[St],Ot=this.getNode(St);Ot.moveTo(xt.fromLeft,xt.fromTop,!0)}else if(ct.type==="system:moveGroups")for(var _t in ct.data.groups){var Bt=ct.data.groups[_t],re=this.getGroup(_t);re.moveTo(Bt.fromLeft,Bt.fromTop,!0)}else if(ct.type==="system:addGroups")ct.data.forEach(function(Ue){Ue.nodes.length>0&&I.removeNodes(Ue.nodes),I.removeGroup(Ue.group.id,!0)});else if(ct.type==="system:removeGroup")this.addGroup(ct.data.group,ct.data.groups.concat(ct.data.nodes)||[],{notResize:!0,notAdaptorPos:!0},!0);else if(ct.type==="system:groupAddMembers"){var Gt=ct.data.sourceGroup,De=ct.data.targetGroup;De&&De.removeNodes(ct.data.nodes,!0),Gt&&Gt.addNodes(ct.data.nodes,!0);var te={};if(ct.data._isDraging&&(te=this.actionQueue[this.actionQueueIndex],te.type==="system:moveNodes")){for(var he in te.data.nodes){var He=te.data.nodes[he],en=this.getNode(he);en.moveTo(He.fromLeft,He.fromTop,!0)}Et.unshift(te)}this.actionQueueIndex--}else if(ct.type==="system:groupRemoveMembers"){var qe=ct.data.group;qe&&qe.addNodes(ct.data.nodes,!0);var ze={};if(ct.data._isDraging&&(ze=this.actionQueue[this.actionQueueIndex],ze.type==="system:moveNodes")){for(var xe in ze.data.nodes){var je=ze.data.nodes[xe],Me=this.getNode(xe);Me.moveTo(je.fromLeft,je.fromTop,!0)}Et.unshift(ze),this.actionQueueIndex--}this.actionQueueIndex--}else ct.type==="system:reconnectEdges"&&bt.get(ct,"data.info",[]).forEach(function(Ue){var Sn=I.getNode(Ue.preTargetNodeId),Ke=Sn.getEndpoint(Ue.preTargetPointId);Ue.edge._create({id:"".concat(Ue.edge.sourceEndpoint.id,"-").concat(Ke.id),targetNode:Sn,_targetType:Ke.nodeType,targetEndpoint:Ke,type:"endpoint"})});this.emit("system.canvas.undo",{steps:Et}),this.emit("events",{type:"canvas.undo",steps:Et})}},{key:"redo",value:function(){var I=this,Et=[];if(this.actionQueueIndex>=this.actionQueue.length-1){console.warn("重做堆栈已到顶，无法再redo");return}var ct=this.actionQueue[++this.actionQueueIndex];if(Et.push(ct),ct.type==="system:moveNodes"&&ct.data._isDraging&&(ct=this.actionQueue[++this.actionQueueIndex],Et.push(ct)),ct.type==="system:addNodes")this.addNodes(ct.data,!0);else if(ct.type==="system:removeNodes")this.removeNodes(ct.data.nodes,!1,!0);else if(ct.type==="system:addEdges")this.addEdges(ct.data,!0);else if(ct.type==="system:removeEdges")this.removeEdges(ct.data,!0,!0);else if(ct.type==="system:moveNodes")for(var St in ct.data.nodes){var xt=ct.data.nodes[St],Ot=this.getNode(St);Ot.moveTo(xt.toLeft,xt.toTop,!0)}else if(ct.type==="system:moveGroups")for(var _t in ct.data.groups){var Bt=ct.data.groups[_t],re=this.getGroup(_t);re.moveTo(Bt.toLeft,Bt.toTop,!0)}else if(ct.type==="system:addGroups")ct.data.forEach(function(Ue){I.addGroup(Ue.group,Ue.nodes||[],void 0,!0)});else if(ct.type==="system:removeGroup")this.removeGroup(ct.data.group,!0);else if(ct.type==="system:groupAddMembers"){var Gt=ct.data.sourceGroup,De=ct.data.targetGroup,te=this.actionQueue[this.actionQueueIndex-1];if(te.type==="system:moveNodes"&&te.data._isDraging)for(var he in te.data.nodes){var He=te.data.nodes[he],en=this.getNode(he);en.moveTo(He.toLeft,He.toTop,!0)}De&&De.addNodes(ct.data.nodes,!0),Gt&&Gt.removeNodes(ct.data.nodes,!0)}else if(ct.type==="system:groupRemoveMembers"){var qe=ct.data.group;qe&&qe.removeNodes(ct.data.nodes,!0);var ze={};if(ct.data._isDraging&&(ze=this.actionQueue[this.actionQueueIndex],ze.type==="system:moveNodes")){for(var xe in ze.data.nodes){var je=ze.data.nodes[xe],Me=this.getNode(xe);Me.moveTo(je.fromLeft,je.fromTop,!0)}this.actionQueueIndex--}}else ct.type==="system:reconnectEdges"&&bt.get(ct,"data.info",[]).forEach(function(Ue){var Sn=I.getNode(Ue.currentTargetNodeId),Ke=Sn.getEndpoint(Ue.currentTargetPointId);Ue.edge._create({id:"".concat(Ue.edge.sourceEndpoint.id,"-").concat(Ke.id),targetNode:Sn,_targetType:Ke.nodeType,targetEndpoint:Ke,type:"endpoint"})});this.emit("system.canvas.redo",{steps:Et}),this.emit("events",{type:"canvas.redo",steps:Et}),bt.get(this.actionQueue,[this.actionQueueIndex+1,"type"])==="_system:dragNodeEnd"&&this.actionQueueIndex++}},{key:"isActionQueueTop",value:function(){return this.actionQueueIndex>=this.actionQueue.length-1}},{key:"isActionQueueBottom",value:function(){return this.actionQueueIndex<=-1}},{key:"pushActionQueue",value:function(I){var Et=this,ct=I;if(I.type==="system:moveNodes"||I.type==="system:moveGroups"){var St={"system:moveNodes":"node","system:moveGroups":"group"}[I.type],xt=St+"s",Ot=this.actionQueue[this.actionQueueIndex]||{};if(Ot.type===I.type&&Ot.data[xt][I.data[St].id]){Ot.data[xt][I.data[St].id].toTop=I.data.top,Ot.data[xt][I.data[St].id].toLeft=I.data.left;return}else{var _t=[I.data[St]],Bt=this._findUnion(xt,I.data[St]);Bt&&Bt.length>0&&(Bt.forEach(function(re){_t=_t.concat(Et._unionData[re][xt])}),_t=bt.uniqBy(_t,"id")),ct={type:I.type,data:Qt({},xt,{})},_t.forEach(function(re){ct.data[xt][re.id]={fromTop:re.top,fromLeft:re.left,toTop:re.top,toLeft:re.left}}),ct.data[xt][I.data[St].id].toTop=I.data.top,ct.data[xt][I.data[St].id].toLeft=I.data.left}}this.actionQueueIndex>=this.global.limitQueueLen&&(this.actionQueue.shift(),this.actionQueueIndex--),this.actionQueue.splice(this.actionQueueIndex+1,this.actionQueue.length),this.actionQueue.push(ct),this.actionQueueIndex++,bt.get(this.actionQueue,[this.actionQueueIndex-1,"type"])==="_system:dragNodeEnd"&&(this.actionQueue.splice(this.actionQueueIndex-1,1),this.actionQueueIndex--)}},{key:"popActionQueue",value:function(){if(this.actionQueue.length>0){var I=this.actionQueue.pop();return this.actionQueueIndex--,I}else console.warn("操作队列已为空，请确认")}},{key:"clearActionQueue",value:function(){this.actionQueue=[],this.actionQueueIndex=-1}},{key:"getNodesVisibleStatus",value:function(){var I={inside:[],outside:[]},Et=[this._coordinateService._terminal2canvas("x",0+this._coordinateService.terOffsetX),this._coordinateService._terminal2canvas("x",this._coordinateService.terWidth+this._coordinateService.terOffsetX),this._coordinateService._terminal2canvas("y",0+this._coordinateService.terOffsetY),this._coordinateService._terminal2canvas("y",this._coordinateService.terHeight+this._coordinateService.terOffsetY)];return this.nodes.forEach(function(ct){var St=ct.left,xt=ct.left+ct.getWidth(!0),Ot=ct.top,_t=ct.top+ct.getHeight(!0);St>=Et[0]&&xt<=Et[1]&&Ot>=Et[2]&&_t<=Et[3]?I.inside.push(ct):I.outside.push(ct)}),I}}]),Ne}(f.default);c.default=hr},627:function(b,c,e){function n(z){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},n(z)}Object.defineProperty(c,"__esModule",{value:!0});var o=e(1377),f=w(o),s=e(5340),a=w(s),u=e(7305),h=w(u),p=e(4047),y=w(p);function w(z){return z&&z.__esModule?z:{default:z}}function d(z,G){if(!(z instanceof G))throw new TypeError("Cannot call a class as a function")}function M(z,G){for(var nt=0;nt<G.length;nt++){var j=G[nt];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(z,B(j.key),j)}}function D(z,G,nt){return G&&M(z.prototype,G),nt&&M(z,nt),Object.defineProperty(z,"prototype",{writable:!1}),z}function B(z){var G=Y(z,"string");return n(G)=="symbol"?G:String(G)}function Y(z,G){if(n(z)!="object"||!z)return z;var nt=z[Symbol.toPrimitive];if(nt!==void 0){var j=nt.call(z,G||"default");if(n(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(z)}function N(z,G,nt){return G=U(G),A(z,tt()?Reflect.construct(G,nt||[],U(z).constructor):G.apply(z,nt))}function A(z,G){if(G&&(n(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(z)}function k(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function tt(){try{var z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tt=function(){return!!z})()}function et(){return typeof Reflect<"u"&&Reflect.get?et=Reflect.get.bind():et=function(G,nt,j){var q=K(G,nt);if(q){var vt=Object.getOwnPropertyDescriptor(q,nt);return vt.get?vt.get.call(arguments.length<3?G:j):vt.value}},et.apply(this,arguments)}function K(z,G){for(;!Object.prototype.hasOwnProperty.call(z,G)&&(z=U(z),z!==null););return z}function U(z){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(nt){return nt.__proto__||Object.getPrototypeOf(nt)},U(z)}function R(z,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(G&&G.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),G&&g(z,G)}function g(z,G){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,q){return j.__proto__=q,j},g(z,G)}var C=e(9392),W=function(z){R(G,z);function G(nt){var j;return d(this,G),j=N(this,G,[nt]),j._NodeClass=a.default,j}return D(G,[{key:"_handleTreeNodes",value:function(j,q){if(q)return j;for(var vt=[j],mt=[],wt=function(){var Kt=vt.pop();mt.push(Kt),Kt.children&&Kt.children.length>0&&(Kt.children.forEach(function(jt){jt.parent=Kt.id}),vt=vt.concat(Kt.children))};vt.length>0;)wt();return mt}},{key:"_isExistNode",value:function(j){var q=et(U(G.prototype),"_isExistNode",this).call(this,j);q&&j.subCollapsed&&(q=!1)}},{key:"_addEventListener",value:function(){var j=this;et(U(G.prototype),"_addEventListener",this).call(this),this.on("InnerEvents",function(q){q.type==="node:collapse"?j.collapseNode(q.nodeId):q.type=="node:expand"&&j.expandNode(q.nodeId)})}},{key:"findSubTree",value:function(j){for(var q=[j],vt=[];q.length>0;){var mt,wt=q.pop();vt.push(wt),((mt=wt.children)===null||mt===void 0?void 0:mt.length)>0&&(q=q.concat(wt.children))}return vt}},{key:"collapseNode",value:function(j){var q=[],vt=[],mt=this.getNode(j);if(mt.collapsed=!0,mt.options.collapsed=!0,!!mt){for(var wt=[mt];wt.length>0;){var At=wt.pop();q.push(At),At.children&&At.children.length>0&&(wt=wt.concat(At.children))}q=q.filter(function(jt){return jt.id!==mt.id});var Kt={};return q.forEach(function(jt){Kt[jt.id]=jt,jt.subCollapsed=!0}),vt=this.edges.filter(function(jt){var me=!1;return jt.type==="endpoint"?me=!!Kt[jt.sourceNode.id]||!!Kt[jt.targetNode.id]:me=!!Kt[jt.source.id]||!!Kt[jt.target.id],jt.sourceNode.id===mt.id&&(me=!0),me&&(jt.collapsed=!0),me}),q.unshift(mt),q.forEach(function(jt){jt.subCollapsed&&jt.destroy(!0),jt.id!==j&&jt.collapsed&&delete jt.collapsed}),vt.forEach(function(jt){jt.destroy(!0)}),this.redraw(),this.emit("system.node.collapse",{target:mt,nodes:q,edges:vt}),this.emit("events",{type:"node.collapse",target:mt,nodes:q,edges:vt}),{nodes:q,edges:vt}}}},{key:"expandNode",value:function(j,q){for(var vt=this.getNode(j),mt=[],wt=[],At=[vt];At.length>0;){var Kt=At.pop();mt.push(Kt),Kt.children&&Kt.children.length>0&&(At=At.concat(Kt.children))}mt=mt.filter(function($t){return $t.id!==vt.id});var jt={};mt.forEach(function($t){jt[$t.id]=$t,$t.subCollapsed=!0}),wt=this.edges.filter(function($t){var Pt=!1;return $t.type==="endpoint"?Pt=!!jt[$t.sourceNode.id]||!!jt[$t.targetNode.id]:Pt=!!jt[$t.source.id]||!!jt[$t.target.id],$t.sourceNode.id===vt.id&&(Pt=!0),Pt}),this.nodes=C.differenceBy(this.nodes,mt,"id");var me=this.addNodes(mt,!0);this.edges=C.filter(this.edges,function($t){return $t.type==="endpoint"?!C.some(wt,function(Pt){return $t.sourceNode.id===Pt.sourceNode.id&&$t.targetNode.id===Pt.targetNode.id&&$t.source===Pt.source&&$t.target===Pt.target}):!C.some(wt,function(Pt){return $t.source===Pt.source&&$t.target===Pt.target})});var zt=this.addEdges(wt,!0);mt.forEach(function($t){delete $t.subCollapsed}),delete vt.collapsed,wt.forEach(function($t){delete $t.collapsed}),this.redraw(),this.emit("system.node.expand",{target:vt,nodes:me,edges:zt}),this.emit("events",{type:"node.expand",target:vt,nodes:me,edges:zt})}},{key:"redraw",value:function(j,q,vt){if(j)this.removeNodes(this.nodes.map(function(zt){return zt.id})||[]),this.clearActionQueue(),this.draw(j||{},q,vt);else{for(var mt=this.getRootNode(),wt=[],At={},Kt=[mt],jt=function(){var $t=Kt.pop(),Pt={id:$t.id};At[$t.id]?Pt=At[$t.id]:At[Pt.id]=Pt,$t.isRoot&&(Pt.isRoot=$t.isRoot),$t.collapsed&&(Pt.collapsed=$t.collapsed),wt.push(Pt),$t.children&&$t.children.length>0&&(Pt.children=[],$t.children.forEach(function(Ft){var se={id:Ft.id};At[Ft.id]?se=At[Ft.id]:At[Ft.id]=se,Ft.isRoot&&(se.isRoot=Ft.isRoot),Ft.collapsed&&(se.collapsed=Ft.collapsed),Pt.children.push(se)}),Kt=Kt.concat($t.children))};Kt.length>0;)jt();var me=wt.filter(function(zt){return!0});C.get(q,"isNotRelayout")||this._autoLayout({nodes:me,edges:[],groups:[]}),this.nodes.forEach(function(zt){var $t;if(!zt.subCollapsed){zt==null||($t=zt.endpoints)===null||$t===void 0||$t.forEach(function(Ft){Ft.updatePos()});var Pt=At[zt.id];(zt.top!==Pt.top||zt.left!==Pt.left)&&(zt.options.top=Pt.top,zt.options.left=Pt.left,zt.options.treePos=Pt.treePos,zt.moveTo(Pt.left,Pt.top))}}),this.edges.forEach(function(zt){zt.redraw()})}this.emit("system.canvas.redraw"),this.emit("events",{type:"canvas:redraw"})}},{key:"addNodes",value:function(j,q){var vt=this,mt=et(U(G.prototype),"addNodes",this).call(this,j,q);return mt.forEach(function(wt){if(wt.parent){var At=vt.getNode(wt.parent);C.some(At.children,["id",wt.id])||(!At.children&&(At.children=[]),At.children.push(wt))}}),mt}},{key:"removeNodes",value:function(j,q,vt){var mt=this,wt=j.map(function(jt){return jt instanceof h.default?jt:mt.getNode(jt)}),At=[];wt.forEach(function(jt){var me=mt.findSubTree(jt);if(At=At.concat(me),jt.parent){var zt=mt.getNode(jt.parent);zt&&(zt.children=zt.children.filter(function($t){return $t.id!==jt.id}))}}),At=C.unionBy(At,"id");var Kt=et(U(G.prototype),"removeNodes",this).call(this,At,q,vt);return Kt}},{key:"getRootNode",value:function(){return this.nodes.filter(function(j){return j.isRoot})[0]}},{key:"draw",value:function(j,q,vt){var mt=this,wt=this._handleTreeNodes(j.nodes||[],this.previousIsFlatNode);C.get(q,"isNotRelayout")&&(this.__layout=this.layout,this.layout=void 0),et(U(G.prototype),"draw",this).call(this,{nodes:wt,edges:j.edges,groups:j.groups},function(){var At={};mt.nodes.forEach(function(Kt){At[Kt.id]=Kt,Kt.children=[]}),mt.nodes.forEach(function(Kt){if(!(Kt.isRoot||!Kt.parent)){var jt=At[Kt.parent];jt&&(!jt.children&&(jt.children=[]),jt.children.unshift(Kt))}}),vt&&vt({nodes:mt.nodes,edges:mt.edges,groups:mt.groups}),C.get(q,"isNotRelayout")&&(mt.layout=mt.__layout,mt.__layout=void 0)})}},{key:"_autoLayout",value:function(j){var q=j.nodes.filter(function(Kt){return Kt.isRoot})[0];if(q){var vt=C.get(this,"layout.type","compactBox");if(y.default[vt]){var mt=16,wt=30,At=5;y.default[vt](q,C.assign({direction:"H",getId:function(jt){return jt.id},getHeight:function(jt){return jt.isRoot?mt*2:mt},getWidth:function(jt){return jt.isRoot?wt*2:wt},getHGap:function(jt){return 100},getVGap:function(jt){return 30},getSubTreeSep:function(jt){return!jt.children||!jt.children.length?0:At}},C.get(this,"layout.options",{})))}}}}]),G}(f.default);c.default=W},5397:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(4882),o=y(n),f=e(9755),s=h(f);e(3706);var a=e(8409),u=h(a);function h(G){return G&&G.__esModule?G:{default:G}}function p(G){if(typeof WeakMap!="function")return null;var nt=new WeakMap,j=new WeakMap;return(p=function(vt){return vt?j:nt})(G)}function y(G,nt){if(!nt&&G&&G.__esModule)return G;if(G===null||w(G)!="object"&&typeof G!="function")return{default:G};var j=p(nt);if(j&&j.has(G))return j.get(G);var q={__proto__:null},vt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var mt in G)if(mt!=="default"&&Object.prototype.hasOwnProperty.call(G,mt)){var wt=vt?Object.getOwnPropertyDescriptor(G,mt):null;wt&&(wt.get||wt.set)?Object.defineProperty(q,mt,wt):q[mt]=G[mt]}return q.default=G,j&&j.set(G,q),q}function w(G){"@babel/helpers - typeof";return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(nt){return typeof nt}:function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},w(G)}function d(G,nt){if(!(G instanceof nt))throw new TypeError("Cannot call a class as a function")}function M(G,nt){for(var j=0;j<nt.length;j++){var q=nt[j];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(G,B(q.key),q)}}function D(G,nt,j){return nt&&M(G.prototype,nt),j&&M(G,j),Object.defineProperty(G,"prototype",{writable:!1}),G}function B(G){var nt=Y(G,"string");return w(nt)=="symbol"?nt:String(nt)}function Y(G,nt){if(w(G)!="object"||!G)return G;var j=G[Symbol.toPrimitive];if(j!==void 0){var q=j.call(G,nt||"default");if(w(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(nt==="string"?String:Number)(G)}function N(G,nt,j){return nt=U(nt),A(G,tt()?Reflect.construct(nt,j||[],U(G).constructor):nt.apply(G,j))}function A(G,nt){if(nt&&(w(nt)==="object"||typeof nt=="function"))return nt;if(nt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(G)}function k(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function tt(){try{var G=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tt=function(){return!!G})()}function et(){return typeof Reflect<"u"&&Reflect.get?et=Reflect.get.bind():et=function(nt,j,q){var vt=K(nt,j);if(vt){var mt=Object.getOwnPropertyDescriptor(vt,j);return mt.get?mt.get.call(arguments.length<3?nt:q):mt.value}},et.apply(this,arguments)}function K(G,nt){for(;!Object.prototype.hasOwnProperty.call(G,nt)&&(G=U(G),G!==null););return G}function U(G){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},U(G)}function R(G,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(nt&&nt.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),nt&&g(G,nt)}function g(G,nt){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(q,vt){return q.__proto__=vt,q},g(G,nt)}var C=e(9392),W=e(4609),z=function(G){R(nt,G);function nt(j){var q;return d(this,nt),q=N(this,nt,[j]),q.id=C.get(j,"id"),q.targetNode=C.get(j,"targetNode"),q._targetType=C.get(j,"_targetType"),q.targetEndpoint=C.get(j,"targetEndpoint"),q.sourceNode=C.get(j,"sourceNode"),q._sourceType=C.get(j,"_sourceType"),q.sourceEndpoint=C.get(j,"sourceEndpoint"),q.type=C.get(j,"type","endpoint"),q.orientationLimit=C.get(j,"orientationLimit"),q.shapeType=C.get(j,"shapeType","Straight"),q.hasRadius=C.get(j,"hasRadius",!1),q.radius=C.get(j,"radius",!1),q.label=C.get(j,"label"),q.arrow=C.get(j,"arrow"),q.arrowShapeType=C.get(j,"arrowShapeType","default"),q.arrowPosition=C.get(j,"arrowPosition",.5),q.arrowOffset=C.get(j,"arrowOffset",0),q.labelPosition=C.get(j,"labelPosition",.5),q.labelOffset=C.get(j,"labelOffset",0),q.isExpandWidth=C.get(j,"isExpandWidth",!1),q.defaultAnimate=C.get(j,"defaultAnimate",!1),q.dom=null,q.labelDom=null,q.arrowDom=null,q.totalLen=-1,q.eventHandlerDom=null,q._hasEventListener=!1,q._coordinateService=null,q.__type="edge",q._path=null,q.options=C.get(j,"options")||j,q._isDeletingEdge=j._isDeletingEdge,q._global=j._global,q._on=j._on,q._emit=j._emit,q._labelWidth=0,q._labelHeight=0,q._updateTimer=null,q._UPDATE_INTERVAL=C.get(j,"labelUpdateInterval",20),q._sourcePoint=null,q._targetPoint=null,q._zIndex=0,q.draggable=C.get(j,"draggable",!1),q._hasDragged=!1,q._breakPoints=[],q.options.breakPoints&&q.options.breakPoints.length>0&&(q._breakPoints=q.options.breakPoints,q._breakPoints[0].type,q._breakPoints[q._breakPoints.length-1].type,delete q.options.breakPoints,q._hasDragged=!0),q._offsetPosLeft=0,q._offsetPosTop=0,q.animatePromise=null,q}return D(nt,[{key:"_init",value:function(q){this._isInited||(q._coordinateService&&(this._coordinateService=q._coordinateService),this._isInited=!0,this.dom=this.draw({id:this.id,dom:this.dom,options:this.options}),this.labelDom=this.drawLabel(this.label),this.arrowDom=this.drawArrow(this.arrow)),this._hasEventListener||(this._addEventListener(),this._hasEventListener=!0)}},{key:"draw",value:function(q){var vt=document.createElementNS("http://www.w3.org/2000/svg","path");return vt.setAttribute("class","butterflies-link"),this.isExpandWidth&&(this.eventHandlerDom=document.createElementNS("http://www.w3.org/2000/svg","path"),this.eventHandlerDom.setAttribute("class","butterflies-link-event-handler")),vt}},{key:"mounted",value:function(){this.defaultAnimate&&this.addAnimate()}},{key:"_calcK",value:function(){var q=this._sourcePoint.pos,vt=this._targetPoint.pos,mt=(vt[1]-q[1])/(vt[0]-q[0]),wt=0;return vt[0]===q[0]?wt=vt[0]:wt=q[1]-mt*q[0],{k:mt,a:wt}}},{key:"_calcPath",value:function(q,vt){var mt=function(me,zt){for(var $t=0,Pt=[me._group];Pt.length>0;){var Ft=Pt.pop();Ft&&($t+=Ft[zt],Ft._group&&Pt.push(Ft._group))}return $t};q||(q={pos:[this.type==="endpoint"?this.sourceEndpoint._posLeft+this.sourceEndpoint._width/2:this.sourceNode.left+this.sourceNode.getWidth(!0)/2+mt(this.sourceNode,"left"),this.type==="endpoint"?this.sourceEndpoint._posTop+this.sourceEndpoint._height/2:this.sourceNode.top+this.sourceNode.getHeight(!0)/2+mt(this.sourceNode,"top")],orientation:this.type==="endpoint"&&this.sourceEndpoint.orientation?this.sourceEndpoint.orientation:void 0}),vt||(vt={pos:[this.type==="endpoint"?this.targetEndpoint._posLeft+this.targetEndpoint._width/2:this.targetNode.left+this.targetNode.getWidth(!0)/2+mt(this.targetNode,"left"),this.type==="endpoint"?this.targetEndpoint._posTop+this.targetEndpoint._height/2:this.targetNode.top+this.targetNode.getHeight(!0)/2+mt(this.targetNode,"top")],orientation:this.type==="endpoint"&&this.targetEndpoint.orientation?this.targetEndpoint.orientation:void 0}),this._sourcePoint=q,this._targetPoint=vt,this._offsetPosTop&&(this._sourcePoint.pos[1]+=this._offsetPosTop,this._targetPoint.pos[1]+=this._offsetPosTop),this._offsetPosLeft&&(this._sourcePoint.pos[0]+=this._offsetPosLeft,this._targetPoint.pos[0]+=this._offsetPosLeft);var wt="";if(this.calcPath)wt=this.calcPath(q,vt);else if(this.shapeType==="Bezier")wt=o.drawBezier(q,vt);else if(this.shapeType==="Straight")wt=o.drawStraight(q,vt);else if(this.shapeType==="Flow")wt=o.drawFlow(q,vt,this.orientationLimit);else if(this.shapeType==="Manhattan"){var At=o.drawManhattan(q,vt,{breakPoints:this._breakPoints,hasDragged:this._hasDragged,draggable:this.draggable,hasRadius:this.hasRadius,radius:this.radius});wt=At.path,At.breakPoints[0].type="start",At.breakPoints[At.breakPoints.length-1].type="end",this._breakPoints=At.breakPoints}else if(this.shapeType==="AdvancedBezier")wt=o.drawAdvancedBezier(q,vt);else if(/^Bezier2-[1-3]$/.test(this.shapeType))wt=o.drawSecondBezier(q,vt,this.shapeType);else if(this.shapeType==="BrokenLine")wt=o.drawBrokenLine(q,vt);else if(this.shapeType==="AdvancedManhattan"){C.assign(q,{nodePos:[this.sourceNode.left,this.sourceNode.top],nodeSize:[this.sourceNode.width,this.sourceNode.height]}),C.assign(vt,{nodePos:[this.targetNode.left,this.targetNode.top],nodeSize:[this.targetNode.width,this.targetNode.height]});var Kt=o.drawAdvancedManhattan(q,vt,{sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,breakPoints:this._breakPoints,hasDragged:this._hasDragged,draggable:this.draggable,hasRadius:this.hasRadius,radius:this.radius});wt=Kt.path}return this._path=wt,wt}},{key:"redrawLabel",value:function(){var q=this.getTotalLength();if(q){var vt=0,mt=0;C.isArray(this.labelOffset)?(vt=this.labelOffset[0],mt=this.labelOffset[1]):vt=mt=this.labelOffset;var wt=q*this.labelPosition+vt,At=this.dom.getPointAtLength(wt);W(this.labelDom).css("left",At.x-this.labelDom.offsetWidth/2).css("top",At.y-this.labelDom.offsetHeight/2+mt)}}},{key:"drawLabel",value:function(q){var vt=(typeof HTMLElement>"u"?"undefined":w(HTMLElement))==="object"?function(wt){return wt instanceof HTMLElement}:function(wt){return wt&&w(wt)==="object"&&wt.nodeType===1&&typeof wt.nodeName=="string"};if(q){if(vt(q))return W(q).addClass("butterflies-label"),q;var mt=document.createElement("span");return mt.className="butterflies-label",mt.innerText=q,mt}}},{key:"updateLabel",value:function(q){var vt=this,mt=this.drawLabel(q);this.labelDom&&(W(this.labelDom).off(),W(this.labelDom).remove()),this.label=q,this.labelDom=mt,setTimeout(function(){vt.redrawLabel()}),this.emit("InnerEvents",{type:"edge:updateLabel",data:this})}},{key:"redrawArrow",value:function(q){var vt=this.getTotalLength();if(vt){this.arrowFinalPosition=(vt*this.arrowPosition+this.arrowOffset)/vt,this.arrowFinalPosition>1&&(this.arrowFinalPosition=1),this.arrowFinalPosition<0&&(this.arrowFinalPosition=0),1-this.arrowFinalPosition<this._global.arrowUtil.ARROW_TYPE.length/vt&&(this.arrowFinalPosition=(vt*this.arrowFinalPosition-this._global.arrowUtil.ARROW_TYPE.length)/vt),this.shapeType==="Bezier"&&(this.arrowFinalPosition=1-this.arrowFinalPosition);var mt=this.dom.getPointAtLength(vt*this.arrowFinalPosition),wt=mt.x,At=mt.y,Kt=wt,jt=At,me=this._global.arrowUtil.calcSlope({shapeType:this.shapeType,dom:this.dom,arrowPosition:this.arrowFinalPosition,path:q}),zt=Math.atan2(me.y,me.x)/Math.PI*180,$t=this._global.arrowUtil.ARROW_TYPE[this.arrowShapeType]||this._global.arrowUtil.ARROW_TYPE.default,Pt=$t.width||8,Ft=$t.height||8;$t.type==="pathString"?this.arrowDom.setAttribute("d",$t.content):$t.type==="svg"&&(me.x===0||(Kt-=Pt/2),jt-=Ft/2),this.arrowDom.setAttribute("transform","rotate(".concat(zt,", ").concat(wt,", ").concat(At,")translate(").concat(Kt,", ").concat(jt,")"))}}},{key:"drawArrow",value:function(q){if(q){var vt=this._global.arrowUtil.ARROW_TYPE[this.arrowShapeType]||this._global.arrowUtil.ARROW_TYPE.default,mt=vt.width||8,wt=vt.height||8,At=void 0;return vt.type==="pathString"?At=document.createElementNS("http://www.w3.org/2000/svg","path"):vt.type==="svg"&&(At=document.createElementNS("http://www.w3.org/2000/svg","image"),At.setAttribute("href",vt.content),At.setAttribute("width","".concat(mt,"px")),At.setAttribute("height","".concat(wt,"px"))),At.setAttribute("class","butterflies-arrow"),At}}},{key:"redraw",value:function(q,vt,mt){var wt=this,At=this._path,Kt=this._calcPath(q,vt);At!==Kt&&(this.dom.setAttribute("d",Kt),this.isExpandWidth&&(this.eventHandlerDom.setAttribute("d",Kt),W(this.eventHandlerDom).insertAfter(this.dom)),this._updateTimer||(this._updateTimer=setTimeout(function(){wt.getTotalLength(!0),wt.labelDom&&wt.redrawLabel(),wt.arrowDom&&wt.redrawArrow(Kt),wt.animateDom&&wt.redrawAnimate(Kt),wt._updateTimer=null},this._UPDATE_INTERVAL)),this.updated&&this.updated())}},{key:"isConnect",value:function(){return!0}},{key:"addAnimate",value:function(){var q=this,vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},mt=vt.dur;if(vt.speed){var wt=this.getTotalLength();mt=wt/vt.speed}this.animatePromise=s.default.addAnimate(this.dom,this._path,C.assign({},{num:1,radius:3,dur:mt,color:"#776ef3"},vt),this.animateDom),this.animatePromise.then(function(At){q.animateDom=At})}},{key:"redrawAnimate",value:function(){var q=this;this.animatePromise=s.default.addAnimate(this.dom,this._path,{_isContinue:!0},this.animateDom),this.animatePromise.then(function(vt){q.animateDom=vt})}},{key:"removeAnimate",value:function(){var q=this;this.animatePromise&&(this.animatePromise.then(function(){W(q.animateDom).remove(),q.animateDom=null}),this.animatePromise=null)}},{key:"emit",value:function(q,vt){et(U(nt.prototype),"emit",this).call(this,q,vt),this._emit(q,vt)}},{key:"on",value:function(q,vt){et(U(nt.prototype),"on",this).call(this,q,vt),this._on(q,vt)}},{key:"remove",value:function(){this.emit("InnerEvents",{type:"edge:delete",data:this})}},{key:"setZIndex",value:function(q){this.emit("InnerEvents",{type:"edge:setZIndex",edge:this,index:q})}},{key:"destroy",value:function(q){this.labelDom&&(W(this.labelDom).off(),W(this.labelDom).remove()),this.arrowDom&&W(this.arrowDom).remove(),this.eventHandlerDom&&(W(this.eventHandlerDom).off(),W(this.eventHandlerDom).remove()),this.animateDom&&(W(this.animateDom).remove(),this.animateDom=null),W(this.dom).remove(),this._hasEventListener=!1,this.id&&!q&&this.removeAllListeners()}},{key:"getBreakPoints",value:function(){return this._breakPoints}},{key:"getTotalLength",value:function(q){return(this.totalLen<0||q)&&(this.totalLen=this.dom.getTotalLength()),this.totalLen}},{key:"_addEventListener",value:function(){var q=this,vt=function(At){At.preventDefault(),At.stopPropagation(),q.emit("system.link.click",{edge:q}),q.emit("events",{type:"link:click",edge:q})},mt=function(At){var Kt=At.clientX,jt=At.clientY;if(q.shapeType==="Manhattan"&&q.draggable){var me=q._coordinateService._terminal2canvas("x",Kt),zt=q._coordinateService._terminal2canvas("y",jt),$t=o.findManhattanPoint(q._breakPoints,{x:me,y:zt});q.emit("InnerEvents",{type:"link:dragBegin",edge:q,path:$t})}else q.emit("InnerEvents",{type:"link:mouseDown",edge:q})};this.isExpandWidth?(W(this.eventHandlerDom).on("click",vt),W(this.eventHandlerDom).on("mousedown",mt)):(W(this.dom).on("click",vt),W(this.dom).on("mousedown",mt))}},{key:"_create",value:function(q){this.id=C.get(q,"id")||this.id,this.targetNode=C.get(q,"targetNode")||this.targetNode,this._targetType=C.get(q,"_targetType")||this._targetType,this.targetEndpoint=C.get(q,"targetEndpoint")||this.targetEndpoint,this.sourceNode=C.get(q,"sourceNode")||this.sourceNode,this._sourceType=C.get(q,"_sourceType")||this._sourceType,this.sourceEndpoint=C.get(q,"sourceEndpoint")||this.sourceEndpoint,this.type=C.get(q,"type")||this.type,C.set(this,"options.sourceNode",C.get(this,"sourceNode.id")),C.set(this,"options.sourceEndpoint",C.get(this,"sourceEndpoint.id")),C.set(this,"options.targetNode",C.get(this,"targetNode.id")),C.set(this,"options.targetEndpoint",C.get(this,"targetEndpoint.id")),this.redraw()}},{key:"_updatePath",value:function(q,vt){if(this._breakPoints[q.index].type==="start"){var mt=C.cloneDeep(this._breakPoints[q.index]);this._breakPoints.unshift(mt),q.index++,delete this._breakPoints[q.index].type}else if(this._breakPoints[q.index+1].type==="end"){var wt=C.cloneDeep(this._breakPoints[q.index+1]);this._breakPoints.push(wt),delete this._breakPoints[q.index+1].type}q.direction==="vertical"?(this._breakPoints[q.index].x=vt.x,this._breakPoints[q.index+1].x=vt.x):(this._breakPoints[q.index].y=vt.y,this._breakPoints[q.index+1].y=vt.y),this._hasDragged=!0,this.redraw();for(var At=0;At<this._breakPoints.length-1;At++){var Kt=this._breakPoints[At],jt=this._breakPoints[At+1];Kt.x===jt.x&&Kt.y===jt.y&&Kt.type!=="start"&&jt.type!=="end"&&(this._breakPoints.splice(At,2),q.index=q.index-2>0?q.index-2:0)}}}]),nt}(u.default);c.default=z},3952:function(b,c,e){function n(U){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},n(U)}Object.defineProperty(c,"__esModule",{value:!0}),e(6828);var o=e(2707),f=s(o);function s(U){return U&&U.__esModule?U:{default:U}}function a(U,R){if(!(U instanceof R))throw new TypeError("Cannot call a class as a function")}function u(U,R){for(var g=0;g<R.length;g++){var C=R[g];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(U,p(C.key),C)}}function h(U,R,g){return R&&u(U.prototype,R),g&&u(U,g),Object.defineProperty(U,"prototype",{writable:!1}),U}function p(U){var R=y(U,"string");return n(R)=="symbol"?R:String(R)}function y(U,R){if(n(U)!="object"||!U)return U;var g=U[Symbol.toPrimitive];if(g!==void 0){var C=g.call(U,R||"default");if(n(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(U)}function w(U,R,g){return R=N(R),d(U,D()?Reflect.construct(R,g||[],N(U).constructor):R.apply(U,g))}function d(U,R){if(R&&(n(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(U)}function M(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function D(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D=function(){return!!U})()}function B(){return typeof Reflect<"u"&&Reflect.get?B=Reflect.get.bind():B=function(R,g,C){var W=Y(R,g);if(W){var z=Object.getOwnPropertyDescriptor(W,g);return z.get?z.get.call(arguments.length<3?R:C):z.value}},B.apply(this,arguments)}function Y(U,R){for(;!Object.prototype.hasOwnProperty.call(U,R)&&(U=N(U),U!==null););return U}function N(U){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},N(U)}function A(U,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(R&&R.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),R&&k(U,R)}function k(U,R){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,W){return C.__proto__=W,C},k(U,R)}var tt=e(4609),et=e(9392),K=function(U){A(R,U);function R(g){var C;return a(this,R),C=w(this,R,[g]),C.id=g.id,C.options=g,C.orientation=g.orientation||[0,-1],C.pos=g.pos,C.type=g.type,C.nodeType=et.get(g,"nodeType","node"),C.nodeId=et.get(g,"_node.id"),C.root=g.root,C.scope=g.scope,C.expandArea=g.expandArea,C.limitNum=g.limitNum,C.connectedNum=0,C.options=g,C.__type="endpoint",C._node=g._node,C._global=g._global,C._on=g._on,C._emit=g._emit,C._top=0,C._left=0,C._posTop=0,C._posLeft=0,C._width=0,C._height=0,C._linkable=!1,C._coordinateService=null,C.dom=null,C._isInitedDom=!1,g.dom&&(C.dom=g.dom,C._isInitedDom=!0),C._isInitPos=!1,C._virtualScrollUtil=g._virtualScrollUtil,C}return h(R,[{key:"_init",value:function(C){if(this._coordinateService=C._coordinateService,C.nodeType&&(this.nodeType=C.nodeType),!this._isInitedDom)this.dom=this.draw({id:this.id,orientation:this.orientation,pos:this.pos,dom:this.dom,root:this.root,type:this.type,options:this.options});else{this._width=tt(this.dom).outerWidth(),this._height=tt(this.dom).outerHeight();var W=tt(this.dom)[0].getBoundingClientRect();this._left=this._coordinateService._terminal2canvas("x",W.left),this._top=this._coordinateService._terminal2canvas("y",W.top),this._posTop=this._top,this._posLeft=this._left}this.attachEvent()}},{key:"draw",value:function(C){var W=C.dom;return W?W=tt(W):W=tt('<div class="butterflie-circle-endpoint"></div>').attr("id",this.id),W[0]}},{key:"updatePos",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dom,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.orientation,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.pos,G=arguments.length>3?arguments[3]:void 0,nt=this._node.__type==="node"?this._virtualScrollUtil.isHiddenNode(this._node.id):this._virtualScrollUtil.isHiddenGroup(this._node.id);if(nt){this._isInitPos||(this._posTop=this._top=this._node.top,this._posLeft=this._left=this._node.left);return}if(this._isInitedDom){this._width=tt(this.dom).outerWidth(),this._height=tt(this.dom).outerHeight();var j=tt(this.dom)[0].getBoundingClientRect();this._left=this._coordinateService._terminal2canvas("x",j.left),this._top=this._coordinateService._terminal2canvas("y",j.top),this._posLeft=this._left,this._posTop=this._top}else{var q=this._node,vt=tt(this._node.dom);this.nodeType;var mt=vt.outerWidth(),wt=vt.outerHeight(),At=null,Kt=0,jt=0;this.root&&(At=vt.find(this.root),Kt=At.width(),jt=At.height()),this._width=tt(C).outerWidth(),this._height=tt(C).outerHeight();var me=this._width/2,zt=this._height/2,$t=0,Pt=0,Ft=W||this.orientation||[0,-1],se=z||this.pos||[Ft[0]===0?.5:0,Ft[1]===0?.5:0],de=[0,0],Ie=Ft[0],Oe=Ft[1],Qt=se[0],$e=se[1];if(Ie===0?de[0]=this.root?Kt*Qt-me:mt*Qt-me:Ie===-1?de[0]=0-me:Ie===1&&(de[0]=this.root?Kt-me:mt-me),Oe===0?de[1]=this.root?jt*$e-zt:wt*$e-zt:Oe===-1?de[1]=0-zt:Oe===1&&(de[1]=this.root?jt-zt:wt-zt),q&&!this.root)$t+=q.top,Pt+=q.left;else if(q&&this.root){var rn=vt.offset(),ln=At.offset();$t+=ln.top-rn.top+q.top,Pt+=ln.left-rn.left+q.left}if(this._top=de[1]+$t,this._left=de[0]+Pt,this._posTop=this._top,this._posLeft=this._left,q._group){var fn=this._getGroupPos(q._group);this._posTop+=fn.top,this._posLeft+=fn.left}tt(C).css("top",this._top).css("left",this._left),this.updated&&this.updated()}this._isInitPos=!0,G||this.emit("InnerEvents",{type:"endpoint:updatePos",point:this})}},{key:"_getGroupPos",value:function(C){for(var W=C,z=0,G=0;W;)z+=W.top,G+=W.left,W=W._group;return{top:z,left:G}}},{key:"hasConnection",value:function(){return this.connectedNum>0}},{key:"moveTo",value:function(C,W){this._top=W,this._left=C,this._posTop=this._top,this._posLeft=this._left,this._isInitedDom||(tt(this.dom).css("top",W).css("left",C),et.get(this,"_node._group")&&(this._posTop+=this._node._group.top,this._posLeft+=this._node._group.left))}},{key:"linkable",value:function(){tt(this.dom).addClass("linkable")}},{key:"unLinkable",value:function(){tt(this.dom).removeClass("linkable")}},{key:"hoverLinkable",value:function(){tt(this.dom).addClass("hover")}},{key:"unHoverLinkable",value:function(){tt(this.dom).removeClass("hover")}},{key:"attachEvent",value:function(){var C=this;tt(this.dom).on("mousedown",function(W){var z=0;W.button===z&&(W.preventDefault(),W.stopPropagation(),C.emit("InnerEvents",{type:"endpoint:drag",data:C}))})}},{key:"emit",value:function(C,W){B(N(R.prototype),"emit",this).call(this,C,W),this._emit(C,W)}},{key:"on",value:function(C,W){B(N(R.prototype),"on",this).call(this,C,W),this._on(C,W)}},{key:"destroy",value:function(C){C?tt(this.dom).detach():(tt(this.dom).off(),tt(this.dom).remove(),this.removeAllListeners())}}]),R}(f.default);c.default=K},5268:function(b,c,e){function n(z){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},n(z)}Object.defineProperty(c,"__esModule",{value:!0}),e(8031);var o=e(2592),f=p(o),s=e(3952),a=p(s),u=e(1106),h=p(u);function p(z){return z&&z.__esModule?z:{default:z}}function y(z,G,nt){return G=D(G),G in z?Object.defineProperty(z,G,{value:nt,enumerable:!0,configurable:!0,writable:!0}):z[G]=nt,z}function w(z,G){if(!(z instanceof G))throw new TypeError("Cannot call a class as a function")}function d(z,G){for(var nt=0;nt<G.length;nt++){var j=G[nt];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(z,D(j.key),j)}}function M(z,G,nt){return G&&d(z.prototype,G),nt&&d(z,nt),Object.defineProperty(z,"prototype",{writable:!1}),z}function D(z){var G=B(z,"string");return n(G)=="symbol"?G:String(G)}function B(z,G){if(n(z)!="object"||!z)return z;var nt=z[Symbol.toPrimitive];if(nt!==void 0){var j=nt.call(z,G||"default");if(n(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(z)}function Y(z,G,nt){return G=K(G),N(z,k()?Reflect.construct(G,nt||[],K(z).constructor):G.apply(z,nt))}function N(z,G){if(G&&(n(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(z)}function A(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function k(){try{var z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k=function(){return!!z})()}function tt(){return typeof Reflect<"u"&&Reflect.get?tt=Reflect.get.bind():tt=function(G,nt,j){var q=et(G,nt);if(q){var vt=Object.getOwnPropertyDescriptor(q,nt);return vt.get?vt.get.call(arguments.length<3?G:j):vt.value}},tt.apply(this,arguments)}function et(z,G){for(;!Object.prototype.hasOwnProperty.call(z,G)&&(z=K(z),z!==null););return z}function K(z){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(nt){return nt.__proto__||Object.getPrototypeOf(nt)},K(z)}function U(z,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(G&&G.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),G&&R(z,G)}function R(z,G){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,q){return j.__proto__=q,j},R(z,G)}var g=e(4609),C=e(9392),W=function(z){U(G,z);function G(nt){var j;return w(this,G),j=Y(this,G,[nt]),j.id=nt.id,j.scope=nt.scope,j.top=nt.top,j.left=nt.left,j.width=nt.width||300,j.height=nt.height||150,j.resize=nt.resize,j.draggable=nt.draggable,j.group=nt.group,j.dom=null,j.nodes=[],j.groups=[],j.options=nt.options,j.__type="group",j._global=nt._global,j._on=nt._on,j._emit=nt._emit,j._container=null,j.endpoints=[],j._endpointsData=nt.endpoints,j._isMoving=!1,j._isResizing=!1,j._virtualScrollUtil=nt._virtualScrollUtil,j}return M(G,[{key:"_init",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._isInited||(j.left&&(this.left=j.left),j.top&&(this.top=j.top),j.width&&(this.width=j.width),j.height&&(this.height=j.height),this._isInited=!0,j._isDeleteGroup?(this.group=void 0,this._group=void 0):j.group&&(this.group=j.group),j.dom&&(this.dom=j.dom),this.dom?(this.left&&g(this.dom).css("left","".concat(this.left,"px")),this.top&&g(this.dom).css("top","".concat(this.top,"px")),this.width&&g(this.dom).css("width","".concat(this.width,"px")),this.height&&g(this.dom).css("height","".concat(this.height,"px"))):this.dom=this.draw({id:this.id,top:this.top,left:this.left,width:this.width,height:this.height,dom:this.dom,options:this.options}),this._hasEventListener||(this._addEventListener(),this._hasEventListener=!0))}},{key:"draw",value:function(j){var q=j.dom;q||(q=g("<div></div>").attr("class","group").attr("id",j.id));var vt=g(q),mt=g("<div></div>").attr("class","title");return C.get(this,"options.title")&&mt.text(C.get(this,"options.title")),vt.append(mt),this._container=g("<div></div>").attr("class","container"),vt.append(this._container),this.resize!==!1&&this.setResize(!0,vt),j.top!==void 0&&vt.css("top",j.top+"px"),j.left!==void 0&&vt.css("left",j.left+"px"),j.width!==void 0&&vt.css("width",j.width+"px"),j.height!==void 0&&vt.css("height",j.height+"px"),this.updated&&this.updated(),vt[0]}},{key:"addNodes",value:function(){var j=this,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],vt=arguments.length>1?arguments[1]:void 0;q.forEach(function(mt){(0,h.default)(mt.scope,j.scope,C.get(j,"_global.isScopeStrict"))||console.log("nodeId为".concat(mt.id,"的节点和groupId").concat(j.id,"的节点组scope值不符，无法加入"))}),this.emit("InnerEvents",{type:"group:addNodes",nodes:q,group:this,isNotEventEmit:vt})}},{key:"addNode",value:function(j){this.addNodes([j])}},{key:"removeNodes",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],q=arguments.length>1?arguments[1]:void 0,vt=[];return this.nodes.forEach(function(mt){var wt=C.find(j,function(At){return At.id===mt.id});wt&&vt.push(wt)}),this.emit("InnerEvents",{type:"group:removeNodes",group:this,nodes:vt,isNotEventEmit:q}),q||(this.emit("events",y({type:"system.group.removeNodes",group:this,nodes:vt},"group",targetGroup)),this.emit("system.group.removeNodes",y({group:this,nodes:vt},"group",targetGroup))),vt}},{key:"removeNode",value:function(j){return this.removeNodes([j])}},{key:"setResize",value:function(j){var q=this,vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.dom,mt=arguments.length>2?arguments[2]:void 0,wt=function(jt){var me=0;jt.button===me&&(q._isResizing=!0,jt.preventDefault(),q.emit("InnerEvents",{type:"group:resize",group:q}))};if(j){var At=null;mt?(At=g(mt),At.addClass("butterfly-group-icon-resize")):At=g('<span class="butterfly-group-icon-resize group-icon-resize butterfly-icon icon-drag"></span>'),At.appendTo(vt),At.on("mousedown",wt)}}},{key:"setSize",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.width,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.height;this.width=j,this.height=q,g(this.dom).css("width",this.width).css("height",this.height)}},{key:"remove",value:function(){this.emit("InnerEvents",{type:"group:delete",data:this})}},{key:"_moveTo",value:function(j,q){var vt=this;g(this.dom).css("top",q).css("left",j),this.endpoints.forEach(function(wt){wt.moveTo(j-vt.left+wt._left,q-vt.top+wt._top)});var mt=function(At){for(var Kt=[],jt=[At];jt.length>0;){var me=jt.pop();Kt=Kt.concat(me.nodes),Kt=Kt.concat(me.groups),jt=jt.concat(me.groups)}return Kt};mt(this).forEach(function(wt){wt.endpoints.forEach(function(At){At.updatePos()})}),this.top=q,this.left=j}},{key:"moveTo",value:function(j,q,vt){this.emit("InnerEvents",{type:"group:move",group:this,x:j,y:q,isNotEventEmit:vt})}},{key:"focus",value:function(){}},{key:"unFocus",value:function(){}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getEndpoint",value:function(j){return C.find(this.endpoints,function(q){return j===q.id})}},{key:"removeEndpoint",value:function(j){var q=C.findIndex(this.endpoints,function(mt){return mt.id===j});if(q!==-1){var vt=this.endpoints.splice(q,1)[0];return this.emit("InnerEvents",{type:"node:removeEndpoint",data:vt}),vt.destroy(),vt}}},{key:"_appendChildren",value:function(){var j=this,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];q.forEach(function(vt){vt._group=j,vt.group=j.id,g(j.dom).append(vt.dom),vt.__type==="node"?j.nodes.push(vt):j.groups.push(vt)})}},{key:"_addEventListener",value:function(){var j=this,q={timer:0,x:0,y:0};g(this.dom).on("mousedown",function(vt){for(var mt=j.getSubGroup().concat(j),wt=!1,At=0;At<mt.length&&(wt=C.some(mt[At].nodes.concat(mt[At].groups),function(me){return me._isMoving}),!wt);At++);if(!wt){var Kt=g(vt.target).attr("class");if(!(Kt&&Kt.indexOf("butterfly-group-icon-resize")!==-1)){var jt=0;vt.button===jt&&(C.isFunction(j.canMousedown)&&!j.canMousedown(vt)||(vt.preventDefault(),j._group&&vt.stopPropagation(),q={timer:new Date().getTime(),x:j.left,y:j.top},j.draggable&&(j._isMoving=!0,j.emit("InnerEvents",{type:"group:dragBegin",data:j}))))}}}),g(this.dom).on("mouseup",function(vt){var mt=vt.originalEvent.path||[],wt=C.some(j.nodes,function(zt){return C.some(mt,function($t){return zt.dom===$t})});if(!wt&&!(C.isFunction(j.canMouseUp)&&!j.canMouseUp(vt))){for(var At={timer:new Date().getTime(),x:j.left,y:j.top},Kt=!1,jt=0;jt<j.nodes.length;jt++){var me=j.nodes[jt];if(g(me.dom).find(vt.target).length>0){Kt=!0;break}}!j._isResizing&&!Kt&&(At.timer-q.timer<300||Math.abs(q.x-At.x)<20&&Math.abs(q.y-At.y)<20)&&(j.emit("system.group.click",{group:j}),j.emit("events",{type:"group:click",group:j})),j._isResizing=!1}})}},{key:"_createEndpoint",value:function(j){var q=this;j?this.endpoints.forEach(function(vt){return q.addEndpoint(vt,j)}):this._endpointsData&&this._endpointsData.map(function(vt){return q.addEndpoint(vt)})}},{key:"getParentGroup",value:function(){for(var j=[],q=this;q;)q=q._group,q&&j.push(q);return j}},{key:"getSubGroup",value:function(){for(var j=[],q=[this];q.length>0;){var vt=q.pop();j=j.concat(vt.groups),q=q.concat(vt.groups)}return j}},{key:"addEndpoint",value:function(j,q){if(q)return this.emit("InnerEvents",{type:"group:addEndpoint",data:j,isInited:q}),j;var vt=j.Class||a.default,mt=new vt(C.assign({_on:this._on,_emit:this._emit,_virtualScrollUtil:this._virtualScrollUtil,_node:this,_global:this._global},j));return this.emit("InnerEvents",{type:"group:addEndpoint",data:mt}),this.endpoints.push(mt),mt}},{key:"emit",value:function(j,q){tt(K(G.prototype),"emit",this).call(this,j,q),this._emit(j,q)}},{key:"on",value:function(j,q){tt(K(G.prototype),"on",this).call(this,j,q),this._on(j,q)}},{key:"destroy",value:function(j){this.endpoints.forEach(function(q){!q._isInitedDom&&q.destroy(j)}),j?g(this.dom).detach():(this._emit("system.group.delete",{group:this}),this._emit("events",{type:"group:delete",group:this}),g(this.dom).off(),g(this.dom).remove(),this.removeAllListeners(),this._hasEventListener=!1),this._isInited=!1}}]),G}(f.default);c.default=W},7711:function(b,c,e){function n(N){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},n(N)}Object.defineProperty(c,"__esModule",{value:!0});function o(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}function f(N,A){for(var k=0;k<A.length;k++){var tt=A[k];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(N,a(tt.key),tt)}}function s(N,A,k){return A&&f(N.prototype,A),k&&f(N,k),Object.defineProperty(N,"prototype",{writable:!1}),N}function a(N){var A=u(N,"string");return n(A)=="symbol"?A:String(A)}function u(N,A){if(n(N)!="object"||!N)return N;var k=N[Symbol.toPrimitive];if(k!==void 0){var tt=k.call(N,A||"default");if(n(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(N)}function h(N,A,k){return A=d(A),p(N,w()?Reflect.construct(A,k||[],d(N).constructor):A.apply(N,k))}function p(N,A){if(A&&(n(A)==="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(N)}function y(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function w(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!N})()}function d(N){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},d(N)}function M(N,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),A&&D(N,A)}function D(N,A){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,et){return tt.__proto__=et,tt},D(N,A)}var B=e(666),Y=function(N){M(A,N);function A(){return o(this,A),h(this,A)}return s(A,[{key:"draw",value:function(){}},{key:"getNode",value:function(){}},{key:"getEdge",value:function(){}},{key:"getGroup",value:function(){}},{key:"addNode",value:function(){}},{key:"addNodes",value:function(){}},{key:"addEdge",value:function(){}},{key:"addEdges",value:function(){}},{key:"addGroups",value:function(){}},{key:"removeNode",value:function(){}},{key:"removeNodes",value:function(){}},{key:"removeEdge",value:function(){}},{key:"removeEdges",value:function(){}},{key:"removeGroup",value:function(){}},{key:"getNeighborEdges",value:function(){}},{key:"getNeighborNodes",value:function(){}},{key:"getNeighborNodesAndEdgesByLevel",value:function(){}},{key:"getAdjcentTable",value:function(){}},{key:"getZoom",value:function(){}},{key:"setZoomable",value:function(){}},{key:"zoom",value:function(){}},{key:"getOffset",value:function(){}},{key:"setMoveable",value:function(){}},{key:"move",value:function(){}},{key:"getOrigin",value:function(){}},{key:"setOrigin",value:function(){}},{key:"getDataMap",value:function(){}},{key:"setGirdMode",value:function(){}},{key:"setGuideLine",value:function(){}},{key:"justifyCoordinate",value:function(){}},{key:"setSelectMode",value:function(){}},{key:"getUnion",value:function(){}},{key:"getAllUnion",value:function(){}},{key:"add2Union",value:function(){}},{key:"removeUnion",value:function(){}},{key:"removeAllUnion",value:function(){}},{key:"focusNodeWithAnimate",value:function(){}},{key:"focusNodesWithAnimate",value:function(){}},{key:"canvas2terminal",value:function(){}},{key:"terminal2canvas",value:function(){}},{key:"save2img",value:function(){}},{key:"updateRootResize",value:function(){}},{key:"click",value:function(){}},{key:"doubleClick",value:function(){}},{key:"onContextmenu",value:function(){}}]),A}(B);c.default=Y},8409:function(b,c,e){function n(N){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},n(N)}Object.defineProperty(c,"__esModule",{value:!0});function o(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}function f(N,A){for(var k=0;k<A.length;k++){var tt=A[k];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(N,a(tt.key),tt)}}function s(N,A,k){return A&&f(N.prototype,A),k&&f(N,k),Object.defineProperty(N,"prototype",{writable:!1}),N}function a(N){var A=u(N,"string");return n(A)=="symbol"?A:String(A)}function u(N,A){if(n(N)!="object"||!N)return N;var k=N[Symbol.toPrimitive];if(k!==void 0){var tt=k.call(N,A||"default");if(n(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(N)}function h(N,A,k){return A=d(A),p(N,w()?Reflect.construct(A,k||[],d(N).constructor):A.apply(N,k))}function p(N,A){if(A&&(n(A)==="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(N)}function y(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function w(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!N})()}function d(N){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},d(N)}function M(N,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),A&&D(N,A)}function D(N,A){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,et){return tt.__proto__=et,tt},D(N,A)}var B=e(666),Y=function(N){M(A,N);function A(){return o(this,A),h(this,A)}return s(A,[{key:"draw",value:function(){}},{key:"redraw",value:function(){}},{key:"drawLabel",value:function(){}},{key:"redrawLabel",value:function(){}},{key:"drawArrow",value:function(){}},{key:"redrawArrow",value:function(){}},{key:"isConnect",value:function(){}},{key:"destroy",value:function(){}},{key:"remove",value:function(){}},{key:"click",value:function(){}},{key:"hover",value:function(){}},{key:"focus",value:function(){}},{key:"unFocus",value:function(){}}]),A}(B);c.default=Y},2707:function(b,c,e){function n(N){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},n(N)}Object.defineProperty(c,"__esModule",{value:!0});function o(N,A){for(var k=0;k<A.length;k++){var tt=A[k];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(N,s(tt.key),tt)}}function f(N,A,k){return A&&o(N.prototype,A),k&&o(N,k),Object.defineProperty(N,"prototype",{writable:!1}),N}function s(N){var A=a(N,"string");return n(A)=="symbol"?A:String(A)}function a(N,A){if(n(N)!="object"||!N)return N;var k=N[Symbol.toPrimitive];if(k!==void 0){var tt=k.call(N,A||"default");if(n(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(N)}function u(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}function h(N,A,k){return A=d(A),p(N,w()?Reflect.construct(A,k||[],d(N).constructor):A.apply(N,k))}function p(N,A){if(A&&(n(A)==="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(N)}function y(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function w(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!N})()}function d(N){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},d(N)}function M(N,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),A&&D(N,A)}function D(N,A){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,et){return tt.__proto__=et,tt},D(N,A)}var B=e(666),Y=function(N){M(A,N);function A(){return u(this,A),h(this,A)}return f(A)}(B);c.default=Y},2592:function(b,c,e){function n(N){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},n(N)}Object.defineProperty(c,"__esModule",{value:!0});function o(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}function f(N,A){for(var k=0;k<A.length;k++){var tt=A[k];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(N,a(tt.key),tt)}}function s(N,A,k){return A&&f(N.prototype,A),k&&f(N,k),Object.defineProperty(N,"prototype",{writable:!1}),N}function a(N){var A=u(N,"string");return n(A)=="symbol"?A:String(A)}function u(N,A){if(n(N)!="object"||!N)return N;var k=N[Symbol.toPrimitive];if(k!==void 0){var tt=k.call(N,A||"default");if(n(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(N)}function h(N,A,k){return A=d(A),p(N,w()?Reflect.construct(A,k||[],d(N).constructor):A.apply(N,k))}function p(N,A){if(A&&(n(A)==="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(N)}function y(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function w(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!N})()}function d(N){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},d(N)}function M(N,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),A&&D(N,A)}function D(N,A){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,et){return tt.__proto__=et,tt},D(N,A)}var B=e(666),Y=function(N){M(A,N);function A(){return o(this,A),h(this,A)}return s(A,[{key:"draw",value:function(){}},{key:"addNode",value:function(){}},{key:"addNodes",value:function(){}},{key:"getWidth",value:function(){}},{key:"getHeight",value:function(){}},{key:"removeNode",value:function(){}},{key:"removeNodes",value:function(){}},{key:"setResize",value:function(){}},{key:"setSize",value:function(){}},{key:"moveTo",value:function(){}},{key:"getEndpoint",value:function(){}},{key:"addEndpoint",value:function(){}},{key:"remove",value:function(){}},{key:"destroy",value:function(){}},{key:"removeEndpoint",value:function(){}},{key:"collapse",value:function(){}},{key:"stretch",value:function(){}},{key:"click",value:function(){}},{key:"doubleClick",value:function(){}},{key:"onContextmenu",value:function(){}},{key:"hover",value:function(){}},{key:"focus",value:function(){}},{key:"unFocus",value:function(){}}]),A}(B);c.default=Y},7125:function(b,c,e){function n(N){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},n(N)}Object.defineProperty(c,"__esModule",{value:!0});function o(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}function f(N,A){for(var k=0;k<A.length;k++){var tt=A[k];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(N,a(tt.key),tt)}}function s(N,A,k){return A&&f(N.prototype,A),k&&f(N,k),Object.defineProperty(N,"prototype",{writable:!1}),N}function a(N){var A=u(N,"string");return n(A)=="symbol"?A:String(A)}function u(N,A){if(n(N)!="object"||!N)return N;var k=N[Symbol.toPrimitive];if(k!==void 0){var tt=k.call(N,A||"default");if(n(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(N)}function h(N,A,k){return A=d(A),p(N,w()?Reflect.construct(A,k||[],d(N).constructor):A.apply(N,k))}function p(N,A){if(A&&(n(A)==="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(N)}function y(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function w(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!N})()}function d(N){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},d(N)}function M(N,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),A&&D(N,A)}function D(N,A){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,et){return tt.__proto__=et,tt},D(N,A)}var B=e(666),Y=function(N){M(A,N);function A(){return o(this,A),h(this,A)}return s(A,[{key:"draw",value:function(){}},{key:"getEndpoint",value:function(){}},{key:"addEndpoint",value:function(){}},{key:"removeEndpoint",value:function(){}},{key:"moveTo",value:function(){}},{key:"getWidth",value:function(){}},{key:"getHeight",value:function(){}},{key:"setDraggable",value:function(){}},{key:"remove",value:function(){}},{key:"destroy",value:function(){}},{key:"focus",value:function(){}},{key:"unFocus",value:function(){}},{key:"click",value:function(){}},{key:"doubleClick",value:function(){}},{key:"onContextmenu",value:function(){}},{key:"hover",value:function(){}}]),A}(B);c.default=Y},7305:function(b,c,e){function n(g){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},n(g)}Object.defineProperty(c,"__esModule",{value:!0});var o=e(7125),f=u(o),s=e(3952),a=u(s);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,C){if(!(g instanceof C))throw new TypeError("Cannot call a class as a function")}function p(g,C){for(var W=0;W<C.length;W++){var z=C[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(g,w(z.key),z)}}function y(g,C,W){return C&&p(g.prototype,C),W&&p(g,W),Object.defineProperty(g,"prototype",{writable:!1}),g}function w(g){var C=d(g,"string");return n(C)=="symbol"?C:String(C)}function d(g,C){if(n(g)!="object"||!g)return g;var W=g[Symbol.toPrimitive];if(W!==void 0){var z=W.call(g,C||"default");if(n(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(g)}function M(g,C,W){return C=k(C),D(g,Y()?Reflect.construct(C,W||[],k(g).constructor):C.apply(g,W))}function D(g,C){if(C&&(n(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(g)}function B(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function Y(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y=function(){return!!g})()}function N(){return typeof Reflect<"u"&&Reflect.get?N=Reflect.get.bind():N=function(C,W,z){var G=A(C,W);if(G){var nt=Object.getOwnPropertyDescriptor(G,W);return nt.get?nt.get.call(arguments.length<3?C:z):nt.value}},N.apply(this,arguments)}function A(g,C){for(;!Object.prototype.hasOwnProperty.call(g,C)&&(g=k(g),g!==null););return g}function k(g){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},k(g)}function tt(g,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(C&&C.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),C&&et(g,C)}function et(g,C){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,G){return z.__proto__=G,z},et(g,C)}var K=e(4609),U=e(9392),R=function(g){tt(C,g);function C(W){var z;return h(this,C),z=M(this,C,[W]),z.id=W.id,z.scope=W.scope,z.group=W.group,z.top=W.top||0,z.left=W.left||0,z.dom=W.dom||null,z.draggable=W.draggable,z.options=W,z.__type="node",z._on=W._on,z._emit=W._emit,z._global=W._global,z.endpoints=[],z._endpointsData=W.endpoints,z._endpointLimitNum=W._endpointLimitNum,z._isMoving=!1,z.width=void 0,z.height=void 0,z._isForceUpdateSize=!1,z._virtualScrollUtil=W._virtualScrollUtil,z}return y(C,[{key:"draw",value:function(z){var G=z.dom;G||(G=K("<div></div>").attr("class","node").attr("id",z.id));var nt=K(G);return z.top!==void 0&&nt.css("top","".concat(z.top,"px")),z.left!==void 0&&nt.css("left","".concat(z.left,"px")),this.updated&&this.updated(),nt[0]}},{key:"focus",value:function(){}},{key:"unFocus",value:function(){}},{key:"addEndpoint",value:function(z,G){if(G)return this.emit("InnerEvents",{type:"node:addEndpoint",data:z,isInited:G}),z;var nt=z.Class||a.default,j=new nt(U.assign({limitNum:z.limitNum||this._endpointLimitNum,_on:this._on,_emit:this._emit,_virtualScrollUtil:this._virtualScrollUtil,_node:this,_global:this._global},z));this.emit("InnerEvents",{type:"node:addEndpoint",data:j});var q=K(this.dom).css("z-index");return q!=="auto"&&K(j.dom).css("z-index",Number(q)+1),this.endpoints.push(j),j}},{key:"removeEndpoint",value:function(z){var G=U.findIndex(this.endpoints,function(j){return j.id===z});if(G!==-1){var nt=this.endpoints.splice(G,1)[0];return this.emit("InnerEvents",{type:"node:removeEndpoint",data:nt}),nt.destroy(),nt}}},{key:"getEndpoint",value:function(z,G){return U.find(this.endpoints,function(nt){return!nt.type||nt.type==="onlyConnect"?z===nt.id:z===nt.id&&(G&&G===nt.type||!G)})}},{key:"_init",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._isInited||(z.left&&(this.left=z.left),z.top&&(this.top=z.top),z._isDeleteGroup?(this.group=void 0,this._group=void 0):z.group&&(this.group=z.group),delete z._isDeleteGroup,this._isInited=!0,z.dom?(this.dom=z.dom,z.left&&K(this.dom).css("left","".concat(z.left,"px")),z.top&&K(this.dom).css("top","".concat(z.top,"px"))):this.dom=this.draw(U.assign({id:this.id,top:this.top,left:this.left,dom:this.dom,options:this.options},z)),this._hasEventListener||(this._addEventListener(),this._hasEventListener=!0))}},{key:"_moveTo",value:function(z,G){var nt=this;K(this.dom).css("top",G).css("left",z),this.endpoints.forEach(function(j){j.moveTo(z-nt.left+j._left,G-nt.top+j._top)}),this.top=G,this.left=z}},{key:"moveTo",value:function(z,G,nt){z===this.left&&G===this.top||this.emit("InnerEvents",{type:"node:move",node:this,x:z,y:G,isNotEventEmit:nt})}},{key:"getWidth",value:function(z){return this.virtualHidden?this.width:((!z||!this.width||this._isForceUpdateSize)&&(this.width=K(this.dom).outerWidth(),this._isForceUpdateSize=!1),this.width)}},{key:"getHeight",value:function(z){return this.virtualHidden?this.height:((!z||!this.height||this._isForceUpdateSize)&&(this.height=K(this.dom).outerHeight(),this._isForceUpdateSize=!1),this.height)}},{key:"_createEndpoint",value:function(z){var G=this;z?this.endpoints.forEach(function(nt){return G.addEndpoint(nt,z)}):this._endpointsData&&this._endpointsData.map(function(nt){return G.addEndpoint(nt)})}},{key:"_addEventListener",value:function(){var z=this,G={timer:0,x:0,y:0};K(this.dom).on("mousedown",function(nt){var j=0;nt.button===j&&(U.isFunction(z.canMouseDown)&&!z.canMouseDown(nt)||(["SELECT","INPUT","RADIO","CHECKBOX","TEXTAREA"].includes(nt.target.nodeName)||nt.preventDefault(),G={timer:new Date().getTime(),x:z.left,y:z.top},z.draggable?(z._isMoving=!0,z.emit("InnerEvents",{type:"node:dragBegin",data:z})):z.emit("InnerEvents",{type:"node:mouseDown",data:z})))}),K(this.dom).on("mouseup",function(nt){if(!(U.isFunction(z.canMouseUp)&&!z.canMouseUp(nt))){var j={timer:new Date().getTime(),x:z.left,y:z.top};(j.timer-G.timer<300||Math.abs(G.x-j.x)<20&&Math.abs(G.y-j.y)<20)&&(z.emit("system.node.click",{node:z}),z.emit("events",{type:"node:click",node:z}))}}),this.setDraggable(this.draggable)}},{key:"setDraggable",value:function(z){this.draggable=z}},{key:"remove",value:function(){this.emit("InnerEvents",{type:"node:delete",data:this})}},{key:"emit",value:function(z,G){N(k(C.prototype),"emit",this).call(this,z,G),this._emit(z,G)}},{key:"on",value:function(z,G){N(k(C.prototype),"on",this).call(this,z,G),this._on(z,G)}},{key:"destroy",value:function(z){z?(this.endpoints.forEach(function(G){!G._isInitedDom&&G.destroy(z)}),K(this.dom).detach()):(this.endpoints.forEach(function(G){!G._isInitedDom&&G.destroy()}),K(this.dom).remove(),this.removeAllListeners(),this._hasEventListener=!1),this._isInited=!1}}]),C}(f.default);c.default=R},5340:function(b,c,e){function n(et){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},n(et)}Object.defineProperty(c,"__esModule",{value:!0});var o=e(7305),f=s(o);function s(et){return et&&et.__esModule?et:{default:et}}function a(et,K){if(!(et instanceof K))throw new TypeError("Cannot call a class as a function")}function u(et,K){for(var U=0;U<K.length;U++){var R=K[U];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(et,p(R.key),R)}}function h(et,K,U){return K&&u(et.prototype,K),U&&u(et,U),Object.defineProperty(et,"prototype",{writable:!1}),et}function p(et){var K=y(et,"string");return n(K)=="symbol"?K:String(K)}function y(et,K){if(n(et)!="object"||!et)return et;var U=et[Symbol.toPrimitive];if(U!==void 0){var R=U.call(et,K||"default");if(n(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(et)}function w(et,K,U){return K=N(K),d(et,D()?Reflect.construct(K,U||[],N(et).constructor):K.apply(et,U))}function d(et,K){if(K&&(n(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(et)}function M(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function D(){try{var et=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D=function(){return!!et})()}function B(){return typeof Reflect<"u"&&Reflect.get?B=Reflect.get.bind():B=function(K,U,R){var g=Y(K,U);if(g){var C=Object.getOwnPropertyDescriptor(g,U);return C.get?C.get.call(arguments.length<3?K:R):C.value}},B.apply(this,arguments)}function Y(et,K){for(;!Object.prototype.hasOwnProperty.call(et,K)&&(et=N(et),et!==null););return et}function N(et){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},N(et)}function A(et,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(K&&K.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),K&&k(et,K)}function k(et,K){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,g){return R.__proto__=g,R},k(et,K)}var tt=function(et){A(K,et);function K(U){var R;return a(this,K),R=w(this,K,[U]),R.children=U.children,R.parent=U.parent,R.collapsed=U.collapsed||!1,U.isRoot&&(R.isRoot=U.isRoot),R}return h(K,[{key:"_init",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};B(N(K.prototype),"_init",this).call(this,R),R.parent&&(this.parent=R.parent,this.options.parent=R.parent)}},{key:"collapse",value:function(){this._emit("InnerEvents",{type:"node:collapse",nodeId:this.id}),this.collapsed=!0}},{key:"expand",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this._emit("InnerEvents",{type:"node:expand",nodeId:this.id,nodes:R}),delete this.collapsed}},{key:"detectLeaf",value:function(){return!(this.children&&this.children.length>0)}},{key:"detectRoot",value:function(){return this.isRoot}}]),K}(f.default);c.default=tt},1172:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(9392),o=f(n);function f(d){return d&&d.__esModule?d:{default:d}}function s(d){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s(d)}function a(d,M){if(!(d instanceof M))throw new TypeError("Cannot call a class as a function")}function u(d,M){for(var D=0;D<M.length;D++){var B=M[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(d,p(B.key),B)}}function h(d,M,D){return M&&u(d.prototype,M),D&&u(d,D),Object.defineProperty(d,"prototype",{writable:!1}),d}function p(d){var M=y(d,"string");return s(M)=="symbol"?M:String(M)}function y(d,M){if(s(d)!="object"||!d)return d;var D=d[Symbol.toPrimitive];if(D!==void 0){var B=D.call(d,M||"default");if(s(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(d)}var w=function(){function d(){a(this,d),this.ARROW_TYPE={default1:{type:"pathString",content:"M0 0 L-3 3 L2 0 L-3 -3 Z"},default:{type:"pathString",content:"M5 0 L0 -2 Q 1.0 0 0 2 Z"},large:{type:"pathString",content:"M5 0 L0 -5 Q 1.0 0 0 5 Z"},large1:{type:"pathString",content:"M0 0 L-5 5 L2 0 L-5 -5 Z"},length:5}}return h(d,[{key:"calcSlope",value:function(D){var B=o.default.get(D,"shapeType"),Y=o.default.get(D,"dom"),N=o.default.get(D,"arrowPosition",.5),A=o.default.get(D,"path"),k=A.split(" "),tt=0,et=0;if(B==="BezierTest"||B==="AdvancedBezierTest"){var K={x:k[8],y:k[9]},U={x:k[1],y:k[2]};N!==1?(K=Y.getPointAtLength(Y.getTotalLength()*N+.001),U=Y.getPointAtLength(Y.getTotalLength()*N)):(K=Y.getPointAtLength(Y.getTotalLength()*N),U=Y.getPointAtLength(Y.getTotalLength()*N-.001)),tt=U.x-K.x,et=U.y-K.y}else if(B==="Straight"){var R={x:k[1],y:k[2]},g={x:k[4],y:k[5]};tt=g.x-R.x,et=g.y-R.y}else{var C=0,W=1;N!==1?(C=Y.getPointAtLength(Y.getTotalLength()*N),W=Y.getPointAtLength(Y.getTotalLength()*N+.001)):(C=Y.getPointAtLength(Y.getTotalLength()*N-.001),W=Y.getPointAtLength(Y.getTotalLength()*N)),tt=W.x-C.x,et=W.y-C.y}return{x:tt,y:et}}},{key:"registerArrow",value:function(D){var B=this;D.forEach(function(Y){B.ARROW_TYPE[Y.key]={type:Y.type,content:Y.content,width:Y.width,height:Y.height}})}}]),d}();c.default=w},5500:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});function n(y){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},n(y)}function o(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){for(var d=0;d<w.length;d++){var M=w[d];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(y,a(M.key),M)}}function s(y,w,d){return w&&f(y.prototype,w),d&&f(y,d),Object.defineProperty(y,"prototype",{writable:!1}),y}function a(y){var w=u(y,"string");return n(w)=="symbol"?w:String(w)}function u(y,w){if(n(y)!="object"||!y)return y;var d=y[Symbol.toPrimitive];if(d!==void 0){var M=d.call(y,w||"default");if(n(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(y)}var h=e(9392),p=function(){function y(w){o(this,y),this.canvas=w.canvas,this.terOffsetX=w.terOffsetX||0,this.terOffsetY=w.terOffsetY||0,this.terWidth=w.terWidth||0,this.terHeight=w.terHeight||0,this.canOffsetX=w.canOffsetX||0,this.canOffsetY=w.canOffsetY||0,this.scale=w.scale||1,this.scrollTop=0,this.scrollLeft=0,this.scrollTimer=void 0,this._calcScrollPos(!0),this.originX=void 0,this.originY=void 0,this._currentTerX=0,this._currentTerY=0,this.virtualScroll=w.virtualScroll,this.virtualScroll.enable&&(this.virtualScrollCoordinate={left:this._terminal2canvas("x",this.terOffsetX-this.virtualScroll.paddingLeft),top:this._terminal2canvas("y",this.terOffsetY-this.virtualScroll.paddingTop),right:this._terminal2canvas("x",this.terOffsetX+this.terWidth+this.virtualScroll.paddingRight),bottom:this._terminal2canvas("y",this.terOffsetY+this.terHeight+this.virtualScroll.paddingBottom)})}return s(y,[{key:"_changeCanvasInfo",value:function(d){var M=!1;d.terOffsetX!==void 0&&(this.terOffsetX=d.terOffsetX,M=!0),d.terOffsetY!==void 0&&(this.terOffsetY=d.terOffsetY,M=!0),d.terWidth!==void 0&&(this.terWidth=d.terWidth,M=!0),d.terHeight!==void 0&&(this.terHeight=d.terHeight,M=!0),d.canOffsetX!==void 0&&(this.canOffsetX=d.canOffsetX,M=!0),d.canOffsetY!==void 0&&(this.canOffsetY=d.canOffsetY,M=!0),d.scale!==void 0&&(this._lastScale=this.scale,this.scale=d.scale,M=!0),d.canvas&&(this.canvas=d.canvas);var D=!1;d.originX!==void 0&&(this.originX=d.originX,D=!0),d.originY!==void 0&&(this.originY=d.originY,D=!0),D&&(this.canvas.wrapper.style.transformOrigin="".concat(this.originX,"% ").concat(this.originY,"%"));var B=!1;if(d.mouseX!==void 0&&this._currentTerX!==d.mouseX-this.terOffsetX&&(this._currentTerX=d.mouseX-this.terOffsetX,B=!0),d.mouseY!==void 0&&this._currentTerY!==d.mouseY-this.terOffsetY&&(this._currentTerY=d.mouseY-this.terOffsetY,B=!0),B){(this.originX===void 0||this.originY===void 0)&&(this.originX=0,this.originY=0);var Y=this.originX/100*this.terWidth,N=this.originY/100*this.terHeight,A=[parseInt(this.canOffsetX),parseInt(this.canOffsetY)],k=(d.mouseX-(Y*(1-this._lastScale)+A[0])-this.terOffsetX)/this._lastScale,tt=(d.mouseY-(N*(1-this._lastScale)+A[1])-this.terOffsetY)/this._lastScale,et=k/this.terWidth*100,K=tt/this.terHeight*100,U=-Y*(1-this._lastScale),R=-N*(1-this._lastScale);Y=et/100*this.terWidth,N=K/100*this.terHeight;var g=-Y*(1-this._lastScale),C=-N*(1-this._lastScale),W=g-U+A[0],z=C-R+A[1];this.canvas.wrapper.style.transformOrigin="".concat(et,"% ").concat(K,"%"),this.canvas.move([W,z]),this.originX=et,this.originY=K}M&&this.virtualScroll.enable&&(this.virtualScrollCoordinate={left:this._terminal2canvas("x",this.terOffsetX-this.virtualScroll.paddingLeft),top:this._terminal2canvas("y",this.terOffsetY-this.virtualScroll.paddingTop),right:this._terminal2canvas("x",this.terOffsetX+this.terWidth+this.virtualScroll.paddingRight),bottom:this._terminal2canvas("y",this.terOffsetY+this.terHeight+this.virtualScroll.paddingBottom)})}},{key:"canvas2terminal",value:function(d,M){return[this._canvas2terminal("x",d[0],M),this._canvas2terminal("y",d[1],M)]}},{key:"terminal2canvas",value:function(d,M){return[this._terminal2canvas("x",d[0],M),this._terminal2canvas("y",d[1],M)]}},{key:"_canvas2terminal",value:function(d,M,D){this._calcScrollPos();var B=h.get(D,"scale")||this.scale,Y=h.get(D,"canOffsetX")!==void 0?h.get(D,"canOffsetX"):this.canOffsetX,N=h.get(D,"canOffsetY")!==void 0?h.get(D,"canOffsetY"):this.canOffsetY,A=h.get(D,"terOffsetX")!==void 0?h.get(D,"terOffsetX"):this.terOffsetX,k=h.get(D,"terOffsetY")!==void 0?h.get(D,"terOffsetY"):this.terOffsetY,tt=h.get(D,"originX")!==void 0?h.get(D,"originX"):this.originX||0,et=h.get(D,"originY")!==void 0?h.get(D,"originY"):this.originY||0;if(d==="x"){var K=tt/100*this.terWidth;return M*B+(K*(1-B)+Y)+A}if(d==="y"){var U=et/100*this.terHeight;return M*B+(U*(1-B)+N)+k}}},{key:"_terminal2canvas",value:function(d,M,D){this._calcScrollPos();var B=h.get(D,"scale")||this.scale,Y=h.get(D,"canOffsetX")!==void 0?h.get(D,"canOffsetX"):this.canOffsetX,N=h.get(D,"canOffsetY")!==void 0?h.get(D,"canOffsetY"):this.canOffsetY,A=h.get(D,"terOffsetX")!==void 0?h.get(D,"terOffsetX"):this.terOffsetX,k=h.get(D,"terOffsetY")!==void 0?h.get(D,"terOffsetY"):this.terOffsetY,tt=h.get(D,"originX")!==void 0?h.get(D,"originX"):this.originX||0,et=h.get(D,"originY")!==void 0?h.get(D,"originY"):this.originY||0,K=this.scrollTop,U=this.scrollLeft;if(d==="x"){var R=tt/100*this.terWidth;return(M-(R*(1-B)+Y)-A-U)/B}if(d==="y"){var g=et/100*this.terHeight;return(M-(g*(1-B)+N)-k-K)/B}}},{key:"_calcScrollPos",value:function(d){var M=this;if(d&&(clearTimeout(this.scrollTimer),this.scrollTimer=void 0),!this.scrollTimer){var D=this.canvas.root,B=D.getBoundingClientRect();this.scrollTop=B.top-this.terOffsetY,this.scrollLeft=B.left-this.terOffsetX,this.scrollTimer=setTimeout(function(){M.scrollTimer=void 0},100)}}}]),y}();c.default=p},7588:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});function n(w){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},n(w)}function o(w,d){if(!(w instanceof d))throw new TypeError("Cannot call a class as a function")}function f(w,d){for(var M=0;M<d.length;M++){var D=d[M];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,a(D.key),D)}}function s(w,d,M){return d&&f(w.prototype,d),M&&f(w,M),Object.defineProperty(w,"prototype",{writable:!1}),w}function a(w){var d=u(w,"string");return n(d)=="symbol"?d:String(d)}function u(w,d){if(n(w)!="object"||!w)return w;var M=w[Symbol.toPrimitive];if(M!==void 0){var D=M.call(w,d||"default");if(n(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(w)}var h=e(4609),p=e(9392),y=function(){function w(d){o(this,w),this.root=d.root,this.canvas=d.canvas,this.domWrapper=p.get(d,"canvas.wrapper"),this.canvasHeight=0,this.canvasWidth=0,this.dom=null,this.isActive=!1,this.theme=p.get(d,"theme",{})||{shapeType:"circle",gap:10,adsorbGap:5,background:"#fff",lineColor:"#000",lineWidth:"1px",circleRadiu:2,circleColor:"#000"}}return s(w,[{key:"_resize",value:function(){this.canvasHeight=h(this.root).height(),this.canvasWidth=h(this.root).width(),h(this.dom).attr("width",this.canvasWidth),h(this.dom).attr("height",this.canvasHeight)}},{key:"create",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.theme=p.merge(this.theme,M.theme||{}),this.dom||(this.dom=h('<canvas class="butterfly-gird-canvas"></canvas>')[0],this._resize(),h(this.dom).appendTo(this.root)),this.theme.shapeType==="circle"?this.createCircle():this.theme.shapeType==="line"&&this.createLine(),this.theme.background&&h(this.dom).css("background",this.theme.background),this.isActive=!0}},{key:"createCircle",value:function(){var M=this.dom.getContext("2d");M.clearRect(0,0,this.canvasWidth,this.canvasHeight),M.beginPath(),M.fillStyle=this.theme.circleColor||"#000";var D=Math.PI*2,B=parseInt(this.theme.gap);B=B<5?5:B;for(var Y=0;Y<this.canvasWidth;Y+=B)for(var N=0;N<this.canvasHeight;N+=B)M.moveTo(Y,N),M.arc(Y,N,this.theme.circleRadiu,0,D);M.fill()}},{key:"createLine",value:function(){var M=this.dom.getContext("2d");M.strokeStyle=this.theme.lineColor||"#000",M.lineWidth=this.theme.lineWidth||1;var D=parseInt(this.theme.gap);D=D<5?5:D;for(var B=0;B<this.canvasHeight;B+=D)M.beginPath(),M.moveTo(0,B),M.lineTo(this.canvasWidth,B),M.stroke(),M.closePath();for(var Y=0;Y<this.canvasWidth;Y+=D)M.beginPath(),M.moveTo(Y,0),M.lineTo(Y,this.canvasHeight),M.stroke(),M.closePath();M.stroke()}},{key:"justifyAllCoordinate",value:function(){var M=this,D=this.canvas.groups,B=this.canvas.nodes,Y=function(A,k){var tt=A.left,et=A.top,K=A.left+A.getWidth(),U=A.top+A.getHeight(),R=tt%M.theme.gap,g=K%M.theme.gap,C=et%M.theme.gap,W=U%M.theme.gap,z=M.theme.gap-R,G=M.theme.gap-g,nt=M.theme.gap-C,j=M.theme.gap-W,q={left:1/0,right:1/0,top:1/0,bottom:1/0};R<g&&R<q.left&&(q.left=R),z<R&&z<q.right&&(q.right=z),g<R&&g<q.right&&(q.left=g),G<g&&G<q.left&&(q.right=G),C<W&&C<q.top&&(q.top=C),nt<C&&nt<q.bottom&&(q.bottom=nt),W<C&&W<q.bottom&&(q.top=W),j<W&&j<q.top&&(q.bottom=j);var vt=[A.left,A.top];q.left=q.left<=M.theme.adsorbGap?q.left:1/0,q.right=q.right<=M.theme.adsorbGap?q.right:1/0,q.top=q.top<=M.theme.adsorbGap?q.top:1/0,q.bottom=q.bottom<=M.theme.adsorbGap?q.bottom:1/0,q.left<q.right&&(vt[0]-=q.left),q.right<q.left&&(vt[0]+=q.right),q.top<q.bottom&&(vt[1]-=q.top),q.bottom<q.top&&(vt[1]+=q.bottom),(vt[0]!==A.left||vt[1]!==A.top)&&(k==="node"?M.canvas._moveNode(A,vt[0],vt[1]):k==="group"&&M.canvas._moveGroup(A,vt[0],vt[1]))};D.forEach(function(N){Y(N,"group"),(N.nodes||[]).forEach(function(A){Y(A,"node")})}),B.forEach(function(N){Y(N,"node")})}},{key:"destroy",value:function(){this.dom.remove(),this.isActive=!1}}]),w}();c.default=y},3059:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});function n(w){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},n(w)}function o(w,d){if(!(w instanceof d))throw new TypeError("Cannot call a class as a function")}function f(w,d){for(var M=0;M<d.length;M++){var D=d[M];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,a(D.key),D)}}function s(w,d,M){return d&&f(w.prototype,d),M&&f(w,M),Object.defineProperty(w,"prototype",{writable:!1}),w}function a(w){var d=u(w,"string");return n(d)=="symbol"?d:String(d)}function u(w,d){if(n(w)!="object"||!w)return w;var M=w[Symbol.toPrimitive];if(M!==void 0){var D=M.call(w,d||"default");if(n(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(w)}var h=e(4609),p=e(9392),y=function(){function w(d){o(this,w),this.root=d.root,this.canvas=d.canvas,this.dom=null,this.cxt=null,this.isActive=!1,this.limitNum=d.limitNum,this.adsorp=p.assign({enable:!1,gap:5},d.adsorp||{}),this.theme={lineColor:"#9fd1ff",lineWidth:1},this._adsorpTimer=null}return s(w,[{key:"_resize",value:function(){this.canvasHeight=h(this.root).height(),this.canvasWidth=h(this.root).width(),h(this.guideLineCanvas).attr("width",this.canvasWidth),h(this.guideLineCanvas).attr("height",this.canvasHeight)}},{key:"create",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.theme=p.merge(this.theme,M.theme||{}),this.adsorp=p.merge(this.adsorp,M.adsorp||{}),this.dom||(this.dom=h('<div class="butterfly-guide-canvas-wrapper"></div>')[0],this.guideLineCanvas=h('<canvas class="butterfly-guideline-canvas"></canvas>')[0],this._resize(),h(this.guideLineCanvas).appendTo(this.dom),h(this.dom).appendTo(this.root)),this.cxt=this.guideLineCanvas.getContext("2d"),this.cxt.strokeStyle=this.theme.lineColor||"#000",this.cxt.lineWidth=this.theme.lineWidth||1,this.isActive=!0}},{key:"guidLine",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0],D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0],B=function(N){return Math.floor(N)+.5};this.cxt.beginPath(),this.cxt.moveTo(B(M[0]),B(M[1])),this.cxt.lineTo(B(D[0]),B(D[1])),this.cxt.stroke(),this.cxt.closePath()}},{key:"draw",value:function(M,D){var B=this;this.cxt.clearRect(0,0,this.canvasWidth,this.canvasHeight);var Y=parseInt(M.left),N=parseInt(M.left+M.getWidth(!0)),A=parseInt(M.top),k=parseInt(M.top+M.getHeight(!0)),tt=1/0,et=1/0,K=1/0,U=1/0,R=this.adsorp.enable?this.adsorp.gap:0,g=null,C=null,W=null,z=null,G=this.canvas.groups,nt=this.canvas.nodes;G.forEach(function(Qt){if(!(D==="group"&&M.id===Qt.id)){var $e=parseInt(Qt.left),rn=parseInt(Qt.left+Qt.getWidth()),ln=parseInt(Qt.top),fn=parseInt(Qt.top+Qt.getHeight());Math.abs(Y-$e)<=R&&Math.abs(ln-A)<K&&(K=Math.abs(ln-A),g={item:Qt,gap:Y-$e}),Math.abs(N-rn)<=R&&Math.abs(fn-k)<U&&(U=Math.abs(fn-k),C={item:Qt,gap:N-rn}),Math.abs(A-ln)<=R&&Math.abs($e-Y)<tt&&(tt=Math.abs($e-Y),W={item:Qt,gap:A-ln}),Math.abs(k-fn)<=R&&Math.abs(rn-N)<et&&(et=Math.abs(rn-N),z={item:Qt,gap:rn-N})}}),nt.forEach(function(Qt){if(!(D==="node"&&M.id===Qt.id)){var $e=parseInt(Qt.left),rn=parseInt(Qt.left+Qt.getWidth()),ln=parseInt(Qt.top),fn=parseInt(Qt.top+Qt.getHeight());Qt._group&&($e+=Qt._group.left,rn+=Qt._group.left,ln+=Qt._group.top,fn+=Qt._group.top),Math.abs(Y-$e)<=R&&Math.abs(ln-A)<K&&(K=Math.abs(ln-A),g={item:Qt,gap:Y-$e}),Math.abs(N-rn)<=R&&Math.abs(fn-k)<U&&(U=Math.abs(fn-k),C={item:Qt,gap:N-rn}),Math.abs(A-ln)<=R&&Math.abs($e-Y)<tt&&(tt=Math.abs($e-Y),W={item:Qt,gap:A-ln}),Math.abs(k-fn)<=R&&Math.abs(rn-N)<et&&(et=Math.abs(rn-N),z={item:Qt,gap:k-fn})}});var j=function($e,rn,ln){B._adsorpTimer||($e.moveTo(rn,ln,!1),B._adsorpTimer=setTimeout(function(){clearTimeout(B._adsorpTimer),B._adsorpTimer=null},100))};if(g){var q=g.item,vt=A>q.top?q.top:A,mt=A>q.top?k:q.top+q.getHeight(),wt=q.left;j(M,M.left-g.gap,M.top),this.guidLine([wt,vt],[wt,mt])}if(C){var At=C.item,Kt=A>At.top?At.top:A,jt=A>At.top?k:At.top+At.getWidth(),me=parseInt(At.left+At.getWidth(!0));j(M,M.left-C.gap,M.top),this.guidLine([me,Kt],[me,jt])}if(W){var zt=W.item,$t=Y>zt.left?zt.left:Y,Pt=Y>zt.left?N:zt.left+zt.getWidth(),Ft=zt.top;j(M,M.left,M.top-W.gap),this.guidLine([$t,Ft],[Pt,Ft])}if(z){var se=z.item,de=Y>se.left?se.left:Y,Ie=Y>se.left?N:se.left+se.getHeight(),Oe=parseInt(se.top+se.getHeight(!0));j(M,M.left,M.top-z.gap),this.guidLine([de,Oe],[Ie,Oe])}}},{key:"zoom",value:function(M){h(this.dom).css({transform:"scale(".concat(M,")")}),this.clearCanvas()}},{key:"move",value:function(M,D){h(this.dom).css("left",M).css("top",D),this.clearCanvas()}},{key:"setOrigin",value:function(M,D){h(this.dom).css("transform-origin","".concat(M,"% ").concat(D,"%"))}},{key:"clearCanvas",value:function(){this.cxt&&this.cxt.clearRect(0,0,this.canvasWidth,this.canvasHeight)}},{key:"destroy",value:function(){this.dom&&h(this.dom).destroy(),this.isActive=!1}}]),w}();c.default=y},408:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});function e(n){var o=n.radius,f=n.data.nodes.filter(function(h){return h._isCircle}),s=360/f.length,a=0;n.getWidth&&(a=n.getWidth()/2);var u=0;n.getHeight&&(a=n.getHeight()/2),f.forEach(function(h,p){var y=2*Math.PI/360,w=p*s,d=o*Math.sin(w*y)-u,M=o*Math.cos(w*y)-a,D=(o+30)*Math.sin(w*y)-u,B=(o+30)*Math.cos(w*y)-a;h.top=d,h.left=M,h.posInfo={angle:w,_textTop:D,_textLeft:B}})}c.default={circleLayout:e}},1802:function(b){function c(e){var n=e.center,o=e.nodeSize,f=e.minNodeSpacing,s=e.preventOverlap;e.sweep;var a=e.equidistant,u=e.startAngle,h=u===void 0?3/2*Math.PI:u,p=e.clockwise,y=e.maxLevelDiff,w=e.sortBy,d=e.width,M=e.height,D=e.data,B=D.nodes,Y=D.edges,N=B.map(function(zt){return{id:zt.id,top:zt.top,left:zt.left,degree:zt.degree,size:zt.size}}),A=Y.map(function(zt){return{source:zt.source,target:zt.target}}),k=N.length,tt;if(k!==0){if(k===1){N[0].x=n[0],N[0].y=n[1];return}var et=[],K;_.isArray(o)?K=Math.max(o[0],o[1]):K=o,N.forEach(function(zt){et.push(zt);var $t=K;_.isArray(zt.size)?$t=Math.max(zt.size[0],zt.size[1]):_.isNumber(zt.size)&&($t=zt.size),K=Math.max(K,$t)}),!d&&typeof window<"u"&&(d=window.innerWidth),!M&&typeof window<"u"&&(M=window.innerHeight),p=p;var U={},R={};if(et.forEach(function(zt,$t){U[zt.id]=zt,R[zt.id]=$t}),(w==="degree"||!_.isString(w)||et[0][w]===void 0)&&(w="degree",!_.isNumber(N[0].degree))){for(var g=[],C=N.length,W=0;W<C;W++)g[W]=0;A.forEach(function(zt){zt.source&&(g[R[zt.source]]+=1),zt.target&&(g[R[zt.target]]+=1)}),et.forEach(function(zt,$t){zt.degree=g[$t]})}et.sort(function(zt,$t){return $t[w]-zt[w]}),tt=et[0],y=y||tt[w]/4;var z=[[]],G=z[0];et.forEach(function(zt){if(G.length>0){var $t=Math.abs(G[0][w]-zt[w]);y&&$t>=y&&(G=[],z.push(G))}G.push(zt)});var nt=K+f;if(!s){var j=z.length>0&&z[0].length>1,q=Math.min(d,M)/2-nt,vt=q/(z.length+(j?1:0));nt=Math.min(nt,vt)}var mt=0;if(z.forEach(function(zt){var $t=$t;$t===void 0&&($t=2*Math.PI-2*Math.PI/zt.length);var Pt=zt.dTheta=$t/Math.max(1,zt.length-1);if(zt.length>1&&s){var Ft=Math.cos(Pt)-Math.cos(0),se=Math.sin(Pt)-Math.sin(0),de=Math.sqrt(nt*nt/(Ft*Ft+se*se));mt=Math.max(de,mt)}zt.r=mt,mt+=nt}),a){for(var wt=0,At=0,Kt=0;Kt<z.length;Kt++){var jt=z[Kt],me=jt.r-At;wt=Math.max(wt,me)}At=0,z.forEach(function(zt,$t){$t===0&&(At=zt.r),zt.r=At,At+=wt})}z.forEach(function(zt){var $t=zt.dTheta,Pt=zt.r;zt.forEach(function(Ft,se){var de=h+(p?1:-1)*$t*se;Ft.x=n[0]+Pt*Math.cos(de),Ft.y=n[1]+Pt*Math.sin(de)})}),e.data.nodes.forEach(function(zt,$t){zt.top=N[$t].y,zt.left=N[$t].x})}}b.exports=c},4090:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(9097),o=f(n);function f(U){return U&&U.__esModule?U:{default:U}}function s(U){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},s(U)}function a(U){return y(U)||p(U)||h(U)||u()}function u(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(U,R){if(U){if(typeof U=="string")return w(U,R);var g=Object.prototype.toString.call(U).slice(8,-1);if(g==="Object"&&U.constructor&&(g=U.constructor.name),g==="Map"||g==="Set")return Array.from(U);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return w(U,R)}}function p(U){if(typeof Symbol<"u"&&U[Symbol.iterator]!=null||U["@@iterator"]!=null)return Array.from(U)}function y(U){if(Array.isArray(U))return w(U)}function w(U,R){(R==null||R>U.length)&&(R=U.length);for(var g=0,C=new Array(R);g<R;g++)C[g]=U[g];return C}function d(U,R){var g=Object.keys(U);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(U);R&&(C=C.filter(function(W){return Object.getOwnPropertyDescriptor(U,W).enumerable})),g.push.apply(g,C)}return g}function M(U){for(var R=1;R<arguments.length;R++){var g=arguments[R]!=null?arguments[R]:{};R%2?d(Object(g),!0).forEach(function(C){D(U,C,g[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(g)):d(Object(g)).forEach(function(C){Object.defineProperty(U,C,Object.getOwnPropertyDescriptor(g,C))})}return U}function D(U,R,g){return R=B(R),R in U?Object.defineProperty(U,R,{value:g,enumerable:!0,configurable:!0,writable:!0}):U[R]=g,U}function B(U){var R=Y(U,"string");return s(R)=="symbol"?R:String(R)}function Y(U,R){if(s(U)!="object"||!U)return U;var g=U[Symbol.toPrimitive];if(g!==void 0){var C=g.call(U,R||"default");if(s(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(U)}var N=e(9392),A=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=arguments.length>2?arguments[2]:void 0,W=[];return R.forEach(function(z){var G=g.find(function(j){return j.id===z.id});if(G){var nt={top:0,left:0};C&&(nt=C),W.push({id:z.id,top:G.top+nt.top,left:G.left+nt.left,width:G.width,height:G.height})}}),W},k=function U(R,g){var C=N.cloneDeep(R),W=C.data,z=C.ranksep,G=C.nodesep,nt=C.rankdir,j=[],q=[],vt=W.nodes.filter(function($t){return!$t.group}),mt=W.groups.filter(function($t){return!$t.group}),wt=!1,At=tt(W),Kt=M(M({},C),{},{ranksep:z,nodesep:G,data:{nodes:[].concat(a(vt),a(mt)),edges:At}});(0,o.default)(Kt),q.push.apply(q,a(A(mt,Kt.data.nodes,g))),j.push.apply(j,a(A(vt,Kt.data.nodes,g))),(C.data.groups||[]).forEach(function($t,Pt){var Ft=W.nodes.filter(function(Pe){return Pe.group===$t.id}),se=et($t.id),de=M(M({},C),{},{nodesep:G,data:{nodes:Ft,edges:se}});(0,o.default)(de);var Ie=A(C.data.nodes,de.data.nodes),Oe,Qt,$e,rn;Ie.forEach(function(Pe){(!Oe||Pe.left<Oe)&&(Oe=Pe.left),(!Qt||Pe.top<Qt)&&(Qt=Pe.top),(!$e||Ft.find(function(un){return un.id===Pe.id}).width+Pe.left>$e)&&($e=Pe.left+Ft.find(function(un){return un.id===Pe.id}).width),(!rn||Ft.find(function(un){return un.id===Pe.id}).height+Pe.top>rn)&&(rn=Pe.top+Ft.find(function(un){return un.id===Pe.id}).height)}),nt&&(nt==="LR"||nt==="RL")?(Qt-=G/2,rn+=G/2,Oe-=z/2,$e+=z/2):(Qt-=z/2,rn+=z/2,Oe-=G/2,$e+=G/2),$t.width<$e-Oe&&($t.width=$e-Oe,wt=!0),$t.height<rn-Qt&&($t.height=rn-Qt,wt=!0);var ln=($t.width-($e-Oe))/2-Oe,fn=($t.height-(rn-Qt))/2-Qt;wt||Ie.forEach(function(Pe){Pe.left+=ln,Pe.top+=fn}),j.push.apply(j,a(Ie))});var jt=N.uniq(W.groups.filter(function($t){return $t.group}).map(function($t){return $t.group})),me=[],zt=[];return N.isEmpty(jt)||jt.forEach(function($t){var Pt=W.groups.filter(function($e){return $e.group===$t});Pt.forEach(function($e){return delete $e.group});var Ft=Pt.map(function($e){return $e.id}),se=W.nodes.filter(function($e){return[$t].concat(a(Ft)).includes($e.group)}),de=q.find(function($e){return $e.id===$t}),Ie=U(M(M({},C),{},{data:{nodes:se,groups:Pt,edges:W.edges}}),de),Oe=Ie.nodes,Qt=Ie.groups;me=Oe,zt=Qt}),wt?U(C,g):{nodes:[].concat(j,a(me)),groups:[].concat(q,a(zt))}},tt=function(R){var g=R.nodes,C=g===void 0?[]:g,W=R.edges,z=W===void 0?[]:W,G=R.groups,nt=G===void 0?[]:G,j=[];nt.forEach(function(vt){var mt=C.filter(function(wt){return wt.group===vt.id});mt.forEach(function(wt){var At=z.filter(function(jt){return String(jt.source)===String(wt.id)}),Kt=z.filter(function(jt){return String(jt.target)===String(wt.id)});At.forEach(function(jt){return jt.source=vt.id}),Kt.forEach(function(jt){return jt.target=vt.id}),j.push.apply(j,a(At).concat(a(Kt)))})});var q=C.filter(function(vt){return!vt.group});return q.forEach(function(vt){var mt=z.filter(function(At){return String(At.source)===String(vt.id)}),wt=z.filter(function(At){return String(At.target)===String(vt.id)});j.push.apply(j,a(mt).concat(a(wt)))}),N.uniqWith(j,N.isEqual)},et=function(R,g){var C=R.nodes,W=C===void 0?[]:C,z=R.edges,G=z===void 0?[]:z,nt=[],j=W.filter(function(q){return q.group===g});return j.forEach(function(q){var vt=G.filter(function(wt){return String(wt.source)===String(q.id)}),mt=G.filter(function(wt){return String(wt.target)===String(q.id)});nt.push.apply(nt,a(vt).concat(a(mt)))}),N.uniqWith(nt,N.isEqual)};function K(U){var R=U.data;if(N.isEmpty(R.groups)){(0,o.default)(U);return}var g=k(U);U.data.nodes.forEach(function(C){var W=g.nodes.find(function(z){return z.id===C.id});W&&(C.top=W.top,C.left=W.left,C.width=W.width,C.height=W.height)}),U.data.groups.forEach(function(C){var W=g.groups.find(function(z){return z.id===C.id});W&&(C.top=W.top,C.left=W.left,C.width=W.width,C.height=W.height)})}c.default={dagreGroupLayout:K}},9097:function(b,c,e){var n=e(2546);function o(s){var a=s.nodeSize,u=s.rankdir,h=s.nodesepFunc,p=s.ranksepFunc,y=s.nodesep,w=s.ranksep,d=s.controlPoints,M=s.data.edges,D=M===void 0?[]:M,B=s.data.nodes,Y=B.map(function(K){return{id:K.id,top:K.top,left:K.left,width:K.width,height:K.height}});if(Y){var N=new n.graphlib.Graph,A;a?_.isArray(a)?A=function(){return a}:A=function(){return[a,a]}:A=function(U){return U.size?_.isArray(U.size)?U.size:[U.size,U.size]:[40,40]};var k=f(h,y,50),tt=f(p,w,50);(u==="LR"||u==="RL")&&(k=f(p,w,50),tt=f(h,y,50)),Y.forEach(function(K){var U=A(K),R=tt(K),g=k(K),C=K.width||U[0]+2*g,W=K.height||U[1]+2*R;N.setNode(K.id,{width:C,height:W})}),D.forEach(function(K){N.setEdge(K.source,K.target,{weight:K.weight||1})}),N.setDefaultEdgeLabel(function(){return{}}),s.nodes=Y,N.setGraph(s),n.layout(N);var et;return N.nodes().forEach(function(K){if(et=N.node(K),et){var U=Y.findIndex(function(R){return R.id===K});Y[U].left=et.x,Y[U].top=et.y,Y[U].posInfo={_out:N._out[K],_in:N._in[K],_preds:N._preds[K],_sucs:N._sucs[K]}}}),N.edges().forEach(function(K){et=N.edge(K);var U=D.findIndex(function(R){return R.source===K.v&&R.target===K.w});d&&D[U].type!=="loop"&&D[U].shape!=="loop"&&(D[U].controlPoints=et.points.slice(1,et.points.length-1))}),Y.forEach(function(K,U){B[U].left=K.left,B[U].top=K.top,B[U].posInfo=K.posInfo}),s}}function f(s,a,u){var h;return s?h=s:_.isNumber(a)?h=function(){return a}:h=function(){return u},h}b.exports=o},6457:function(b,c,e){var n=e(897);function o(f){var s=f.opts,a=_.cloneDeep(f.data),u=a.nodes.filter(function(M){return!M.group}),h=a.nodes.filter(function(M){return M.group});u=u.concat(a.groups),h.forEach(function(M){var D=_.find(a.groups,function(B){return B.id===M.group});M.x=Math.random()*(D.width||150),M.y=Math.random()*(D.height||120)});for(var p=a.edges.map(function(M){var D=_.find(h,function(Y){return Y.source===M.id});D&&(M.source=D.group);var B=_.find(h,function(Y){return Y.target===M.id});return B&&(M.target=D.group),M}),y=n.forceSimulation(u).force("charge",function(){return s.chargeStrength?n.forceManyBody().strength(s.chargeStrength):n.forceManyBody()}()).force("collision",n.forceCollide().radius(s.collide.radius)).force("center",n.forceCenter(s.width/2,s.height/2)).force("link",n.forceLink(p).id(function(M){return M[_.get(s.link,"id","id")]}).distance(s.link.distance).strength(s.link.strength)).stop(),w=0,d=Math.ceil(Math.log(y.alphaMin())/Math.log(1-y.alphaDecay()));w<d;++w)y.tick();f.data.nodes.forEach(function(M,D){M.top=a.nodes[D].y,M.left=a.nodes[D].x}),f.data.groups.forEach(function(M,D){M.top=a.groups[D].y,M.left=a.groups[D].x})}b.exports=o},8783:function(b){var c=800;function e(a){var u=a.opts,h=a.data.nodes,p=u.center;if(!(!h||h.length===0)){if(h.length===1){h[0].x=p[0],h[0].y=p[1];return}var y={},w={};h.forEach(function(d,M){_.isNumber(d.x)||(d.x=Math.random()*u.width),_.isNumber(d.y)||(d.y=Math.random()*u.height),y[d.id]=d,w[d.id]=M}),u.nodeMap=y,u.nodeIdxMap=w,n(a)}}function n(a){var u=a.opts,h=a.data.nodes,p=a.data.edges,y=u.maxIteration;!u.width&&typeof window<"u"&&(u.width=window.innerWidth),!u.height&&typeof window<"u"&&(u.height=window.innerHeight);var w=u.center,d=u.width/10,M=Math.sqrt(u.width*u.height/(h.length+1)),D=u.gravity,B=u.speed,Y=u.clustering,N={};if(Y){h.forEach(function(et){if(N[et.cluster]===void 0){var K={name:et.cluster,cx:0,cy:0,count:0};N[et.cluster]=K}var U=N[et.cluster];_.isNumber(et.x)&&(U.cx+=et.x),_.isNumber(et.y)&&(U.cy+=et.y),U.count++});for(var A in N)N[A].cx/=N[A].count,N[A].cy/=N[A].count}for(var k=function(){var K=[];if(h.forEach(function(C,W){K[W]={x:0,y:0}}),o(h,p,K,M,u),Y){var U=u.clusterGravity||D;h.forEach(function(C,W){if(!(!_.isNumber(C.x)||!_.isNumber(C.y))){var z=N[C.cluster],G=Math.sqrt((C.x-z.cx)*(C.x-z.cx)+(C.y-z.cy)*(C.y-z.cy)),nt=M*U;K[W].x-=nt*(C.x-z.cx)/G,K[W].y-=nt*(C.y-z.cy)/G}});for(var R in N)N[R].cx=0,N[R].cy=0,N[R].count=0;h.forEach(function(C){var W=N[C.cluster];_.isNumber(C.x)&&(W.cx+=C.x),_.isNumber(C.y)&&(W.cy+=C.y),W.count++});for(var g in N)N[g].cx/=N[g].count,N[g].cy/=N[g].count}h.forEach(function(C,W){if(!(!_.isNumber(C.x)||!_.isNumber(C.y))){var z=.01*M*D;K[W].x-=z*(C.x-w[0]),K[W].y-=z*(C.y-w[1])}}),h.forEach(function(C,W){if(!(!_.isNumber(C.x)||!_.isNumber(C.y))){var z=Math.sqrt(K[W].x*K[W].x+K[W].y*K[W].y);if(z>0){var G=Math.min(d*(B/c),z);C.x+=K[W].x/z*G,C.y+=K[W].y/z*G}}})},tt=0;tt<y;tt++)k()}function o(a,u,h,p,y){f(a,h,p),s(u,h,p,y)}function f(a,u,h){a.forEach(function(p,y){u[y]={x:0,y:0},a.forEach(function(w,d){if(y!==d&&!(!_.isNumber(p.x)||!_.isNumber(w.x)||!_.isNumber(p.y)||!_.isNumber(w.y))){var M=p.x-w.x,D=p.y-w.y,B=M*M+D*D;if(B===0){B=1;var Y=y>d?1:-1;M=.01*Y,D=.01*Y}var N=h*h/B;u[y].x+=M*N,u[y].y+=D*N}})})}function s(a,u,h,p){a.forEach(function(y){if(!(!y.source||!y.target)){var w=p.nodeIdxMap[y.source],d=p.nodeIdxMap[y.target];if(w!==d){var M=p.nodeMap[y.source],D=p.nodeMap[y.target];if(!(!_.isNumber(D.x)||!_.isNumber(M.x)||!_.isNumber(D.y)||!_.isNumber(M.y))){var B=D.x-M.x,Y=D.y-M.y,N=Math.sqrt(B*B+Y*Y),A=N*N/h;u[d].x-=B/N*A,u[d].y-=Y/N*A,u[w].x+=B/N*A,u[w].y+=Y/N*A}}}})}b.exports=e},7287:function(b){function c(a){var u=a.opts,h=a.data.nodes,p=h.length,y=u.center;if(p!==0){if(p===1){h[0].x=y[0],h[0].y=y[1],h[0].left=y[0],h[0].top=y[1];return}var w=a.data.edges,d=[];h.forEach(function(et){d.push(et)});var M={};if(d.forEach(function(et,K){M[et.id]=K}),(u.sortBy==="degree"||typeof u.sortBy=="string"||d[0][u.sortBy]===void 0)&&(u.sortBy="degree",isNaN(h[0].degree))){var D=e(d.length,M,w);d.forEach(function(et,K){et.degree=D[K]})}d.sort(function(et,K){return K[u.sortBy]-et[u.sortBy]}),!u.width&&typeof window<"u"&&(u.width=window.innerWidth),!u.height&&typeof window<"u"&&(u.height=window.innerHeight);var B=u.rows,Y=u.cols!=null?u.cols:u.columns;u.cells=p,B!=null&&Y!=null?(u.rows=B,u.cols=Y):B!=null&&Y==null?(u.rows=B,u.cols=Math.ceil(u.cells/u.rows)):B==null&&Y!=null?(u.cols=Y,u.rows=Math.ceil(u.cells/u.cols)):(u.splits=Math.sqrt(u.cells*u.height/u.width),u.rows=Math.round(u.splits),u.cols=Math.round(u.width/u.height*u.splits)),u.cellWidth=u.width/u.cols,u.cellHeight=u.height/u.rows,u.condense&&(u.cellWidth=0,u.cellHeight=0),u.preventOverlap&&d.forEach(function(et){(!et.x||!et.y)&&(et.x=0,et.y=0);var K,U;typeof et.size=="number"&&(K=et.size,U=et.size),(K===void 0||U===void 0)&&(typeof et.nodeSize=="number"?(K=u.nodeSize,U=u.nodeSize):(K=30,U=30));var R=u.preventOverlapPadding,g=K+R,C=U+R;u.cellWidth=Math.max(u.cellWidth,g),u.cellHeight=Math.max(u.cellHeight,C)}),u.cellUsed={},u.row=0,u.col=0,u.id2manPos={};for(var N=0;N<d.length;N++){var A=d[N],k=void 0;if(u.position&&(k=u.position(A)),k&&(k.row!==void 0||k.col!==void 0)){var tt={row:k.row,col:k.col};if(tt.col===void 0)for(tt.col=0;o(tt.row,tt.col,u);)tt.col++;else if(tt.row===void 0)for(tt.row=0;o(tt.row,tt.col,u);)tt.row++;u.id2manPos[A.id]=tt,n(tt.row,tt.col)}s(A,u)}}}function e(a,u,h){for(var p=[],y=0;y<a;y++)p[y]=0;return h.forEach(function(w){w.source&&(p[u[w.source]]+=1),w.target&&(p[u[w.target]]+=1)}),p}function n(a,u,h){h.cellUsed["c-".concat(a,"-").concat(u)]=!0}function o(a,u,h){return h.cellUsed["c-".concat(a,"-").concat(u)]||!1}function f(a){var u=a,h=u.cols||5;u.col++,u.col>=h&&(u.col=0,u.row++)}function s(a,u){var h=u,p=h.begin,y=h.width,w=h.height,d,M,D=h.id2manPos[a.id];if(D)d=D.col*y+y/2+p[0],M=D.row*w+w/2+p[1];else{for(;o(h.row,h.col,h);)f(u);d=h.col*y+y/2+p[0],M=h.row*w+w/2+p[1],n(h.row,h.col,h),f(u)}a.x=d,a.y=M,a.left=d,a.top=M}b.exports=c},4047:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(8570);function o(f){for(var s=[f],a=[];s.length>0;){var u=s.pop(),h=u.data;h.left=u.x,h.top=u.y,h.treePos={hgap:u.hgap,vgap:u.vgap,x:u.x,y:u.y,depth:u.depth,side:u.side},a.push(h),s=s.concat(u.children)}return a[0]}c.default={compactBox:function(s,a){return o(n.compactBox(s,a))},dendrogram:function(s,a){return o(n.dendrogram(s,a))},indented:function(s,a){return o(n.indented(s,a))},mindmap:function(s,a){return o(n.mindmap(s,a))}}},9962:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(408),o=tt(n),f=e(8783),s=tt(f),a=e(7287),u=tt(a),h=e(6457),p=tt(h),y=e(1802),w=tt(y),d=e(9097),M=tt(d),D=e(9006),B=tt(D),Y=e(4090),N=tt(Y),A=e(4047),k=tt(A);function tt(R){return R&&R.__esModule?R:{default:R}}var et=e(897),K=e(9392);function U(R){for(var g=R.opts,C=K.cloneDeep(R.data),W=et.forceSimulation(C.nodes).force("charge",et.forceManyBody().strength(g.chargeStrength)).force("center",et.forceCenter(g.width/2,g.height/2)).force("link",et.forceLink(C.edges).distance(g.link.distance).strength(g.link.strength)).force("x",et.forceX()).force("y",et.forceY()).stop(),z=0,G=Math.ceil(Math.log(W.alphaMin())/Math.log(1-W.alphaDecay()));z<G;++z)W.tick();R.data.nodes.forEach(function(nt,j){nt.top=C.nodes[j].y,nt.left=C.nodes[j].x})}c.default={forceLayout:p.default,forceTreeLayout:U,treeLayout:k.default,dagreLayout:M.default,concentLayout:w.default,gridLayout:u.default,fruchterman:s.default,circleLayout:o.default.circleLayout,radial:B.default,dagreGroupLayout:N.default.dagreGroupLayout}},1997:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.getDegree=c.rotate=c.scale=c.move=c.translate=c.getAdjMatrix=c.floydWarshall=c.scaleMatrix=c.distance=c.getCircleCenterByPoints=c.invertMatrix=c.applyMatrix=c.getEllipseIntersectByPoint=c.getCircleIntersectByPoint=c.getRectIntersectByPoint=void 0;var n=e(6928),o=function(a,u,h){return a>=u&&a<=h},f=function(a,u,h,p){var y=.001,w={x:h.x-a.x,y:h.y-a.y},d={x:u.x-a.x,y:u.y-a.y},M={x:p.x-h.x,y:p.y-h.y},D=d.x*M.y-d.y*M.x,B=D*D,Y=d.x*d.x+d.y*d.y,N=M.x*M.x+M.y*M.y,A=null;if(B>y*Y*N){var k=(w.x*M.y-w.y*M.x)/D,tt=(w.x*d.y-w.y*d.x)/D;o(k,0,1)&&o(tt,0,1)&&(A={x:a.x+k*d.x,y:a.y+k*d.y})}return A};c.getRectIntersectByPoint=function(a,u){var h=a.x,p=a.y,y=a.width,w=a.height,d=h+y/2,M=p+w/2,D=[],B={x:d,y:M};D.push({x:h,y:p}),D.push({x:h+y,y:p}),D.push({x:h+y,y:p+w}),D.push({x:h,y:p+w}),D.push({x:h,y:p});for(var Y=null,N=1;N<D.length&&(Y=f(D[N-1],D[N],B,u),!Y);N++);return Y},c.getCircleIntersectByPoint=function(a,u){var h=a.x,p=a.y,y=a.r,w=u.x,d=u.y,M=w-h,D=d-p,B=Math.sqrt(M*M+D*D);if(B<y)return null;var Y=Math.sign(M),N=Math.sign(D),A=Math.atan(D/M);return{x:h+Math.abs(y*Math.cos(A))*Y,y:p+Math.abs(y*Math.sin(A))*N}},c.getEllipseIntersectByPoint=function(a,u){var h=a.rx,p=a.ry,y=a.x,w=a.y,d=u.x-y,M=u.y-w,D=Math.atan2(M/p,d/h);return D<0&&(D+=2*Math.PI),{x:y+h*Math.cos(D),y:w+p*Math.sin(D)}},c.applyMatrix=function(a,u,h){var p=[a.x,a.y,h];return(!u||u[0]===NaN)&&(u=n.mat3.create()),n.vec3.transformMat3(p,p,u),{x:p[0],y:p[1]}},c.invertMatrix=function(a,u,h){(!u||u[0]===NaN)&&(u=n.mat3.create());var p=n.mat3.invert([],u);p||(p=n.mat3.create());var y=[a.x,a.y,h];return n.vec3.transformMat3(y,y,p),{x:y[0],y:y[1]}},c.getCircleCenterByPoints=function(a,u,h){var p=a.x-u.x,y=a.y-u.y,w=a.x-h.x,d=a.y-h.y,M=(a.x*a.x-u.x*u.x-u.y*u.y+a.y*a.y)/2,D=(a.x*a.x-h.x*h.x-h.y*h.y+a.y*a.y)/2,B=y*w-p*d;return{x:-(d*M-y*D)/B,y:-(p*D-w*M)/B}},c.distance=function(a,u){var h=a.x-u.x,p=a.y-u.y;return Math.sqrt(h*h+p*p)},c.scaleMatrix=function(a,u){var h=[];return a.forEach(function(p){var y=[];p.forEach(function(w){y.push(w*u)}),h.push(y)}),h},c.floydWarshall=function(a){for(var u=[],h=a.length,p=0;p<h;p+=1){u[p]=[];for(var y=0;y<h;y+=1)p===y?u[p][y]=0:a[p][y]===0||!a[p][y]?u[p][y]=1/0:u[p][y]=a[p][y]}for(var w=0;w<h;w+=1)for(var d=0;d<h;d+=1)for(var M=0;M<h;M+=1)u[d][M]>u[d][w]+u[w][M]&&(u[d][M]=u[d][w]+u[w][M]);return u},c.getAdjMatrix=function(a,u){var h=a.nodes,p=a.edges,y=[],w={};if(!h)throw new Error("invalid nodes data!");return h&&h.forEach(function(d,M){w[d.id]=M;var D=[];y.push(D)}),p&&p.forEach(function(d){var M=d.source,D=d.target,B=w[M],Y=w[D];y[B][Y]=1,u||(y[Y][B]=1)}),y},c.translate=function(a,u){a.translate(u.x,u.y)},c.move=function(a,u){var h=a.getMatrix();h||(h=n.mat3.create());var p=a.getCanvasBBox(),y=u.x-p.minX,w=u.y-p.minY,d=(0,n.transform)(h,[["t",y,w]]);a.setMatrix(d)},c.scale=function(a,u){var h=a.getMatrix();h||(h=n.mat3.create());var p=u;isArray(u)||(p=[u,u]),isArray(u)&&u.length===1&&(p=[u[0],u[0]]),h=(0,n.transform)(h,[["s",p[0],p[1]]]),a.setMatrix(h)},c.rotate=function(a,u){var h=a.getMatrix();h||(h=n.mat3.create()),h=(0,n.transform)(h,[["r",u]]),a.setMatrix(h)},c.getDegree=function(a,u,h){for(var p=[],y=0;y<a;y++)p[y]=0;return h.forEach(function(w){w.source&&(p[u[w.source]]+=1),w.target&&(p[u[w.target]]+=1)}),p}},7839:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var n=e(2019);function o(y){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o(y)}function f(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function s(y,w){for(var d=0;d<w.length;d++){var M=w[d];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(y,u(M.key),M)}}function a(y,w,d){return w&&s(y.prototype,w),d&&s(y,d),Object.defineProperty(y,"prototype",{writable:!1}),y}function u(y){var w=h(y,"string");return o(w)=="symbol"?w:String(w)}function h(y,w){if(o(y)!="object"||!y)return y;var d=y[Symbol.toPrimitive];if(d!==void 0){var M=d.call(y,w||"default");if(o(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(y)}var p=function(){function y(w){f(this,y),this.distances=w.distances,this.dimension=w.dimension||2,this.linkDistance=w.linkDistance}return a(y,[{key:"layout",value:function(){var d=this,M=d.dimension,D=d.distances,B=d.linkDistance;try{var Y=n.Matrix.mul(n.Matrix.pow(D,2),-.5),N=Y.mean("row"),A=Y.mean("column"),k=Y.mean();Y.add(k).subRowVector(N).subColumnVector(A);var tt=new n.SingularValueDecomposition(Y),et=n.Matrix.sqrt(tt.diagonalMatrix).diagonal();return tt.leftSingularVectors.toJSON().map(function(C){return n.Matrix.mul([C],[et]).toJSON()[0].splice(0,M)})}catch{for(var K=[],U=0;U<D.length;U++){var R=Math.random()*B,g=Math.random()*B;K.push([R,g])}return K}}}]),y}();c.default=p},9006:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(7839),o=u(n),f=e(4886),s=u(f),a=e(1997);function u(U){return U&&U.__esModule?U:{default:U}}function h(U){return d(U)||w(U)||y(U)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(U,R){if(U){if(typeof U=="string")return M(U,R);var g=Object.prototype.toString.call(U).slice(8,-1);if(g==="Object"&&U.constructor&&(g=U.constructor.name),g==="Map"||g==="Set")return Array.from(U);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return M(U,R)}}function w(U){if(typeof Symbol<"u"&&U[Symbol.iterator]!=null||U["@@iterator"]!=null)return Array.from(U)}function d(U){if(Array.isArray(U))return M(U)}function M(U,R){(R==null||R>U.length)&&(R=U.length);for(var g=0,C=new Array(R);g<R;g++)C[g]=U[g];return C}function D(U){for(var R=U.length,g=U[0].length,C=[],W=0;W<R;W++){for(var z=[],G=0;G<g;G++)U[W][G]!==0?z.push(1/(U[W][G]*U[W][G])):z.push(0);C.push(z)}return C}function B(U,R){var g=-1;return U.forEach(function(C,W){C.id===R&&(g=W)}),g}function Y(U,R){return Math.sqrt((U[0]-R[0])*(U[0]-R[0])+(U[1]-R[1])*(U[1]-R[1]))}function N(U){var R=U.opts,g=U.data.nodes,C=U.data.edges||[],W=R.center;if(!(!g||g.length===0)){if(g.length===1){g[0].x=g[0].left=W[0],g[0].y=g[0].top=W[1];return}var z=R.linkDistance,G=null;if(String(R.focusNode)){for(var nt=!1,j=0;j<g.length;j++)g[j].id===R.focusNode&&(G=g[j],R.focusNode=G,nt=!0,j=g.length);nt||(G=null)}else G=R.focusNode;G||(G=g[0],R.focusNode=G);var q=B(g,G.id);R.focusIndex=q;var vt=(0,a.getAdjMatrix)({nodes:g,edges:C},!1),mt=(0,a.floydWarshall)(vt),wt=K(mt,q);et(mt,q,wt+1),R.distances=mt;var At=mt[q];!R.width&&typeof window<"u"&&(R.width=window.innerWidth),!R.height&&typeof window<"u"&&(R.height=window.innerHeight);var Kt=R.width||500,jt=R.height||500,me=Kt-W[0]>W[0]?W[0]:Kt-W[0],zt=jt-W[1]>W[1]?W[1]:jt-W[1];me===0&&(me=Kt/2),zt===0&&(zt=jt/2);var $t=zt>me?me:zt,Pt=Math.max.apply(Math,h(At)),Ft=[];At.forEach(function(sn,hn){R.unitRadius||(R.unitRadius=$t/Pt),Ft[hn]=sn*R.unitRadius}),R.radii=Ft;var se=tt(U);R.eIdealDistances=se;var de=D(se);R.weights=de;var Ie=new o.default({distances:se,linkDistance:z}),Oe=Ie.layout();Oe.forEach(function(sn){isNaN(sn[0])&&(sn[0]=Math.random()*z),isNaN(sn[1])&&(sn[1]=Math.random()*z)}),R.positions=Oe,Oe.forEach(function(sn,hn){g[hn].x=g[hn].left=sn[0]+W[0],g[hn].y=g[hn].top=sn[1]+W[1]}),Oe.forEach(function(sn){sn[0]-=Oe[q][0],sn[1]-=Oe[q][1]}),A(U);var Qt=R.preventOverlap,$e=R.nodeSize,rn,ln=R.strictRadial;if(Qt){var fn=R.nodeSpacing,Pe;_.isNumber(fn)?Pe=function(){return fn}:_.isFunction(fn)?Pe=fn:Pe=function(){return 0},$e?_.isArray($e)?rn=function(hn){var Vn=$e[0]>$e[1]?$e[0]:$e[1];return Vn+Pe(hn)}:rn=function(hn){return $e+Pe(hn)}:rn=function(hn){if(hn.size){if(_.isArray(hn.size)){var Vn=hn.size[0]>hn.size[1]?hn.size[0]:hn.size[1];return Vn+Pe(hn)}return hn.size+Pe(hn)}return 10+Pe(hn)};var un={nodeSizeFunc:rn,adjMatrix:vt,positions:Oe,radii:Ft,height:jt,width:Kt,strictRadial:ln,focusID:q,iterations:R.maxPreventOverlapIteration||200,k:Oe.length/4.5,nodes:g},cn=new s.default(un);Oe=cn.layout()}Oe.forEach(function(sn,hn){g[hn].x=g[hn].left=sn[0]+W[0],g[hn].y=g[hn].top=sn[1]+W[1]})}}function A(U){for(var R=U.opts,g=R.maxIteration,C=R.positions||[],W=R.weights||[],z=R.eIdealDistances||[],G=R.radii||[],nt=0;nt<=g;nt++){var j=nt/g;k(j,C,G,z,W,U)}}function k(U,R,g,C,W,z){var G=z.opts,nt=1-U,j=G.focusIndex;R.forEach(function(q,vt){var mt=Y(q,[0,0]),wt=mt===0?0:1/mt;if(vt!==j){var At=0,Kt=0,jt=0;R.forEach(function(zt,$t){if(vt!==$t){var Pt=Y(q,zt),Ft=Pt===0?0:1/Pt,se=C[$t][vt];jt+=W[vt][$t],At+=W[vt][$t]*(zt[0]+se*(q[0]-zt[0])*Ft),Kt+=W[vt][$t]*(zt[1]+se*(q[1]-zt[1])*Ft)}});var me=g[vt]===0?0:1/g[vt];jt*=nt,jt+=U*me*me,At*=nt,At+=U*me*q[0]*wt,q[0]=At/jt,Kt*=nt,Kt+=U*me*q[1]*wt,q[1]=Kt/jt}})}function tt(U){var R=U.opts,g=U.data.nodes;if(!g)return[];var C=R.distances,W=R.linkDistance,z=R.radii||[],G=R.unitRadius||50,nt=[];return C&&C.forEach(function(j,q){var vt=[];j.forEach(function(mt,wt){if(q===wt)vt.push(0);else if(z[q]===z[wt])if(R.sortBy==="data")vt.push(mt*(Math.abs(q-wt)*R.sortStrength)/(z[q]/G));else if(R.sortBy){var At=g[q][R.sortBy]||0,Kt=g[wt][R.sortBy]||0;isString(At)&&(At=At.charCodeAt(0)),isString(Kt)&&(Kt=Kt.charCodeAt(0)),vt.push(mt*(Math.abs(At-Kt)*R.sortStrength)/(z[q]/G))}else vt.push(mt*W/(z[q]/G));else{var jt=(W+G)/2;vt.push(mt*jt)}}),nt.push(vt)}),nt}function et(U,R,g){for(var C=U.length,W=0;W<C;W++)if(U[R][W]===1/0){U[R][W]=g,U[W][R]=g;for(var z=0;z<C;z++)U[W][z]!==1/0&&U[R][z]===1/0&&(U[R][z]=g+U[W][z],U[z][R]=g+U[W][z])}for(var G=0;G<C;G++)if(G!==R){for(var nt=0;nt<C;nt++)if(U[G][nt]===1/0){var j=Math.abs(U[R][G]-U[R][nt]);j=j===0?1:j,U[G][nt]=j}}}function K(U,R){for(var g=0,C=0;C<U[R].length;C++)U[R][C]!==1/0&&(g=U[R][C]>g?U[R][C]:g);return g}c.default=N},4886:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});function e(p){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},e(p)}function n(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function o(p,y){for(var w=0;w<y.length;w++){var d=y[w];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(p,s(d.key),d)}}function f(p,y,w){return y&&o(p.prototype,y),w&&o(p,w),Object.defineProperty(p,"prototype",{writable:!1}),p}function s(p){var y=a(p,"string");return e(y)=="symbol"?y:String(y)}function a(p,y){if(e(p)!="object"||!p)return p;var w=p[Symbol.toPrimitive];if(w!==void 0){var d=w.call(p,y||"default");if(e(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(p)}var u=800,h=function(){function p(y){n(this,p),this.positions=y.positions,this.adjMatrix=y.adjMatrix,this.focusID=y.focusID,this.radii=y.radii,this.iterations=y.iterations||10,this.height=y.height||10,this.width=y.width||10,this.speed=y.speed||100,this.gravity=y.gravity||10,this.nodeSizeFunc=y.nodeSizeFunc,this.k=y.k||5,this.strictRadial=y.strictRadial,this.nodes=y.nodes}return f(p,[{key:"layout",value:function(){var w=this,d=w.positions,M=[],D=w.iterations,B=w.width/10;w.maxDisplace=B,w.disp=M;for(var Y=0;Y<D;Y++)d.forEach(function(N,A){M[A]={x:0,y:0}}),w.getRepulsion(),w.updatePositions();return d}},{key:"getRepulsion",value:function(){var w=this,d=w.positions,M=w.nodes,D=w.disp,B=w.k,Y=w.radii||[];d.forEach(function(N,A){D[A]={x:0,y:0},d.forEach(function(k,tt){if(A!==tt&&Y[A]===Y[tt]){var et=N[0]-k[0],K=N[1]-k[1],U=Math.sqrt(et*et+K*K);if(U===0){U=1;var R=A>tt?1:-1;et=.01*R,K=.01*R}if(U<w.nodeSizeFunc(M[A])/2+w.nodeSizeFunc(M[tt])/2){var g=B*B/U;D[A].x+=et/U*g,D[A].y+=K/U*g}}})})}},{key:"updatePositions",value:function(){var w=this,d=w.positions,M=w.disp,D=w.speed,B=w.strictRadial,Y=w.focusID,N=w.maxDisplace||w.width/10;B&&M.forEach(function(k,tt){var et=d[tt][0]-d[Y][0],K=d[tt][1]-d[Y][1],U=Math.sqrt(et*et+K*K),R=K/U,g=-et/U,C=Math.sqrt(k.x*k.x+k.y*k.y),W=Math.acos((R*k.x+g*k.y)/C);W>Math.PI/2&&(W-=Math.PI/2,R*=-1,g*=-1);var z=Math.cos(W)*C;k.x=R*z,k.y=g*z});var A=w.radii;d.forEach(function(k,tt){if(tt!==Y){var et=Math.sqrt(M[tt].x*M[tt].x+M[tt].y*M[tt].y);if(et>0&&tt!==Y){var K=Math.min(N*(D/u),et);if(k[0]+=M[tt].x/et*K,k[1]+=M[tt].y/et*K,B){var U=k[0]-d[Y][0],R=k[1]-d[Y][1],g=Math.sqrt(U*U+R*R);U=U/g*A[tt],R=R/g*A[tt],k[0]=d[Y][0]+U,k[1]=d[Y][1]+R}}}})}}]),p}();c.default=h},6369:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.prepareAvoidObstaclesInfo=a,c.getAvoidObstaclesInfo=u,c._calcOrientation=h,c._findControlPoint=p,c._findSecondControlPoint=y,c._findManhattanPoint=w;var n=e(9392),o=f(n);function f(d){return d&&d.__esModule?d:{default:d}}var s=null;function a(d){s=d}function u(){return{nodes:o.default.get(s,"nodes",[]).map(function(d){return{id:d.id,left:d.left,top:d.top,width:d.width||d.options.width||100,height:d.height||d.options.height||45}}),edges:o.default.get(s,"nodes",[]).map(function(d){return d.options})}}function h(d,M,D,B,Y){var N=function(U){if(Y){for(var R=function(z){var G=o.default.some(Y,function(nt){return nt===U[z]});if(G)return{v:U[z]}},g,C=0;C<U.length;C++)if(g=R(C),g)return g.v;return U[0]}else return U[0]},A=D-d,k=B-M,tt=null,et=Math.abs(k/A);switch(A===0||k===0?(A===0&&(tt=k>=0?N(["Top","Left","Right","Bottom"]):tt,tt=k<0?N(["Bottom","Left","Right","Top"]):tt),k===0&&(tt=A>=0?N(["Right","Top","Bottom","Left"]):tt,tt=A<0?N(["Left","Top","Bottom","Right"]):tt)):A>0&&k>0?et>1?tt=N(["Top","Left","Right","Bottom"]):tt=N(["Left","Top","Bottom","Right"]):A<0&&k>0?et>1?tt=N(["Top","Right","Left","Bottom"]):tt=N(["Right","Top","Bottom","Left"]):A<0&&k<0?et>1?tt=N(["Bottom","Right","Left","Top"]):tt=N(["Right","Bottom","Top","Left"]):et>1?tt=N(["Bottom","Left","Right","Top"]):tt=N(["Left","Bottom","Top","Right"]),tt){case"Left":return[-1,0];case"Right":return[1,0];case"Top":return[0,-1];case"Bottom":return[0,1]}}function p(d,M,D,B,Y){var N=10,A=10,k=[];if(M.pos[0]===D.pos[0]&&B[1]!==Y[1]&&B[0]===0&&Y[0]===0)return k=[d[0],d[1]+N*B[1]],k;if(M.pos[1]===D.pos[1]&&B[0]!==Y[0]&&B[1]===0&&Y[1]===0)return k=[d[0]+N*B[0],d[1]],k;var tt=B[0]!==Y[0]||B[1]===Y[1];return tt?(Y[0]===0?k.push(D.pos[0]<M.pos[0]?d[0]+A:d[0]-A):k.push(d[0]+N*Y[0]),Y[1]===0?k.push(D.pos[1]<M.pos[1]?d[1]+A:d[1]-A):k.push(d[1]+N*B[1])):(B[0]===0?k.push(M.pos[0]<D.pos[0]?d[0]+A:d[0]-A):k.push(d[0]-N*B[0]),B[1]===0?k.push(M.pos[1]<D.pos[1]?d[1]+A:d[1]-A):k.push(d[1]-N*Y[1])),k}function y(d,M,D,B,Y){var N=(d.pos[0]+M.pos[0])/2,A=(d.pos[1]+M.pos[1])/2,k=N-(N-d.pos[0])/2,tt=A-(A-d.pos[1])/2,et=N+(N-d.pos[0])/2,K=A+(A-d.pos[1])/2,U=N,R=A;Y==="Bezier2-1"?(U=N,R=A):Y==="Bezier2-2"?(U=k,R=tt):Y==="Bezier2-3"&&(U=et,R=K);var g,C,W=Math.abs(d.pos[0]-d.pos[0]),z=Math.abs(d.pos[1]-M.pos[1]),G=Math.sqrt(W*W+z*z),nt=(M.pos[1]-d.pos[1])/(M.pos[0]-d.pos[0]);if(nt===0&&(d.pos[0]<M.pos[0]&&D[0]===1&&B[0]===-1||d.pos[0]>M.pos[0]&&D[0]===-1&&B[0]===1||d.pos[1]<M.pos[1]&&D[1]===1&&B[1]===-1||d.pos[1]>M.pos[1]&&D[1]===-1&&B[1]===1))return g=[N,A];var j=-1/nt,q=R-j*U;C=Math.sqrt(3)*G/6;var vt,mt=D[0]+B[0],wt=D[1]+B[1];M.pos[0]<d.pos[0]&&M.pos[1]<d.pos[1]&&(mt===0&&wt===0||mt===1&&wt===-1)||M.pos[0]>d.pos[0]&&M.pos[1]<d.pos[1]&&mt===1&&wt===1||M.pos[0]<d.pos[0]&&M.pos[1]>d.pos[1]&&(mt===0&&wt===0||mt===1&&wt===1)||M.pos[0]>d.pos[0]&&M.pos[1]>d.pos[1]&&mt===1&&wt===-1?vt=1:vt=-1,g=[U+C*vt,j*(U+C*vt)+q];var At=.25,Kt=100;C=G*At+Kt;var jt=0,me=0,zt=0,$t=0;return D[0]===-1&&M.pos[0]>d.pos[0]||D[0]===1&&M.pos[0]<d.pos[0]||D[1]===1&&M.pos[1]<d.pos[1]||D[1]===-1&&M.pos[1]>d.pos[1]?(D[0]!==0&&(jt=C*D[0]),D[1]!==0&&(me=C*D[1]),g=[d.pos[0]+jt,d.pos[1]+me]):((D[0]===B[0]&&D[1]===B[1]||D[0]!==0&&M.pos[1]<d.pos[1]&&B[1]===-1||D[0]!==0&&M.pos[1]>d.pos[1]&&B[1]===1||D[1]!==0&&M.pos[0]<d.pos[0]&&B[0]===-1||D[1]!==0&&M.pos[0]>d.pos[0]&&B[0]===1)&&(B[0]!==0?zt=C*B[0]:B[1]!==0&&($t=C*B[1]),g=[M.pos[0]+zt,M.pos[1]+$t]),g)}function w(d,M){for(var D=void 0,B=1/0,Y=0;Y<d.length-1;Y++){var N=d[Y].x===d[Y+1].x?"vertical":"horizontal",A=d[Y],k=d[Y+1];N==="vertical"?B>Math.abs(M.x-A.x)&&(B=Math.abs(M.x-A.x),D={from:A,to:k,direction:N,index:Y}):B>Math.abs(M.y-A.y)&&(B=Math.abs(M.y-A.y),D={from:A,to:k,direction:N,index:Y})}return D}},6471:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(6369),o=function(s,a){s.orientation||(s.orientation=(0,n._calcOrientation)(a.pos[0],a.pos[1],s.pos[0],s.pos[1])),a.orientation||(a.orientation=(0,n._calcOrientation)(s.pos[0],s.pos[1],a.pos[0],a.pos[1]));var u=Math.abs(s.pos[0]-a.pos[0]),h=Math.abs(s.pos[1]-a.pos[1]),p=s.orientation,y=a.orientation,w=Math.sqrt(u*u+h*h),d=.25,M=30,D=0,B=0;p[0]!==0?D=(w*d+M)*p[0]:p[1]!==0&&(B=(w*d+M)*p[1]);var Y=0,N=0;y[0]!==0?Y=(w*d+M)*y[0]:y[1]!==0&&(N=(w*d+M)*y[1]);var A=[s.pos[0]+D,s.pos[1]+B],k=[a.pos[0]+Y,a.pos[1]+N],tt=["M",s.pos[0],s.pos[1]];return tt=tt.concat(["C",A[0],A[1]],k[0],k[1]),tt=tt.concat([a.pos[0],a.pos[1]]),tt.join(" ")};c.default=o},8476:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(6369);function o(f,s){f.orientation||(f.orientation=(0,n._calcOrientation)(s.pos[0],s.pos[1],f.pos[0],f.pos[1])),s.orientation||(s.orientation=(0,n._calcOrientation)(f.pos[0],f.pos[1],s.pos[0],s.pos[1]));var a=Math.abs(f.pos[0]-s.pos[0]),u=Math.abs(f.pos[1]-s.pos[1]),h=f.pos[0]<s.pos[0]?a:0,p=f.pos[1]<s.pos[1]?u:0,y=f.pos[0]<s.pos[0]?0:a,w=f.pos[1]<s.pos[1]?0:u,d=f.orientation,M=s.orientation,D=(0,n._findControlPoint)([h,p],f,s,d,M),B=(0,n._findControlPoint)([y,w],s,f,M,d),Y=f.pos[0]<s.pos[0]?f.pos[0]:s.pos[0],N=f.pos[1]<s.pos[1]?f.pos[1]:s.pos[1];D=[D[0]+Y,D[1]+N],B=[B[0]+Y,B[1]+N];var A=["M",f.pos[0],f.pos[1]];return A=A.concat(["C",B[0],B[1],D[0],D[1]]),A=A.concat([s.pos[0],s.pos[1]]),A.join(" ")}c.default=o},7221:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(6369),o=function(s,a){s.orientation||(s.orientation=(0,n._calcOrientation)(a.pos[0],a.pos[1],s.pos[0],s.pos[1])),a.orientation||(a.orientation=(0,n._calcOrientation)(s.pos[0],s.pos[1],a.pos[0],a.pos[1]));var u=s.orientation,h=a.orientation,p=Math.abs(s.pos[0]-a.pos[0]),y=Math.abs(s.pos[1]-a.pos[1]),w=[],d=["M",s.pos[0],s.pos[1]];w=[a.pos[0]+p*.2*h[0],a.pos[1]+y*.2*h[1]],(a.pos[1]===s.pos[1]||a.pos[0]===s.pos[0])&&(w=[]);var M=[];return(u[0]===-1&&a.pos[0]>s.pos[0]||u[0]===1&&a.pos[0]<s.pos[0]||u[1]===1&&a.pos[1]<s.pos[1]||u[1]===-1&&a.pos[1]>s.pos[1])&&(w=[],M=[s.pos[0]+p*.2*u[0],s.pos[1]+y*.2*u[1]],(u[0]*h[0]===-1||u[1]*h[1]===-1)&&(w=[a.pos[0]+p*.2*h[0],a.pos[1]+y*.2*h[1]])),M.length&&(d=u[0]?d.concat(["H",M[0]]):d.concat(["V",M[1]])),w.length&&(d=d.concat(["L",w[0],w[1]])),M.length&&!w.length?d=d.concat(["L",a.pos[0],a.pos[1]]):d=h[0]?d.concat(["H",a.pos[0]]):d.concat(["V",a.pos[1]]),d.join(" ")};c.default=o},3003:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(9392),o=s(n),f=e(6369);function s(h){return h&&h.__esModule?h:{default:h}}function a(h,p){for(var y=null,w=null,d=1,M=[],D=function(et){return["M",et.x1+p.x,et.y1+p.y,"L",et.x2+p.x,et.y2+p.y]},B=0;B<h.length-1;B++){y=y||o.default.cloneDeep(h[B]),w=o.default.cloneDeep(h[B+1]);{var Y=y[2]===y[0]?0:y[2]>y[0]?d/2:-(d/2),N=y[3]===y[1]?0:y[3]>y[1]?d/2:-(d/2),A=D({x1:y[0]-Y,y1:y[1]-N,x2:y[2]+Y,y2:y[3]+N});M=M.concat(A)}y=w}if(w!==null){var k=D({x1:w[0],y1:w[1],x2:w[2],y2:w[3]});M=M.concat(k)}return M.join(" ")}function u(h,p,y){h.orientation||(h.orientation=(0,f._calcOrientation)(p.pos[0],p.pos[1],h.pos[0],h.pos[1],y)),p.orientation||(p.orientation=(0,f._calcOrientation)(h.pos[0],h.pos[1],p.pos[0],p.pos[1],y));var w=30,d=.5,M=Math.abs(h.pos[0]-p.pos[0]),D=Math.abs(h.pos[1]-p.pos[1]),B=p.pos[0]<h.pos[0]?M:0,Y=p.pos[1]<h.pos[1]?D:0,N=p.pos[0]<h.pos[0]?0:M,A=p.pos[1]<h.pos[1]?0:D,k=h.pos[0]<p.pos[0]?h.pos[0]:p.pos[0],tt=h.pos[1]<p.pos[1]?h.pos[1]:p.pos[1],et=h.orientation,K=p.orientation,U=et[0]*K[0]+et[1]*K[1],R=et[0]===0?"y":"x",g=B+et[0]*w,C=Y+et[1]*w,W=N+K[0]*w,z=A+K[1]*w,G=Math.abs(B-N)>w+w,nt=Math.abs(Y-A)>w+w,j=null;U===-1?j="opposite":U===0?j="perpendicular":U===1&&(j="orthogonal");var q=function(){return[g,C,W,z]},vt={perpendicular:q,orthogonal:q,opposite:function(Pe){var un=Pe==="x"?0:1,cn={x:function(){return et[un]===1&&(g>W&&N>g||B>W&&N>B)||et[un]===-1&&(g<W&&N<g||B<W&&N<B)},y:function(){return et[un]===1&&(C>z&&A>C||Y>z&&A>Y)||et[un]===-1&&(C<z&&A<C||Y<z&&A<Y)}};return cn[Pe]()?{x:[(B+N)/2,C,(B+N)/2,z],y:[g,(Y+A)/2,W,(Y+A)/2]}[Pe]:[g,C,W,z]}},mt=null,wt=null,At=[],Kt=function(Pe){return Pe<0?-1:Pe===0?0:1},jt=function(Pe,un){if(!(mt===Pe&&wt===un)){var cn=mt??B,sn=wt??Y,hn=cn===Pe?"v":"h",Vn=Kt(Pe-cn),Or=Kt(un-sn);mt=Pe,wt=un,At.push([cn,sn,Pe,un,hn,Vn,Or])}},me=vt[j](R),zt=R==="x"?0:1,$t=R==="x"?0:1,Pt=me[zt],Ft=me[$t],se=me[zt+2],de=me[$t+2];jt(me[0],me[1]);var Ie=g+(W-g)*d,Oe=C+(z-C)*d,Qt={x:[0,1],y:[1,0]},$e={perpendicular:function(Pe){var un={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]},cn={x:[[g,W],null,[W,g]],y:[[C,z],null,[z,C]]},sn={x:[[Ie,C],[Ie,z]],y:[[g,Oe],[W,Oe]]},hn={x:[[W,C]],y:[[g,z]]},Vn={x:[[g,z],[W,z]],y:[[W,C],[W,z]]},Or={x:[[g,Oe],[W,Oe],[W,z]],y:[[Ie,C],[Ie,z],[W,z]]},Hn={x:[C,z],y:[g,W]},pe=Qt[Pe][0],bt=Qt[Pe][1],Ze=et[pe]+1,hr=K[bt]+1,ge=K[bt]===-1&&Hn[Pe][1]<Hn[Pe][0]||K[bt]===1&&Hn[Pe][1]>Hn[Pe][0],Ne=cn[Pe][Ze][0],Ut=cn[Pe][Ze][1],I=un[Pe][Ze][hr],Et=function(xt,Ot){return Ot.pos[0]>xt.pos[0]||Ot.pos[0]==xt.pos[0]?Ot.pos[1]>xt.pos[1]?2:1:Ot.pos[1]>xt.pos[1]?3:4},ct=Et(h,p);if(ct===I[3]||ct===I[2]&&ge)return sn[Pe];if(ct===I[2]&&Ut<Ne)return hn[Pe];if(ct===I[2]&&Ut>=Ne||ct===I[1]&&!ge)return Or[Pe];if(ct===I[0]||ct===I[1]&&ge)return Vn[Pe]},orthogonal:function(Pe,un,cn,sn,hn){var Vn={x:et[0]===-1?Math.min(un,sn):Math.max(un,sn),y:et[1]===-1?Math.min(un,sn):Math.max(un,sn)}[Pe];return{x:[[Vn,cn],[Vn,hn],[sn,hn]],y:[[cn,Vn],[hn,Vn],[hn,sn]]}[Pe]},opposite:function(Pe,un,cn,sn){var hn=Pe==="x"?G:nt;if(!(h.pos[0]===p.pos[0]&&h.pos[1]===p.pos[1])){if(!hn||et[zt]===1&&un>sn||et[zt]===-1&&un<sn)return{x:[[un,Oe],[sn,Oe]],y:[[Ie,un],[Ie,sn]]}[Pe];if(et[zt]===1&&un<sn||et[zt]===-1&&un>sn)return{x:[[Ie,Y],[Ie,A]],y:[[B,Oe],[N,Oe]]}[Pe]}}},rn=$e[j](R,Pt,Ft,se,de);if(rn)for(var ln=0;ln<rn.length;rn++)jt(rn[ln][0],rn[ln][1]);return jt(me[2],me[3]),jt(N,A),a(At,{x:k,y:tt})}c.default=u},591:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.TOLxTOL=c.TOL=c.getDefaultPath=c.getRadiusPath=c.BOTTOM=c.TOP=c.RIGHT=c.LEFT=c.Point=void 0,c._route=K;var n=e(9392),o=f(n);function f(U){return U&&U.__esModule?U:{default:U}}function s(U){return p(U)||h(U)||u(U)||a()}function a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(U,R){if(U){if(typeof U=="string")return y(U,R);var g=Object.prototype.toString.call(U).slice(8,-1);if(g==="Object"&&U.constructor&&(g=U.constructor.name),g==="Map"||g==="Set")return Array.from(U);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return y(U,R)}}function h(U){if(typeof Symbol<"u"&&U[Symbol.iterator]!=null||U["@@iterator"]!=null)return Array.from(U)}function p(U){if(Array.isArray(U))return y(U)}function y(U,R){(R==null||R>U.length)&&(R=U.length);for(var g=0,C=new Array(R);g<R;g++)C[g]=U[g];return C}var w=c.Point=function(R,g){this.x=R,this.y=g},d=c.LEFT="Left",M=c.RIGHT="Right",D=c.TOP="Top",B=c.BOTTOM="Bottom",Y=15;c.getRadiusPath=function(R){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y,C="",W=g,z=R[R.length-1],G=1;G<R.length;G++){var nt=R[G],j=R[G-1],q=Math.max(Math.abs(j.x-nt.x),Math.abs(j.y-nt.y));W=Math.min(W,q/2)}if((o.default.first(R).x===o.default.last(R).x||o.default.first(R).y===o.default.last(R).y)&&R.length<=2)return C=["M",o.default.first(R).x,o.default.first(R).y,"L",o.default.last(R).x,o.default.last(R).y].join(" "),{path:C,breakPoints:R};o.default.first(R).x>o.default.last(R).x;for(var vt=[],mt=0;mt<R.length-2;mt++)vt=[].concat(s(vt),[N(R[mt],R[mt+1],R[mt+2],W)]);return vt.forEach(function(wt,At){At%2==0?At===2?C=C+" "+["L",wt[1].x,wt[1].y,"M",wt[1].x,wt[1].y,"A",W,W,90,0,wt[3],wt[2].x,wt[2].y].join(" "):C=C+" "+(At===0?["M",wt[0].x,wt[0].y]:[]).concat(["L",wt[1].x,wt[1].y,"A",W,W,90,0,wt[3],wt[2].x,wt[2].y]).join(" "):C=C+" "+["L",wt[1].x,wt[1].y,"M",wt[1].x,wt[1].y,"A",W,W,90,0,wt[3],wt[2].x,wt[2].y].join(" ")}),C=C+["L",z.x,z.y].join(" "),{path:C,breakPoints:R}};var N=function(R,g,C,W,z){var G=A(R,g,W),nt=A(C,g,W),j=0,q=new w((R.x+C.x)/2,(R.y+C.y)/2);return g.y<q.y?j=1:j=0,R.x>C.x&&(j=j===1?0:1),[R,G,nt,j]},A=function(R,g,C){var W=new w;return["x","y"].forEach(function(z){R[z]>g[z]?W[z]=g[z]+C:R[z]<g[z]?W[z]=g[z]-C:W[z]=R[z]}),W};c.getDefaultPath=function(R){var g=R.reduce(function(C,W){return C.push(["L",W.x,W.y].join(" ")),C},[["M",R[0].x,R[0].y].join(" ")]).join(" ");return g};var k=20,tt=c.TOL=.1,et=c.TOLxTOL=.01;function K(U,R,g,C,W){R.x=R.x||0,R.y=R.y||0,C.x=C.x||0,C.y=C.y||0;var z=R.x-C.x,G=R.y-C.y,nt,j,q;if(U.push(new w(R.x,R.y)),z*z<et&&G*G<et){U.push(new w(C.x,C.y));return}g===d?z>0&&G*G<tt&&W===M?(nt=C,j=W):(z<0?nt=new w(R.x-k,R.y):G>0&&W===B||G<0&&W===D?nt=new w(C.x,R.y):g===W?(q=Math.min(R.x,C.x)-k,nt=new w(q,R.y)):nt=new w(R.x-z/2,R.y),G>0?j=D:j=B):g===M?z<0&&G*G<tt&&W===d?(nt=C,j=W):(z>0?nt=new w(R.x+k,R.y):G>0&&W===B||G<0&&W===D?nt=new w(C.x,R.y):g===W?(q=Math.max(R.x,C.x)+k,nt=new w(q,R.y)):nt=new w(R.x-z/2,R.y),G>0?j=D:j=B):g===B?z*z<tt&&G<0&&W===D?(nt=C,j=W):(G>0?nt=new w(R.x,R.y+k):z>0&&W===M||z<0&&W===d?nt=new w(R.x,C.y):g===W?(q=Math.max(R.y,C.y)+k,nt=new w(R.x,q)):nt={x:R.x,y:R.y-G/2},z>0?j=d:j=M):g===D&&(z*z<tt&&G>0&&W===B?(nt=C,j=W):(G<0?nt=new w(R.x,R.y-k):z>0&&W===M||z<0&&W===d?nt=new w(R.x,C.y):g===W?(q=Math.min(R.y,C.y)-k,nt=new w(R.x,q)):nt={x:R.x,y:R.y-G/2},z>0?j=d:j=M)),K(U,nt,j,C,W)}},3381:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(9392),o=h(n),f=e(6369),s=e(591),a=e(8497),u=h(a);function h(N){return N&&N.__esModule?N:{default:N}}var p=20,y=function(A,k,tt){var et=tt.options.girdGap,K={canMerge:!1};if(A.x!==k.x&&A.y!==k.y){var U=tt.getGirdCell(A.x,A.y),R=tt.getGirdCell(k.x,k.y),g={xCell:U.xCell,yCell:R.yCell},C={xCell:R.xCell,yCell:U.yCell},W,z,G,nt,j=!0,q=!0;G=U.yCell<g.yCell?U.yCell:g.yCell,nt=U.yCell>g.yCell?U.yCell:g.yCell;for(var vt=G;vt<nt;vt+=et){var mt="".concat(g.xCell,"@").concat(vt);if(tt.hasObstaclesWithKey(mt)){j=!1;break}}W=R.xCell<g.xCell?R.xCell:g.xCell,z=R.xCell>g.xCell?R.xCell:g.xCell;for(var wt=W;wt<z;wt+=et){var At="".concat(wt,"@").concat(g.yCell);if(tt.hasObstaclesWithKey(At)){q=!1;break}}if(j&&q)return o.default.assign(K,{canMerge:!0,midPoint:{x:A.x,y:k.y}});var Kt=!0,jt=!0;W=U.xCell<C.xCell?U.xCell:C.xCell,z=U.xCell>C.xCell?U.xCell:C.xCell;for(var me=W;me<z;me+=et){var zt="".concat(me,"@").concat(C.yCell);if(tt.hasObstaclesWithKey(zt)){Kt=!1;break}}G=R.yCell<C.yCell?R.yCell:C.yCell,nt=R.yCell>C.yCell?R.yCell:C.yCell;for(var $t=G;$t<nt;$t+=et){var Pt="".concat(C.xCell,"@").concat($t);if(tt.hasObstaclesWithKey(Pt)){jt=!1;break}}if(Kt&&jt)return o.default.assign(K,{canMerge:!0,midPoint:{x:k.x,y:A.y}})}return K},w=function(A){for(var k=A.map(function(g){return g}),tt=!0;tt;){tt=!1;for(var et=0;et<k.length-2;et++){var K={x:parseInt(k[et].x),y:parseInt(k[et].y)},U={x:parseInt(k[et+1].x),y:parseInt(k[et+1].y)},R={x:parseInt(k[et+2].x),y:parseInt(k[et+2].y)};if(K.x===U.x&&U.x===R.x||K.y===U.y&&U.y===R.y){k.splice(et+1,1),tt=!0;break}}}return k},d=function(A,k){var tt=A.slice(1,A.length-1);if(tt.length<=3)return A;for(var et,K,U=0;U<tt.length/2;U++){for(var R=tt.length-1;R>U&&!(R-U<=2);R--){var g=y(tt[U],tt[R],k);if(g.canMerge)return et=U,K=R,tt.splice(U+1,R-U-1,g.midPoint),tt.push(A[A.length-1]),tt.unshift(A[0]),tt}if(et!==void 0&&K!==void 0)break}return A},M=function(A,k,tt,et){for(var K=o.default.cloneDeep(A),U=k.map,R="".concat(K.x,"@").concat(K.y),g=1;U[R]!==k.MAP_CONST.EMPTY&&U[R]!==void 0;)tt===s.BOTTOM?K.y+=et:tt===s.TOP?K.y-=et:tt===s.LEFT?K.x-=et:tt===s.RIGHT&&(K.x+=et),R="".concat(K.x,"@").concat(K.y),g++;return tt===s.TOP||tt===s.LEFT?-g*et:g*et},D=function(A,k,tt,et,K,U,R,g,C){var W=et,z=g.options.girdGap,G=g.getGirdCell(k.x,k.y),nt=g.getGirdCell(et.x,et.y);if(G.yCell===nt.yCell){var j=G.xCell<nt.xCell?-1:1,q=!1,vt=void 0;if(G.xCell<nt.xCell){for(var mt=G.xCell;mt<=nt.xCell;mt+=z)if(g.hasObstaclesWithDir("".concat(mt,"@").concat(G.yCell),G,nt,C)){q=!0,vt=mt;break}}else for(var wt=G.xCell;wt>=nt.xCell;wt-=z)if(g.hasObstaclesWithDir("".concat(wt,"@").concat(G.yCell),G,nt,C)){q=!0,vt=wt;break}if(q){var At=U.y>et.y?1:-1,Kt=g.hasObstaclesWithKey("".concat(vt+j*z,"@").concat(G.yCell+At*z)),jt=g.hasObstaclesWithKey("".concat(vt+j*z,"@").concat(G.yCell-At*z));if(!Kt)W={x:nt.x-(nt.xCell-(vt+j*z)),y:G.y},A.push(o.default.cloneDeep(W)),W.y+=M({x:vt,y:G.yCell},g,At===1?s.BOTTOM:s.TOP,z);else if(Kt&&!jt)W={x:nt.x-(nt.xCell-(vt+j*z)),y:G.y},A.push(o.default.cloneDeep(W)),W.y+=M({x:vt,y:G.yCell},g,At===1?s.BOTTOM:s.TOP,z);else return{code:"NO_PATH"};return{code:"CHANGE_DIR",correctPt:W,correctDir:k.x<et.x?s.RIGHT:s.LEFT}}}else if(G.xCell===nt.xCell){var me=G.yCell<nt.yCell?-1:1,zt=!1,$t=void 0;if(G.yCell<nt.yCell){for(var Pt=G.yCell;Pt<=nt.yCell;Pt+=z)if(g.hasObstaclesWithDir("".concat(G.xCell,"@").concat(Pt),G,nt,C)){zt=!0,$t=Pt;break}}else for(var Ft=G.yCell;Ft>=nt.yCell;Ft-=z)if(g.hasObstaclesWithDir("".concat(G.xCell,"@").concat(Ft),G,nt,C)){zt=!0,$t=Ft;break}if(zt){var se=U.x>et.x?1:-1,de=g.hasObstaclesWithKey("".concat(G.xCell+se*z,"@").concat($t+me*z)),Ie=g.hasObstaclesWithKey("".concat(G.xCell-se*z,"@").concat($t+me*z));if(!de)W={x:G.x,y:nt.y-(nt.yCell-($t+me*z))},A.push(o.default.cloneDeep(W)),W.x+=M({x:G.xCell,y:$t},g,se===1?s.RIGHT:s.LEFT,z);else if(de&&!Ie)W={x:G.x,y:nt.y-(nt.yCell-($t+me*z))},A.push(o.default.cloneDeep(W)),W.x+=M({x:G.xCell,y:$t},g,se===1?s.RIGHT:s.LEFT,z);else return{code:"NO_PATH"};return{code:"CHANGE_DIR",correctPt:W,correctDir:k.y<et.y?s.BOTTOM:s.TOP}}}else return{code:"NO_NEED"}},B=function N(A,k,tt,et,K,U,R){if(R>15){A.push(void 0);return}k.x=k.x||0,k.y=k.y||0,et.x=et.x||0,et.y=et.y||0;var g=k.x-et.x,C=k.y-et.y,W,z,G;if(A.push(new s.Point(k.x,k.y)),g*g<s.TOLxTOL&&C*C<s.TOLxTOL){A.push(new s.Point(et.x,et.y));return}tt===s.LEFT?g>0&&C*C<s.TOL&&K===s.RIGHT?(W=et,z=K):(g<0?W=new s.Point(k.x-p,k.y):C>0&&K===s.BOTTOM||C<0&&K===s.TOP?W=new s.Point(et.x,k.y):tt===K?(G=Math.min(k.x,et.x)-p,W=new s.Point(G,k.y)):W=new s.Point(k.x-g/2,k.y),C>0?z=s.TOP:z=s.BOTTOM):tt===s.RIGHT?g<0&&C*C<s.TOL&&K===s.LEFT?(W=et,z=K):(g>0?W=new s.Point(k.x+p,k.y):C>0&&K===s.BOTTOM||C<0&&K===s.TOP?W=new s.Point(et.x,k.y):tt===K?(G=Math.max(k.x,et.x)+p,W=new s.Point(G,k.y)):W=new s.Point(k.x-g/2,k.y),C>0?z=s.TOP:z=s.BOTTOM):tt===s.BOTTOM?g*g<s.TOL&&C<0&&K===s.TOP?(W=et,z=K):(C>0?W=new s.Point(k.x,k.y+p):g>0&&K===s.RIGHT||g<0&&K===s.LEFT?W=new s.Point(k.x,et.y):tt===K?(G=Math.max(k.y,et.y)+p,W=new s.Point(k.x,G)):W={x:k.x,y:k.y-C/2},g>0?z=s.LEFT:z=s.RIGHT):tt===s.TOP&&(g*g<s.TOL&&C>0&&K===s.BOTTOM?(W=et,z=K):(C<0?W=new s.Point(k.x,k.y-p):g>0&&K===s.RIGHT||g<0&&K===s.LEFT?W=new s.Point(k.x,et.y):tt===K?(G=Math.min(k.y,et.y)-p,W=new s.Point(k.x,G)):W={x:k.x,y:k.y-C/2},g>0?z=s.LEFT:z=s.RIGHT));var nt=D(A,k,tt,W,z,et,K,U,R);nt&&nt.code==="CHANGE_DIR"&&(W=nt.correctPt,z=nt.correctDir),N(A,W,z,et,K,U,R+1)};function Y(N,A,k){var tt=(0,f.getAvoidObstaclesInfo)(),et=new u.default;et.build(tt.nodes),et.initStatus(N,A,k.sourceNodeId,k.targetNodeId),p=et.options.girdGap*2;var K={"-1,0":s.LEFT,"1,0":s.RIGHT,"0,-1":s.TOP,"0,1":s.BOTTOM},U=[],R=new s.Point(N.pos[0],N.pos[1]),g=new s.Point(A.pos[0],A.pos[1]),C=K[N.orientation.toString()],W=K[A.orientation.toString()];return B(U,R,C,g,W,et,1),U.length===0||U.filter(function(z){return!z}).length>0?(U=[],(0,s._route)(U,R,C,g,W),U=o.default.uniqWith(U,o.default.isEqual)):(U=o.default.uniqWith(U,o.default.isEqual),U=d(U,et)),U=w(U),k.hasRadius?U.length<3?{path:(0,s.getDefaultPath)(U),breakPoints:U}:(0,s.getRadiusPath)(U,k.radius):{path:(0,s.getDefaultPath)(U),breakPoints:U}}c.default=Y},368:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(9392);s(n);var o=e(6369),f=e(591);function s(u){return u&&u.__esModule?u:{default:u}}function a(u,h,p){if(p.draggable&&p.hasDragged)return{path:(0,f.getDefaultPath)(p.breakPoints),breakPoints:p.breakPoints};u.orientation||(u.orientation=(0,o._calcOrientation)(h.pos[0],h.pos[1],u.pos[0],u.pos[1])),h.orientation||(h.orientation=(0,o._calcOrientation)(u.pos[0],u.pos[1],h.pos[0],h.pos[1]));var y=[],w={x:u.pos[0],y:u.pos[1]},d={x:h.pos[0],y:h.pos[1]},M={"-10":f.LEFT,10:f.RIGHT,"0-1":f.TOP,"01":f.BOTTOM};return(0,f._route)(y,w,M[u.orientation.join("")],d,M[h.orientation.join("")]),y.length<2?"":y.length===2?{path:"M ".concat(y[0].x," ").concat(y[0].y," L ").concat(y[1].x," ").concat(y[1].y),breakPoints:y}:(y.pop(),p.hasRadius?y.length<3?{path:(0,f.getDefaultPath)(y),breakPoints:y}:(0,f.getRadiusPath)(y,p.radius):{path:(0,f.getDefaultPath)(y),breakPoints:y})}c.default=a},8497:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var n=e(9392),o=f(n);function f(D){return D&&D.__esModule?D:{default:D}}function s(D){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s(D)}function a(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}function u(D,B){for(var Y=0;Y<B.length;Y++){var N=B[Y];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(D,p(N.key),N)}}function h(D,B,Y){return B&&u(D.prototype,B),Y&&u(D,Y),Object.defineProperty(D,"prototype",{writable:!1}),D}function p(D){var B=y(D,"string");return s(B)=="symbol"?B:String(B)}function y(D,B){if(s(D)!="object"||!D)return D;var Y=D[Symbol.toPrimitive];if(Y!==void 0){var N=Y.call(D,B||"default");if(s(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(D)}var w={},d=null,M=function(){function D(B){a(this,D),this.map={},this.options=o.default.assign({girdGap:10,padding:10},B),this.MAP_CONST={EMPTY:"1@1"},this.sourcePoint={},this.targetPoint={},this.sourceCell={},this.targetCell={},this.sourceNodeId="",this.targetNodeId=""}return h(D,[{key:"initStatus",value:function(Y,N,A,k){this.sourcePoint={x:Y.pos[0],y:Y.pos[1],orientation:Y.orientation},this.targetPoint={x:N.pos[0],y:N.pos[1],orientation:N.orientation},this.sourceCell=this.getGirdCell(Y.pos[0],Y.pos[1]),this.targetCell=this.getGirdCell(N.pos[0],N.pos[1]),this.sourceNodeId=A,this.targetNodeId=k}},{key:"build",value:function(Y){var N=this;if(d){this.map=w;return}var A=1/0,k=-1/0,tt=1/0,et=-1/0;Y.forEach(function(R){R.left<A&&(A=R.left-N.options.padding);var g=R.left+R.width;g>k&&(k=g+N.options.padding),R.top<tt&&(tt=R.top-N.options.padding);var C=R.top+R.height;C>et&&(et=C+N.options.padding)}),A=this.fix(A,-1)-this.options.girdGap*10,k=this.fix(k)+this.options.girdGap*10,tt=this.fix(tt,-1)-this.options.girdGap*10,et=this.fix(et)+this.options.girdGap*10;for(var K=tt;K<=et;K+=this.options.girdGap)for(var U=A;U<=k;U+=this.options.girdGap)this.map["".concat(U,"@").concat(K)]=this.MAP_CONST.EMPTY;Y.forEach(function(R){var g=R.left,C=R.left+R.width,W=R.top,z=R.top+R.height,G=N.getGirdCell(g,W),nt=N.getGirdCell(C,W),j=N.getGirdCell(g,z);N.getGirdCell(C,z);for(var q=G.yCell;q<=j.yCell;q+=N.options.girdGap)for(var vt=G.xCell;vt<=nt.xCell;vt+=N.options.girdGap)N.map["".concat(vt,"@").concat(q)]=R.id}),w=this.map,d=setTimeout(function(){clearTimeout(d),d=null},50)}},{key:"hasObstaclesWithKey",value:function(Y){return this.map[Y]!==this.MAP_CONST.EMPTY}},{key:"hasObstaclesWithDir",value:function(Y,N,A,k){var tt=this.map[Y];return this.map[Y]!==this.MAP_CONST.EMPTY&&(tt===this.sourceNodeId&&N.x===this.sourcePoint.x&&N.y===this.sourcePoint.y||tt===this.targetNodeId&&A.x===this.targetPoint.x&&A.y===this.targetPoint.y)?!1:this.map[Y]!==this.MAP_CONST.EMPTY}},{key:"getGirdCell",value:function(Y,N){var A=this.round(Y),k=this.round(N);return{x:Y,y:N,xCell:A,yCell:k,key:"".concat(A,"@").concat(k)}}},{key:"updateMap",value:function(Y){}},{key:"clearPath",value:function(){}},{key:"round",value:function(Y){var N=Y%this.options.girdGap;return N-this.options.girdGap/2>=0?Y-N+this.options.girdGap:Y-N}},{key:"fix",value:function(Y){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,A=Y%this.options.girdGap,k=Y;return A!==0&&(k=Y-A+this.options.girdGap*N),k}},{key:"clear",value:function(){this.map={}}}]),D}();c.default=M},1645:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(6369),o=function(s,a,u){s.orientation||(s.orientation=(0,n._calcOrientation)(a.pos[0],a.pos[1],s.pos[0],s.pos[1])),a.orientation||(a.orientation=(0,n._calcOrientation)(s.pos[0],s.pos[1],a.pos[0],a.pos[1]));var h=s.orientation,p=a.orientation,y=(0,n._findSecondControlPoint)(s,a,h,p,u),w=["M",s.pos[0],s.pos[1]];return w=w.concat(["Q",y[0],y[1]]),w=w.concat([a.pos[0],a.pos[1]]),w.join(" ")};c.default=o},3962:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});function e(n,o){var f=["M",n.pos[0],n.pos[1],"L",o.pos[0],o.pos[1]];return f.join(" ")}c.default=e},4882:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),c.findManhattanPoint=c.drawAdvancedManhattan=c.drawBrokenLine=c.drawSecondBezier=c.drawManhattan=c.drawFlow=c.drawStraight=c.drawBezier=c.drawAdvancedBezier=void 0;var n=e(6471);Object.defineProperty(c,"drawAdvancedBezier",{enumerable:!0,get:function(){return w(n).default}});var o=e(8476);Object.defineProperty(c,"drawBezier",{enumerable:!0,get:function(){return w(o).default}});var f=e(3962);Object.defineProperty(c,"drawStraight",{enumerable:!0,get:function(){return w(f).default}});var s=e(3003);Object.defineProperty(c,"drawFlow",{enumerable:!0,get:function(){return w(s).default}});var a=e(368);Object.defineProperty(c,"drawManhattan",{enumerable:!0,get:function(){return w(a).default}});var u=e(1645);Object.defineProperty(c,"drawSecondBezier",{enumerable:!0,get:function(){return w(u).default}});var h=e(7221);Object.defineProperty(c,"drawBrokenLine",{enumerable:!0,get:function(){return w(h).default}});var p=e(3381);Object.defineProperty(c,"drawAdvancedManhattan",{enumerable:!0,get:function(){return w(p).default}});var y=e(6369);function w(d){return d&&d.__esModule?d:{default:d}}c.findManhattanPoint=y._findManhattanPoint},9755:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(4609),o=new Date().getTime(),f=function(u){o=new Date().getTime()},s=function(u,h){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments.length>3?arguments[3]:void 0;return new Promise(function(w,d){var M=y,D=null,B=null;if(M||(D=document.createElementNS("http://www.w3.org/2000/svg","circle"),B=document.createElementNS("http://www.w3.org/2000/svg","animateMotion"),D.append(B)),p._isContinue){var Y=M.cloneNode(!0);n(Y).find("animateMotion").attr("path",h),n(M).replaceWith(Y),M=Y}else{var N=(new Date().getTime()-o)/1e3;M&&(D=M,B=n(M).find("animateMotion")[0],n(D).css("display","block")),D.setAttribute("cx",0),D.setAttribute("cy",0),D.setAttribute("r",p.radius||2),D.setAttribute("fill",p.color||"#999"),B.setAttribute("path",h),B.setAttribute("begin","".concat(N,"s")),B.setAttribute("dur",p.dur||"8s"),B.setAttribute("fill","freeze"),B.setAttribute("repeatCount",p.repeatCount||"indefinite"),p.repeatCount&&p.repeatCount!=="indefinite"&&setTimeout(function(){n(D).css("display","none")},parseFloat(p.dur)*parseInt(p.repeatCount)*1e3)}M?w(M):(M=D,setTimeout(function(){n(M).insertAfter(u),w(M)},20))})};c.default={init:f,addAnimate:s}},6796:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});function n(g,C){var W=Object.keys(g);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(g);C&&(z=z.filter(function(G){return Object.getOwnPropertyDescriptor(g,G).enumerable})),W.push.apply(W,z)}return W}function o(g){for(var C=1;C<arguments.length;C++){var W=arguments[C]!=null?arguments[C]:{};C%2?n(Object(W),!0).forEach(function(z){y(g,z,W[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(W)):n(Object(W)).forEach(function(z){Object.defineProperty(g,z,Object.getOwnPropertyDescriptor(W,z))})}return g}function f(g,C){var W=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!W){if(Array.isArray(g)||(W=s(g))||C&&g&&typeof g.length=="number"){W&&(g=W);var z=0,G=function(){};return{s:G,n:function(){return z>=g.length?{done:!0}:{done:!1,value:g[z++]}},e:function(mt){throw mt},f:G}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nt=!0,j=!1,q;return{s:function(){W=W.call(g)},n:function(){var mt=W.next();return nt=mt.done,mt},e:function(mt){j=!0,q=mt},f:function(){try{!nt&&W.return!=null&&W.return()}finally{if(j)throw q}}}}function s(g,C){if(g){if(typeof g=="string")return a(g,C);var W=Object.prototype.toString.call(g).slice(8,-1);if(W==="Object"&&g.constructor&&(W=g.constructor.name),W==="Map"||W==="Set")return Array.from(g);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return a(g,C)}}function a(g,C){(C==null||C>g.length)&&(C=g.length);for(var W=0,z=new Array(C);W<C;W++)z[W]=g[W];return z}function u(g,C){if(!(g instanceof C))throw new TypeError("Cannot call a class as a function")}function h(g,C){for(var W=0;W<C.length;W++){var z=C[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(g,w(z.key),z)}}function p(g,C,W){return C&&h(g.prototype,C),W&&h(g,W),Object.defineProperty(g,"prototype",{writable:!1}),g}function y(g,C,W){return C=w(C),C in g?Object.defineProperty(g,C,{value:W,enumerable:!0,configurable:!0,writable:!0}):g[C]=W,g}function w(g){var C=d(g,"string");return M(C)=="symbol"?C:String(C)}function d(g,C){if(M(g)!="object"||!g)return g;var W=g[Symbol.toPrimitive];if(W!==void 0){var z=W.call(g,C||"default");if(M(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(g)}function M(g){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},M(g)}var D=e(9392),B=e(4609),Y="rgba(246, 105, 2, 1)",N="rgba(61, 86, 92, 1)",A="rgba(255, 253, 76, 1)",k="rgba(255, 253, 76, 1)",tt=20,et=function(C,W){!C||!C.style||Object.keys(W).forEach(function(z){C.style[z]=W[z]})},K=function(C){var W=C.backingStorePixelRatio||C.webkitBackingStorePixelRatio||C.mozBackingStorePixelRatio||C.msBackingStorePixelRatio||C.oBackingStorePixelRatio||C.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/W},U=function(C){if(!C)throw new Error("options cant be empty");if(!C.root||M(C.root)!=="object"||!B(C.root))throw new Error("options.root must be a html element");if(!C.move||typeof C.move!="function")throw new Error("options.move must be a fuction");if(!C.terminal2canvas||typeof C.terminal2canvas!="function")throw new Error("options.move must be a fuction")},R=function(){function g(C){var W=this;u(this,g),y(this,"getItemsPoint",function(){var z=D.cloneDeep(W.options.nodes),G=D.cloneDeep(W.options.groups),nt=W.options.canvas2terminal,j=W.$root.height(),q=W.$root.width();z.push({left:0,top:0,height:1,width:1}),z.push({left:q,top:j,height:1,width:1});var vt=f(z),mt;try{for(vt.s();!(mt=vt.n()).done;){var wt=mt.value;if(wt.group){var At=D.find(G,{id:wt.group});if(!At)continue;wt.rleft=At.left+wt.left,wt.rtop=At.top+wt.top;continue}wt.rleft=wt.left,wt.rtop=wt.top}}catch(Kt){vt.e(Kt)}finally{vt.f()}return G.forEach(function(Kt){var jt=[Kt.left,Kt.top],me=[Kt.left+Kt.width,Kt.top+Kt.height],zt=nt(jt),$t=nt(me);Kt.screenLeftTop=zt,Kt.screenRightBottom=$t,Kt.left=zt[0],Kt.top=zt[1],Kt.width=$t[0]-zt[0],Kt.height=$t[1]-zt[1]}),z.forEach(function(Kt){var jt=[Kt.rleft,Kt.rtop],me=[Kt.rleft+Kt.width,Kt.rtop+Kt.height],zt=nt(jt),$t=nt(me);Kt.left=zt[0],Kt.top=zt[1],Kt.width=$t[0]-zt[0],Kt.height=$t[1]-zt[1]}),{groups:G,nodes:z}}),y(this,"getViewportBBox",function(){var z=B(W.viewportDOM),G=z.offsetParent(),nt=z.offset(),j=B(G).offset(),q=nt.left-j.left,vt=nt.top-j.top,mt=z.width(),wt=z.height(),At=q+mt,Kt=vt+wt;return{left:q,top:vt,right:At,bottom:Kt,height:wt,width:mt}}),y(this,"debounceRender",D.debounce(function(){W.renderViewPort(),W.renderBG()},100)),U(C),this.root=C.root,this.$root=B(this.root),this.options=o({height:200,width:200,className:"butterfly-minimap-container",containerStyle:{},viewportStyle:{},backgroudStyle:{},nodeColor:Y,groupColor:N,activeNodeColor:A,activeGroupColor:k,containerWidth:B(this.root).width(),containerHeight:B(this.root).height(),nodes:[],groups:[],offset:[0,0],zoom:1,move:function(){return null},terminal2canvas:function(){return null},safeDistance:tt},C),this.ratio=1,this.initContainer(),this.renderViewPort(),this.renderBG()}return p(g,[{key:"getBBox",value:function(){var W=this.getItemsPoint(),z=W.nodes,G=W.groups,nt=function(Qt){return D.isNumber(Qt)?Qt:0},j=z.map(function(Oe){return Oe.top}),q=z.map(function(Oe){return Oe.left}),vt=z.map(function(Oe){return Oe.top+Oe.height}),mt=z.map(function(Oe){return Oe.left+Oe.width}),wt=G.map(function(Oe){return Oe.top}),At=G.map(function(Oe){return Oe.left}),Kt=G.map(function(Oe){return Oe.top+Oe.height}),jt=G.map(function(Oe){return Oe.left+Oe.width}),me=j.concat(wt),zt=q.concat(At),$t=vt.concat(Kt),Pt=mt.concat(jt),Ft=nt(D.min(zt)),se=nt(D.min(me)),de=nt(D.max(Pt)),Ie=nt(D.max($t));return{minX:Ft,minY:se,width:de-Ft,height:Ie-se}}},{key:"setRatio",value:function(){var W=this.options.height,z=this.options.width,G=this.getBBox();if(G.width===0||G.height===0)return 0;var nt=Math.min(z/G.width,W/G.height);this.ratio=Number(nt.toFixed(2))}},{key:"update",value:function(W){var z=W.nodes,G=z===void 0?[]:z,nt=W.groups,j=nt===void 0?[]:nt,q=W.zoom,vt=q===void 0?1:q,mt=W.offset,wt=mt===void 0?[0,0]:mt;this.options.nodes=G,this.options.groups=j,this.options.zoom=vt,this.options.offset=wt,this.debounceRender()}},{key:"initContainer",value:function(){var W=this.options,z=W.height,G=W.width,nt=W.className,j=W.viewportStyle,q=W.backgroudStyle,vt=W.containerStyle;this.container=document.createElement("div"),this.viewportDOM=document.createElement("div"),this.backgroundDOM=document.createElement("div"),this.container.setAttribute("class",nt);var mt={position:"absolute",left:0,top:0,overflow:"hidden",height:z+"px",width:G+"px"};et(this.container,o(o({},mt),{},{right:"10px",bottom:"10px",left:"none",top:"none",height:z+"px",width:G+"px",border:"1px solid #aaa","z-index":100},vt)),et(this.viewportDOM,o(o({},mt),{},{left:0,top:0,"background-color":"rgba(246,105,2,0.20)"},j)),et(this.backgroundDOM,o(o(o({},mt),q),{},{height:z+"px",width:G+"px"})),this.root.appendChild(this.container),this.container.appendChild(this.backgroundDOM),this.container.appendChild(this.viewportDOM),this.initBGCanvas(),this.initViewportEvts()}},{key:"initBGCanvas",value:function(){var W=this.options,z=W.width,G=W.height,nt=document.createElement("canvas");this.backgroundDOM.appendChild(nt),nt.setAttribute("width",z),nt.setAttribute("height",G),et(nt,{position:"absolute",width:"100%",height:"100%",left:0,top:0});var j=nt.getContext("2d");this.cvsCtx=j,this.cvsRatio=K(j),j.scale(this.cvsRatio,this.cvsRatio)}},{key:"initViewportEvts",value:function(){var W=this,z=!1,G=0,nt=0,j=0,q=0;this.viewportEvents={mousedown:function(mt){if(mt.preventDefault(),mt.stopPropagation(),W.viewportDOM,mt.target===W.viewportDOM){var wt=W.getViewportBBox();j=parseInt(wt.left,10),q=parseInt(wt.top,10),z=!0,G=mt.clientX,nt=mt.clientY}},mousemove:function(mt){if(mt.preventDefault(),mt.stopPropagation(),!(!z||D.isNil(mt.clientX)||D.isNil(mt.clientY))){var wt=G-mt.clientX,At=nt-mt.clientY;j-=wt,q-=At;var Kt=W.options,jt=Kt.width,me=Kt.height,zt=Kt.safeDistance,$t=W.getViewportBBox(),Pt=$t.width,Ft=$t.height;if(j>=jt-zt||q>=me-zt||j+Pt<=zt||q+Ft<=zt){j+=wt,q+=At;return}et(W.viewportDOM,{left:j+"px",top:q+"px"});var se=W.getBBox(),de=se.minX,Ie=se.minY,Oe=W.$root.offset(),Qt=W.options.offset,$e=(-j/W.ratio+Oe.left-de)*W.ratio,rn=(-q/W.ratio+Oe.top-Ie)*W.ratio;W.options.move([Qt[0]+$e/W.ratio,Qt[1]+rn/W.ratio]),G=mt.clientX,nt=mt.clientY}},mouseleave:function(){z=!1},mouseup:function(){z=!1}},Object.keys(this.viewportEvents).forEach(function(vt){W.container.addEventListener(vt,W.viewportEvents[vt])})}},{key:"renderBG",value:function(){var W=this,z=this.cvsCtx,G=this.options,nt=G.width,j=G.height,q=G.nodeColor,vt=G.groupColor,mt=G.activeNodeColor,wt=G.activeGroupColor,At=this.cvsRatio;z.clearRect(0,0,nt,j);var Kt=this.getItemsPoint(),jt=Kt.nodes,me=Kt.groups,zt=this.getBBox(),$t=zt.minX,Pt=zt.minY;me.forEach(function(Ft){var se=(Ft.left-$t)*W.ratio,de=(Ft.top-Pt)*W.ratio,Ie=Ft.width*W.ratio,Oe=Ft.height*W.ratio,Qt=Ft.minimapActive;Qt?z.fillStyle=wt:z.fillStyle=vt,z.fillRect(se/At,de/At,Ie/At,Oe/At)}),jt.forEach(function(Ft){var se=(Ft.left-$t)*W.ratio,de=(Ft.top-Pt)*W.ratio,Ie=Ft.width*W.ratio,Oe=Ft.height*W.ratio,Qt=null,$e=null;typeof mt=="string"?Qt=mt:typeof mt=="function"&&(Qt=mt(Ft)),typeof q=="string"?$e=q:typeof q=="function"&&($e=q(Ft)),Ft.minimapActive?z.fillStyle=Qt:z.fillStyle=$e,z.fillRect(se/At,de/At,Ie/At,Oe/At)})}},{key:"renderViewPort",value:function(){this.setRatio();var W=this.getBBox(),z=W.minX,G=W.minY,nt=this.$root.offset(),j=nt.top,q=nt.left,vt=this.$root.width(),mt=this.$root.height(),wt=[q-z,j-G],At=this.ratio,Kt=vt*this.ratio,jt=mt*this.ratio,me=Math.round(Math.round(wt[0])*At),zt=Math.round(Math.round(wt[1])*At);et(this.viewportDOM,{width:"".concat(Kt,"px"),height:"".concat(jt,"px"),left:"".concat(me,"px"),top:"".concat(zt,"px")})}},{key:"destroy",value:function(){this.root.removeChild(this.container)}}]),g}();c.default=R},1106:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(9392);c.default=function(o,f,s){var a=(o||"").split(" ").filter(function(y){return!!y}),u=(f||"").split(" ").filter(function(y){return!!y});if(!s&&(!o||!f))return!0;if(s&&!o&&!f)return!0;var h=a.concat(u),p=n.uniq(h);return h.length!==p.length}},8039:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});function n(y){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},n(y)}function o(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function f(y,w){for(var d=0;d<w.length;d++){var M=w[d];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(y,a(M.key),M)}}function s(y,w,d){return w&&f(y.prototype,w),d&&f(y,d),Object.defineProperty(y,"prototype",{writable:!1}),y}function a(y){var w=u(y,"string");return n(w)=="symbol"?w:String(w)}function u(y,w){if(n(y)!="object"||!y)return y;var d=y[Symbol.toPrimitive];if(d!==void 0){var M=d.call(y,w||"default");if(n(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(y)}var h=e(4609),p=function(){function y(){o(this,y),this.dom=h('<canvas class="butterfly-selected-canvas"></canvas>')[0],this.cxt=this.dom.getContext("2d"),this.canvasTop=0,this.canvasLeft=0,this.canvasHeight=0,this.canvasWidth=0,this.canScrollX=0,this.canScrollY=0,this.startX=0,this.startY=0,this.endX=0,this.endY=0,this._on=null,this._emit=null,this.isDraw=!1,this.root=null,this.isActive=!1}return s(y,[{key:"init",value:function(d){var M=d.root;this.resize(d),this.addEventListener(),this._on=d._on,this._emit=d._emit,h(this.dom).appendTo(M)}},{key:"resize",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=d.root||this.root;this.root=M;var D=M.getBoundingClientRect();this.canvasTop=D.top,this.canvasLeft=D.left,this.canvasHeight=h(M).height(),this.canvasWidth=h(M).width(),h(this.dom).attr("width",this.canvasWidth),h(this.dom).attr("height",this.canvasHeight)}},{key:"addEventListener",value:function(){this.dom.addEventListener("mousedown",this.mouseDown.bind(this)),this.dom.addEventListener("mouseup",this.mouseUp.bind(this)),this.dom.addEventListener("mousemove",this.mouseMove.bind(this)),this.dom.addEventListener("mouseleave",this.mouseLeave.bind(this))}},{key:"mouseDown",value:function(d){this.startX=d.clientX,this.startY=d.clientY,this.resize(),this.isDraw=!0}},{key:"mouseUp",value:function(d){this.isDraw=!1,this.clearCanvas();var M=this.startX,D=this.startY,B=this.endX=d.clientX,Y=this.endY=d.clientY,N=B-M>0?"right":"left",A=M>B?B:M,k=D>Y?Y:D,tt=M>B?M:B,et=D>Y?D:Y;this._emit("InnerEvents",{type:"multiple:select",range:[A,k,tt,et],toDirection:N}),this.unActive()}},{key:"mouseMove",value:function(d){this.isDraw&&(this.endX=d.clientX,this.endY=d.clientY,this.drawRect())}},{key:"mouseLeave",value:function(d){this.isDraw=!1,this.clearCanvas()}},{key:"drawRect",value:function(){if(this.isDraw){this.clearCanvas();var d=Math.min(this.startX,this.endX)-this.canvasLeft+this.canScrollX,M=Math.min(this.startY,this.endY)-this.canvasTop+this.canScrollY,D=Math.abs(this.startX-this.endX),B=Math.abs(this.startY-this.endY);this.cxt.beginPath(),this.cxt.rect(d,M,D,B),this.cxt.fillStyle="#b3dbff",this.cxt.fill(),this.cxt.lineWidth="1",this.cxt.strokeStyle="#3da4ff",this.cxt.stroke()}}},{key:"clearCanvas",value:function(){this.cxt.clearRect(0,0,this.canvasWidth,this.canvasHeight)}},{key:"getCanvas",value:function(){return this.dom}},{key:"active",value:function(){this.isActive||(h(this.dom).addClass("wrapper-up"),this.isActive=!0)}},{key:"unActive",value:function(){this.isActive&&(h(this.dom).removeClass("wrapper-up"),this.isActive=!1)}},{key:"_changeCanvasInfo",value:function(d){d.terScrollX!==void 0&&(this.canScrollX=d.terScrollX),d.terScrollY!==void 0&&(this.canScrollY=d.terScrollY),d.startX!==void 0&&(this.startX=d.startX),d.startY!==void 0&&(this.startY=d.startY)}}]),y}();c.default=p},9507:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0}),e(9868);var n=e(4609),o={TEMPLATE:'<div class="butterfly-tooltip-container"><div class="butterfly-tooltip-arrow"></div><div class="butterfly-tooltip-inner"></div></div>',$viewAppend:"body",$viewCon:{tips:".butterfly-tips",menu:".butterfly-menu",common:".butterfly-tooltip-container"},$inner:".butterfly-tooltip-inner"},f=function(K){if(!K)return 0;if(Number(K))return Number(parseFloat(K).toFixed(3))},s=function(K,U){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{x:0,y:0},g={},C=U.left,W=U.top,z=U.width,G=U.height,nt=U.actualWidth,j=U.actualHeight;switch(C=f(C),W=f(W),z=f(z),G=f(G),nt=f(nt),j=f(j),K){case"top":g.left=C+z/2-nt/2,g.top=W-j-5;break;case"left":g.left=C-nt-5,g.top=W+G/2-j/2;break;case"right":g.left=C+z+5,g.top=W+G/2-j/2;break;case"bottom":g.left=C+z/2-nt/2,g.top=W+G+5;break;default:g.left=C+z/2-nt/2,g.top=W-G-5}return R.x&&(g.left+=R.x),R.y&&(g.top+=R.y),g},a={x:0,y:0},u=function(K,U,R,g,C){n(o.$viewCon[U]).remove();var W=n(o.TEMPLATE);W.find(o.$inner).append(R),n(W).appendTo(K.viewAppend||o.$viewAppend);var z=K.placement||"top";n(W).addClass(o.$viewCon[U].replace(".","")).addClass(z).addClass("in"),K.className&&W.addClass(K.className);var G={top:n(g).offset().top,left:n(g).offset().left,width:n(g).outerWidth(),height:n(g).outerHeight(),actualWidth:n(W).outerWidth(),actualHeight:n(W).outerHeight()};if(["path","g"].includes(n(g)[0].tagName)){var nt=n(g)[0].getBBox();G.width=nt.width,G.height=nt.height}K.viewAppend&&(G.top-=n(K.viewAppend).offset().top,G.left-=n(K.viewAppend).offset().left);var j={};if(K.x||K.x===0)j={left:K.offsetX?K.x+K.offsetX:K.x,top:K.offsetY?K.y+K.offsetY:K.y};else{var q={x:0,y:0};K.offsetX&&(q.x=K.offsetX),K.offsetY&&(q.y=K.offsetY),j=s(z,G,q)}a={x:j.left,y:j.top};var vt="top: ".concat(j.top,"px; left: ").concat(j.left,"px;");return n(W).attr("style",vt),C&&C(W[0]),W[0]},h=function(K,U){n(K).removeClass("in").remove(),U&&U(K)},p=function(K,U){var R=null,g=null,C=!1,W=!1,z=!1,G=null,nt=!!K.notEventThrough,j=K.needTipsHidden===void 0?!0:!!K.needTipsHidden,q=function(Pt){z?C=!1:C=!0},vt=function(Pt){z=!1,C=!1,mt()},mt=function(){G&&clearTimeout(G),G=setTimeout(function(){!C&&!W&&R&&(h(R),R.removeEventListener("mouseover",q),R.removeEventListener("mousemove",q),R.removeEventListener("mouseout",vt))},50)},wt=K.data,At=K.targetDom,Kt=K.genTipDom,jt=K.tipsDom;At.addEventListener("mouseover",function($t){jt&&(g=jt),Kt&&(g=Kt(wt)),!(z||!g)&&(nt&&($t.stopPropagation(),$t.preventDefault()),W=!0,R=u(K,"tips",g,At,U),R.addEventListener("mouseover",q),R.addEventListener("mousemove",q),R.addEventListener("mouseout",vt))});var me=At.onmouseout;At.onmouseout=function($t){me&&me($t),nt&&($t.stopPropagation(),$t.preventDefault()),W=!1,mt()};var zt=At.onmousedown;At.onmousedown=function($t){if(zt&&zt($t),j){var Pt=function Ft(){z=!1,document.removeEventListener("mouseup",Ft)};document.addEventListener("mouseup",Pt),z=!0,W=!1,mt()}}},y=null,w=null,d=!1,M={x:0,y:0},D=function et(K){K.target===y||n(y).find(K.target).length>0||(y&&h(y),document.removeEventListener("click",et))},B=function(K,U){var R=K.data,g=K.targetDom,C=K.genTipDom,W=function(){var G=null;C&&(G=C(R)),K.tipsDom&&(G=K.tipsDom),y=u(K,"menu",G,g,U),K.closable&&document.addEventListener("click",D),K.draggable&&(K.dragDom?w=K.dragDom:w=y,document.addEventListener("mousedown",N),document.addEventListener("mousemove",k),document.addEventListener("mouseup",tt))};K.action==="click"?g.addEventListener("click",W):W()},Y=function(K){y&&(h(y,K),y=null,document.removeEventListener("click",D),w&&(document.removeEventListener("mousedown",N),document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",tt),w=null))},N=function(K){d=!0,M={x:K.clientX,y:K.clientY}},A=null,k=function(K){if(d&&w){if(A)return;A=setTimeout(function(){var U=a.y+(K.clientY-M.y),R=a.x+(K.clientX-M.x);n(y).css("top",U).css("left",R),M={x:K.clientX,y:K.clientY},a={x:R,y:U},A=null},20)}},tt=function(K){d=!1};c.default={createTip:p,createMenu:B,closeMenu:Y}},1730:function(b,c,e){Object.defineProperty(c,"__esModule",{value:!0});var n=e(4609),o=f(n);function f(d){return d&&d.__esModule?d:{default:d}}function s(d){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s(d)}function a(d,M){if(!(d instanceof M))throw new TypeError("Cannot call a class as a function")}function u(d,M){for(var D=0;D<M.length;D++){var B=M[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(d,p(B.key),B)}}function h(d,M,D){return M&&u(d.prototype,M),D&&u(d,D),Object.defineProperty(d,"prototype",{writable:!1}),d}function p(d){var M=y(d,"string");return s(M)=="symbol"?M:String(M)}function y(d,M){if(s(d)!="object"||!d)return d;var D=d[Symbol.toPrimitive];if(D!==void 0){var B=D.call(d,M||"default");if(s(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(d)}var w=function(){function d(){a(this,d),this.info=null,this.canvas=null,this.coordinate=null,this.hideGroups={},this.hideEdges={},this.hideNodes={},this.updatePosTimer=null,this.timer=null}return h(d,[{key:"init",value:function(D){var B=this;this.info=D.info,this.canvas=D.canvas,this.coordinate=D.coordinate,this.canvas.on("system.canvas.move",function(){B._redraw()}),this.canvas.on("system.canvas.zoom",function(){B._redraw()})}},{key:"addEdges",value:function(D,B){var Y=this,N=this.hideEdges,A=[];return B._edgeFragment,B._labelFragment,D.forEach(function(k){Y.getEdgeVisibleStatus(k)?(k.virtualHidden=!1,A.push(k)):(k.virtualHidden=!0,N["".concat(k.options.sourceNode,"-").concat(k.options.source,"-").concat(k.options.targetNode,"-").concat(k.options.target)]=k,(0,o.default)(k.dom).detach(),k.labelDom&&(0,o.default)(k.labelDom).detach(),k.arrowDom&&(0,o.default)(k.arrowDom).detach(),k.eventHandlerDom&&(0,o.default)(k.eventHandlerDom).detach())}),A}},{key:"removeGroup",value:function(D){delete this.hideGroups[D.id]}},{key:"removeNodes",value:function(D){var B=this;D.nodes.forEach(function(Y){delete B.hideNodes[Y.id]}),D.edges.forEach(function(Y){delete B.hideEdges["".concat(Y.options.sourceNode,"-").concat(Y.options.source,"-").concat(Y.options.targetNode,"-").concat(Y.options.target)]})}},{key:"removeEdges",value:function(D){var B=this;D.forEach(function(Y){delete B.hideEdges["".concat(Y.options.sourceNode,"-").concat(Y.options.source,"-").concat(Y.options.targetNode,"-").concat(Y.options.target)]})}},{key:"redraw",value:function(D){var B=this,Y=this.canvas,N=this.hideEdges,A=this.hideNodes,k=this.hideGroups;Y.groups.forEach(function(R){R.group||(B.getNodeVisibleStatus(R)?(R.virtualHidden=!1,(0,o.default)(R.dom).css("visibility","visible"),k[R.id]&&(delete k[R.id],(0,o.default)(Y.wrapper).prepend(R.dom),R.endpoints.forEach(function(g){g.updatePos();var C=Y.getNeighborEdgesByEndpoint(R.id,g.id);C.forEach(function(W){W.redraw()})}),R.groups.forEach(function(g){delete k[g.id]}),R.nodes.forEach(function(g){delete A[g.id]}))):k[R.id]||(R.virtualHidden=!0,(0,o.default)(R.dom).detach(),k[R.id]=R,R.groups.forEach(function(g){k[g.id]=g}),R.nodes.forEach(function(g){A[g.id]=g})))});var tt=document.createDocumentFragment(),et=document.createDocumentFragment();if(Y.nodes.forEach(function(R){if(R.group){R._group.virtualHidden&&(R.virtualHidden=!0,A[R.id]=R);return}B.getNodeVisibleStatus(R)?(R.virtualHidden=!1,(0,o.default)(R.dom).css("visibility","visible"),A[R.id]&&(delete A[R.id],tt.appendChild(R.dom),R.endpoints.forEach(function(g){!g._isInitedDom&&et.appendChild(g.dom)}))):A[R.id]||(R.virtualHidden=!0,(0,o.default)(R.dom).detach(),R.endpoints.forEach(function(g){!g._isInitedDom&&(0,o.default)(g.dom).detach()}),A[R.id]=R)}),(0,o.default)(Y.wrapper).append(tt),(0,o.default)(Y.wrapper).prepend(et),!D){var K=document.createDocumentFragment(),U=document.createDocumentFragment();Y.edges.forEach(function(R){B.getEdgeVisibleStatus(R)?(R.virtualHidden=!1,N["".concat(R.options.sourceNode,"-").concat(R.options.source,"-").concat(R.options.targetNode,"-").concat(R.options.target)]&&(delete N["".concat(R.options.sourceNode,"-").concat(R.options.source,"-").concat(R.options.targetNode,"-").concat(R.options.target)],K.appendChild(R.dom),R.eventHandlerDom&&K.appendChild(R.eventHandlerDom),R.arrowDom&&K.appendChild(R.arrowDom),R.labelDom&&U.appendChild(R.labelDom),R.defaultAnimate&&R.addAnimate())):N["".concat(R.options.sourceNode,"-").concat(R.options.source,"-").concat(R.options.targetNode,"-").concat(R.options.target)]||(R.virtualHidden=!0,(0,o.default)(R.dom).detach(),R.eventHandlerDom&&(0,o.default)(R.eventHandlerDom).detach(),R.labelDom&&(0,o.default)(R.labelDom).detach(),R.arrowDom&&(0,o.default)(R.arrowDom).detach(),R.defaultAnimate&&R.removeAnimate(),N["".concat(R.options.sourceNode,"-").concat(R.options.source,"-").concat(R.options.targetNode,"-").concat(R.options.target)]=R)}),(0,o.default)(Y.svg).append(K),(0,o.default)(Y.wrapper).append(U)}clearTimeout(this.updatePosTimer),this.updatePosTimer=setTimeout(function(){Y.nodes.forEach(function(R){A[R.id]||R.endpoints.forEach(function(g){g.updatePos()})}),Y.edges.forEach(function(R){R.redraw()})},300)}},{key:"_redraw",value:function(){var D=this,B=this.timer;B||(B=setTimeout(function(){D.redraw(),clearTimeout(B),B=null},150))}},{key:"getHideGroups",value:function(){return this.hideGroups}},{key:"getHideNodes",value:function(){return this.hideNodes}},{key:"getHideEdges",value:function(){return this.hideEdges}},{key:"getNodeVisibleStatus",value:function(D){var B=D.left,Y=D.top,N=D.left+D.getWidth(!0),A=D.top+D.getHeight(!0),k=this.coordinate.virtualScrollCoordinate.top,tt=this.coordinate.virtualScrollCoordinate.bottom,et=this.coordinate.virtualScrollCoordinate.left,K=this.coordinate.virtualScrollCoordinate.right;return!(B>K||Y>tt||N<et||A<k)}},{key:"getEdgeVisibleStatus",value:function(D){var B=this.coordinate.virtualScrollCoordinate.top,Y=this.coordinate.virtualScrollCoordinate.bottom,N=this.coordinate.virtualScrollCoordinate.left,A=this.coordinate.virtualScrollCoordinate.right,k=D._sourcePoint.pos,tt=D._targetPoint.pos,et=k[0]>=N&&k[0]<=A&&k[1]>=B&&k[1]<=Y,K=tt[0]>=N&&tt[0]<=A&&tt[1]>=B&&tt[1]<=Y;if(et||K)return!0;var U=D._calcK();if(U.k===1/0||U.k===0)return!1;var R=U.k*N+U.a,g=U.k*A+U.a,C=(B-U.a)/U.k,W=(Y-U.a)/U.k;return!((R<B||R>Y)&&(g<B||g>Y)&&(C<N||C>A)&&(W<N||W>A))}},{key:"isHiddenNode",value:function(D){return!!this.hideNodes[D]}},{key:"isHiddenGroup",value:function(D){return!!this.hideGroups[D]}},{key:"isHiddenEdge",value:function(D){return!!this.hideEdges[D]}}]),d}();c.default=w},2546:function(b,c,e){b.exports={graphlib:e(6626),layout:e(7194),debug:e(1303),util:{time:e(3063).time,notime:e(3063).notime},version:e(2275)}},1255:function(b,c,e){var n=e(2361),o=e(9240);b.exports={run:f,undo:a};function f(u){var h=u.graph().acyclicer==="greedy"?o(u,p(u)):s(u);n.forEach(h,function(y){var w=u.edge(y);u.removeEdge(y),w.forwardName=y.name,w.reversed=!0,u.setEdge(y.w,y.v,w,n.uniqueId("rev"))});function p(y){return function(w){return y.edge(w).weight}}}function s(u){var h=[],p={},y={};function w(d){n.has(y,d)||(y[d]=!0,p[d]=!0,n.forEach(u.outEdges(d),function(M){n.has(p,M.w)?h.push(M):w(M.w)}),delete p[d])}return n.forEach(u.nodes(),w),h}function a(u){n.forEach(u.edges(),function(h){var p=u.edge(h);if(p.reversed){u.removeEdge(h);var y=p.forwardName;delete p.reversed,delete p.forwardName,u.setEdge(h.w,h.v,p,y)}})}},765:function(b,c,e){var n=e(2361),o=e(3063);b.exports=f;function f(a){function u(h){var p=a.children(h),y=a.node(h);if(p.length&&n.forEach(p,u),n.has(y,"minRank")){y.borderLeft=[],y.borderRight=[];for(var w=y.minRank,d=y.maxRank+1;w<d;++w)s(a,"borderLeft","_bl",h,y,w),s(a,"borderRight","_br",h,y,w)}}n.forEach(a.children(),u)}function s(a,u,h,p,y,w){var d={width:0,height:0,rank:w,borderType:u},M=y[u][w-1],D=o.addDummyNode(a,"border",d,h);y[u][w]=D,a.setParent(D,p),M&&a.setEdge(M,D,{weight:1})}},3257:function(b,c,e){var n=e(2361);b.exports={adjust:o,undo:f};function o(w){var d=w.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&s(w)}function f(w){var d=w.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&u(w),(d==="lr"||d==="rl")&&(p(w),s(w))}function s(w){n.forEach(w.nodes(),function(d){a(w.node(d))}),n.forEach(w.edges(),function(d){a(w.edge(d))})}function a(w){var d=w.width;w.width=w.height,w.height=d}function u(w){n.forEach(w.nodes(),function(d){h(w.node(d))}),n.forEach(w.edges(),function(d){var M=w.edge(d);n.forEach(M.points,h),n.has(M,"y")&&h(M)})}function h(w){w.y=-w.y}function p(w){n.forEach(w.nodes(),function(d){y(w.node(d))}),n.forEach(w.edges(),function(d){var M=w.edge(d);n.forEach(M.points,y),n.has(M,"x")&&y(M)})}function y(w){var d=w.x;w.x=w.y,w.y=d}},1135:function(b){b.exports=c;function c(){var o={};o._next=o._prev=o,this._sentinel=o}c.prototype.dequeue=function(){var o=this._sentinel,f=o._prev;if(f!==o)return e(f),f},c.prototype.enqueue=function(o){var f=this._sentinel;o._prev&&o._next&&e(o),o._next=f._next,f._next._prev=o,f._next=o,o._prev=f},c.prototype.toString=function(){for(var o=[],f=this._sentinel,s=f._prev;s!==f;)o.push(JSON.stringify(s,n)),s=s._prev;return"["+o.join(", ")+"]"};function e(o){o._prev._next=o._next,o._next._prev=o._prev,delete o._next,delete o._prev}function n(o,f){if(o!=="_next"&&o!=="_prev")return f}},1303:function(b,c,e){var n=e(2361),o=e(3063),f=e(6626).Graph;b.exports={debugOrdering:s};function s(a){var u=o.buildLayerMatrix(a),h=new f({compound:!0,multigraph:!0}).setGraph({});return n.forEach(a.nodes(),function(p){h.setNode(p,{label:p}),h.setParent(p,"layer"+a.node(p).rank)}),n.forEach(a.edges(),function(p){h.setEdge(p.v,p.w,{},p.name)}),n.forEach(u,function(p,y){var w="layer"+y;h.setNode(w,{rank:"same"}),n.reduce(p,function(d,M){return h.setEdge(d,M,{style:"invis"}),M})}),h}},6626:function(b,c,e){var n;try{n=e(5172)}catch{}n||(n=window.graphlib),b.exports=n},9240:function(b,c,e){var n=e(2361),o=e(6626).Graph,f=e(1135);b.exports=a;var s=n.constant(1);function a(w,d){if(w.nodeCount()<=1)return[];var M=p(w,d||s),D=u(M.graph,M.buckets,M.zeroIdx);return n.flatten(n.map(D,function(B){return w.outEdges(B.v,B.w)}),!0)}function u(w,d,M){for(var D=[],B=d[d.length-1],Y=d[0],N;w.nodeCount();){for(;N=Y.dequeue();)h(w,d,M,N);for(;N=B.dequeue();)h(w,d,M,N);if(w.nodeCount()){for(var A=d.length-2;A>0;--A)if(N=d[A].dequeue(),N){D=D.concat(h(w,d,M,N,!0));break}}}return D}function h(w,d,M,D,B){var Y=B?[]:void 0;return n.forEach(w.inEdges(D.v),function(N){var A=w.edge(N),k=w.node(N.v);B&&Y.push({v:N.v,w:N.w}),k.out-=A,y(d,M,k)}),n.forEach(w.outEdges(D.v),function(N){var A=w.edge(N),k=N.w,tt=w.node(k);tt.in-=A,y(d,M,tt)}),w.removeNode(D.v),Y}function p(w,d){var M=new o,D=0,B=0;n.forEach(w.nodes(),function(A){M.setNode(A,{v:A,in:0,out:0})}),n.forEach(w.edges(),function(A){var k=M.edge(A.v,A.w)||0,tt=d(A),et=k+tt;M.setEdge(A.v,A.w,et),B=Math.max(B,M.node(A.v).out+=tt),D=Math.max(D,M.node(A.w).in+=tt)});var Y=n.range(B+D+3).map(function(){return new f}),N=D+1;return n.forEach(M.nodes(),function(A){y(Y,N,M.node(A))}),{graph:M,buckets:Y,zeroIdx:N}}function y(w,d,M){M.out?M.in?w[M.out-M.in+d].enqueue(M):w[w.length-1].enqueue(M):w[0].enqueue(M)}},7194:function(b,c,e){var n=e(2361),o=e(1255),f=e(7163),s=e(4505),a=e(3063).normalizeRanks,u=e(1970),h=e(3063).removeEmptyRanks,p=e(1733),y=e(765),w=e(3257),d=e(2852),M=e(3021),D=e(3063),B=e(6626).Graph;b.exports=Y;function Y(Pt,Ft){var se=Ft&&Ft.debugTiming?D.time:D.notime;se("layout",function(){var de=se("  buildLayoutGraph",function(){return W(Pt)});se("  runLayout",function(){N(de,se)}),se("  updateInputGraph",function(){A(Pt,de)})})}function N(Pt,Ft){Ft("    makeSpaceForEdgeLabels",function(){z(Pt)}),Ft("    removeSelfEdges",function(){Kt(Pt)}),Ft("    acyclic",function(){o.run(Pt)}),Ft("    nestingGraph.run",function(){p.run(Pt)}),Ft("    rank",function(){s(D.asNonCompoundGraph(Pt))}),Ft("    injectEdgeLabelProxies",function(){G(Pt)}),Ft("    removeEmptyRanks",function(){h(Pt)}),Ft("    nestingGraph.cleanup",function(){p.cleanup(Pt)}),Ft("    normalizeRanks",function(){a(Pt)}),Ft("    assignRankMinMax",function(){nt(Pt)}),Ft("    removeEdgeLabelProxies",function(){j(Pt)}),Ft("    normalize.run",function(){f.run(Pt)}),Ft("    parentDummyChains",function(){u(Pt)}),Ft("    addBorderSegments",function(){y(Pt)}),Ft("    order",function(){d(Pt)}),Ft("    insertSelfEdges",function(){jt(Pt)}),Ft("    adjustCoordinateSystem",function(){w.adjust(Pt)}),Ft("    position",function(){M(Pt)}),Ft("    positionSelfEdges",function(){me(Pt)}),Ft("    removeBorderNodes",function(){At(Pt)}),Ft("    normalize.undo",function(){f.undo(Pt)}),Ft("    fixupEdgeLabelCoords",function(){mt(Pt)}),Ft("    undoCoordinateSystem",function(){w.undo(Pt)}),Ft("    translateGraph",function(){q(Pt)}),Ft("    assignNodeIntersects",function(){vt(Pt)}),Ft("    reversePoints",function(){wt(Pt)}),Ft("    acyclic.undo",function(){o.undo(Pt)})}function A(Pt,Ft){n.forEach(Pt.nodes(),function(se){var de=Pt.node(se),Ie=Ft.node(se);de&&(de.x=Ie.x,de.y=Ie.y,Ft.children(se).length&&(de.width=Ie.width,de.height=Ie.height))}),n.forEach(Pt.edges(),function(se){var de=Pt.edge(se),Ie=Ft.edge(se);de.points=Ie.points,n.has(Ie,"x")&&(de.x=Ie.x,de.y=Ie.y)}),Pt.graph().width=Ft.graph().width,Pt.graph().height=Ft.graph().height}var k=["nodesep","edgesep","ranksep","marginx","marginy"],tt={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},et=["acyclicer","ranker","rankdir","align"],K=["width","height"],U={width:0,height:0},R=["minlen","weight","width","height","labeloffset"],g={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},C=["labelpos"];function W(Pt){var Ft=new B({multigraph:!0,compound:!0}),se=$t(Pt.graph());return Ft.setGraph(n.merge({},tt,zt(se,k),n.pick(se,et))),n.forEach(Pt.nodes(),function(de){var Ie=$t(Pt.node(de));Ft.setNode(de,n.defaults(zt(Ie,K),U)),Ft.setParent(de,Pt.parent(de))}),n.forEach(Pt.edges(),function(de){var Ie=$t(Pt.edge(de));Ft.setEdge(de,n.merge({},g,zt(Ie,R),n.pick(Ie,C)))}),Ft}function z(Pt){var Ft=Pt.graph();Ft.ranksep/=2,n.forEach(Pt.edges(),function(se){var de=Pt.edge(se);de.minlen*=2,de.labelpos.toLowerCase()!=="c"&&(Ft.rankdir==="TB"||Ft.rankdir==="BT"?de.width+=de.labeloffset:de.height+=de.labeloffset)})}function G(Pt){n.forEach(Pt.edges(),function(Ft){var se=Pt.edge(Ft);if(se.width&&se.height){var de=Pt.node(Ft.v),Ie=Pt.node(Ft.w),Oe={rank:(Ie.rank-de.rank)/2+de.rank,e:Ft};D.addDummyNode(Pt,"edge-proxy",Oe,"_ep")}})}function nt(Pt){var Ft=0;n.forEach(Pt.nodes(),function(se){var de=Pt.node(se);de.borderTop&&(de.minRank=Pt.node(de.borderTop).rank,de.maxRank=Pt.node(de.borderBottom).rank,Ft=n.max(Ft,de.maxRank))}),Pt.graph().maxRank=Ft}function j(Pt){n.forEach(Pt.nodes(),function(Ft){var se=Pt.node(Ft);se.dummy==="edge-proxy"&&(Pt.edge(se.e).labelRank=se.rank,Pt.removeNode(Ft))})}function q(Pt){var Ft=Number.POSITIVE_INFINITY,se=0,de=Number.POSITIVE_INFINITY,Ie=0,Oe=Pt.graph(),Qt=Oe.marginx||0,$e=Oe.marginy||0;function rn(ln){var fn=ln.x,Pe=ln.y,un=ln.width,cn=ln.height;Ft=Math.min(Ft,fn-un/2),se=Math.max(se,fn+un/2),de=Math.min(de,Pe-cn/2),Ie=Math.max(Ie,Pe+cn/2)}n.forEach(Pt.nodes(),function(ln){rn(Pt.node(ln))}),n.forEach(Pt.edges(),function(ln){var fn=Pt.edge(ln);n.has(fn,"x")&&rn(fn)}),Ft-=Qt,de-=$e,n.forEach(Pt.nodes(),function(ln){var fn=Pt.node(ln);fn.x-=Ft,fn.y-=de}),n.forEach(Pt.edges(),function(ln){var fn=Pt.edge(ln);n.forEach(fn.points,function(Pe){Pe.x-=Ft,Pe.y-=de}),n.has(fn,"x")&&(fn.x-=Ft),n.has(fn,"y")&&(fn.y-=de)}),Oe.width=se-Ft+Qt,Oe.height=Ie-de+$e}function vt(Pt){n.forEach(Pt.edges(),function(Ft){var se=Pt.edge(Ft),de=Pt.node(Ft.v),Ie=Pt.node(Ft.w),Oe,Qt;se.points?(Oe=se.points[0],Qt=se.points[se.points.length-1]):(se.points=[],Oe=Ie,Qt=de),se.points.unshift(D.intersectRect(de,Oe)),se.points.push(D.intersectRect(Ie,Qt))})}function mt(Pt){n.forEach(Pt.edges(),function(Ft){var se=Pt.edge(Ft);if(n.has(se,"x"))switch((se.labelpos==="l"||se.labelpos==="r")&&(se.width-=se.labeloffset),se.labelpos){case"l":se.x-=se.width/2+se.labeloffset;break;case"r":se.x+=se.width/2+se.labeloffset;break}})}function wt(Pt){n.forEach(Pt.edges(),function(Ft){var se=Pt.edge(Ft);se.reversed&&se.points.reverse()})}function At(Pt){n.forEach(Pt.nodes(),function(Ft){if(Pt.children(Ft).length){var se=Pt.node(Ft),de=Pt.node(se.borderTop),Ie=Pt.node(se.borderBottom),Oe=Pt.node(n.last(se.borderLeft)),Qt=Pt.node(n.last(se.borderRight));se.width=Math.abs(Qt.x-Oe.x),se.height=Math.abs(Ie.y-de.y),se.x=Oe.x+se.width/2,se.y=de.y+se.height/2}}),n.forEach(Pt.nodes(),function(Ft){Pt.node(Ft).dummy==="border"&&Pt.removeNode(Ft)})}function Kt(Pt){n.forEach(Pt.edges(),function(Ft){if(Ft.v===Ft.w){var se=Pt.node(Ft.v);se.selfEdges||(se.selfEdges=[]),se.selfEdges.push({e:Ft,label:Pt.edge(Ft)}),Pt.removeEdge(Ft)}})}function jt(Pt){var Ft=D.buildLayerMatrix(Pt);n.forEach(Ft,function(se){var de=0;n.forEach(se,function(Ie,Oe){var Qt=Pt.node(Ie);Qt.order=Oe+de,n.forEach(Qt.selfEdges,function($e){D.addDummyNode(Pt,"selfedge",{width:$e.label.width,height:$e.label.height,rank:Qt.rank,order:Oe+ ++de,e:$e.e,label:$e.label},"_se")}),delete Qt.selfEdges})})}function me(Pt){n.forEach(Pt.nodes(),function(Ft){var se=Pt.node(Ft);if(se.dummy==="selfedge"){var de=Pt.node(se.e.v),Ie=de.x+de.width/2,Oe=de.y,Qt=se.x-Ie,$e=de.height/2;Pt.setEdge(se.e,se.label),Pt.removeNode(Ft),se.label.points=[{x:Ie+2*Qt/3,y:Oe-$e},{x:Ie+5*Qt/6,y:Oe-$e},{x:Ie+Qt,y:Oe},{x:Ie+5*Qt/6,y:Oe+$e},{x:Ie+2*Qt/3,y:Oe+$e}],se.label.x=se.x,se.label.y=se.y}})}function zt(Pt,Ft){return n.mapValues(n.pick(Pt,Ft),Number)}function $t(Pt){var Ft={};return n.forEach(Pt,function(se,de){Ft[de.toLowerCase()]=se}),Ft}},2361:function(b,c,e){var n;try{n={cloneDeep:e(250),constant:e(3503),defaults:e(8548),each:e(6934),filter:e(4725),find:e(9785),flatten:e(151),forEach:e(9204),forIn:e(3190),has:e(9946),isUndefined:e(6513),last:e(611),map:e(9924),mapValues:e(642),max:e(5987),merge:e(8440),min:e(3376),minBy:e(3296),now:e(5795),pick:e(9409),range:e(859),reduce:e(6473),sortBy:e(351),uniqueId:e(5708),values:e(1229),zipObject:e(5441)}}catch{}n||(n=window._),b.exports=n},1733:function(b,c,e){var n=e(2361),o=e(3063);b.exports={run:f,cleanup:h};function f(p){var y=o.addDummyNode(p,"root",{},"_root"),w=a(p),d=n.max(n.values(w))-1,M=2*d+1;p.graph().nestingRoot=y,n.forEach(p.edges(),function(B){p.edge(B).minlen*=M});var D=u(p)+1;n.forEach(p.children(),function(B){s(p,y,M,D,d,w,B)}),p.graph().nodeRankFactor=M}function s(p,y,w,d,M,D,B){var Y=p.children(B);if(!Y.length){B!==y&&p.setEdge(y,B,{weight:0,minlen:w});return}var N=o.addBorderNode(p,"_bt"),A=o.addBorderNode(p,"_bb"),k=p.node(B);p.setParent(N,B),k.borderTop=N,p.setParent(A,B),k.borderBottom=A,n.forEach(Y,function(tt){s(p,y,w,d,M,D,tt);var et=p.node(tt),K=et.borderTop?et.borderTop:tt,U=et.borderBottom?et.borderBottom:tt,R=et.borderTop?d:2*d,g=K!==U?1:M-D[B]+1;p.setEdge(N,K,{weight:R,minlen:g,nestingEdge:!0}),p.setEdge(U,A,{weight:R,minlen:g,nestingEdge:!0})}),p.parent(B)||p.setEdge(y,N,{weight:0,minlen:M+D[B]})}function a(p){var y={};function w(d,M){var D=p.children(d);D&&D.length&&n.forEach(D,function(B){w(B,M+1)}),y[d]=M}return n.forEach(p.children(),function(d){w(d,1)}),y}function u(p){return n.reduce(p.edges(),function(y,w){return y+p.edge(w).weight},0)}function h(p){var y=p.graph();p.removeNode(y.nestingRoot),delete y.nestingRoot,n.forEach(p.edges(),function(w){var d=p.edge(w);d.nestingEdge&&p.removeEdge(w)})}},7163:function(b,c,e){var n=e(2361),o=e(3063);b.exports={run:f,undo:a};function f(u){u.graph().dummyChains=[],n.forEach(u.edges(),function(h){s(u,h)})}function s(u,h){var p=h.v,y=u.node(p).rank,w=h.w,d=u.node(w).rank,M=h.name,D=u.edge(h),B=D.labelRank;if(d!==y+1){u.removeEdge(h);var Y,N,A;for(A=0,++y;y<d;++A,++y)D.points=[],N={width:0,height:0,edgeLabel:D,edgeObj:h,rank:y},Y=o.addDummyNode(u,"edge",N,"_d"),y===B&&(N.width=D.width,N.height=D.height,N.dummy="edge-label",N.labelpos=D.labelpos),u.setEdge(p,Y,{weight:D.weight},M),A===0&&u.graph().dummyChains.push(Y),p=Y;u.setEdge(p,w,{weight:D.weight},M)}}function a(u){n.forEach(u.graph().dummyChains,function(h){var p=u.node(h),y=p.edgeLabel,w;for(u.setEdge(p.edgeObj,y);p.dummy;)w=u.successors(h)[0],u.removeNode(h),y.points.push({x:p.x,y:p.y}),p.dummy==="edge-label"&&(y.x=p.x,y.y=p.y,y.width=p.width,y.height=p.height),h=w,p=u.node(h)})}},2205:function(b,c,e){var n=e(2361);b.exports=o;function o(f,s,a){var u={},h;n.forEach(a,function(p){for(var y=f.parent(p),w,d;y;){if(w=f.parent(y),w?(d=u[w],u[w]=y):(d=h,h=y),d&&d!==y){s.setEdge(d,y);return}y=w}})}},9506:function(b,c,e){var n=e(2361);b.exports=o;function o(f,s){return n.map(s,function(a){var u=f.inEdges(a);if(u.length){var h=n.reduce(u,function(p,y){var w=f.edge(y),d=f.node(y.v);return{sum:p.sum+w.weight*d.order,weight:p.weight+w.weight}},{sum:0,weight:0});return{v:a,barycenter:h.sum/h.weight,weight:h.weight}}else return{v:a}})}},9105:function(b,c,e){var n=e(2361),o=e(6626).Graph;b.exports=f;function f(a,u,h){var p=s(a),y=new o({compound:!0}).setGraph({root:p}).setDefaultNodeLabel(function(w){return a.node(w)});return n.forEach(a.nodes(),function(w){var d=a.node(w),M=a.parent(w);(d.rank===u||d.minRank<=u&&u<=d.maxRank)&&(y.setNode(w),y.setParent(w,M||p),n.forEach(a[h](w),function(D){var B=D.v===w?D.w:D.v,Y=y.edge(B,w),N=n.isUndefined(Y)?0:Y.weight;y.setEdge(B,w,{weight:a.edge(D).weight+N})}),n.has(d,"minRank")&&y.setNode(w,{borderLeft:d.borderLeft[u],borderRight:d.borderRight[u]}))}),y}function s(a){for(var u;a.hasNode(u=n.uniqueId("_root")););return u}},5456:function(b,c,e){var n=e(2361);b.exports=o;function o(s,a){for(var u=0,h=1;h<a.length;++h)u+=f(s,a[h-1],a[h]);return u}function f(s,a,u){for(var h=n.zipObject(u,n.map(u,function(D,B){return B})),p=n.flatten(n.map(a,function(D){return n.sortBy(n.map(s.outEdges(D),function(B){return{pos:h[B.w],weight:s.edge(B).weight}}),"pos")}),!0),y=1;y<u.length;)y<<=1;var w=2*y-1;y-=1;var d=n.map(new Array(w),function(){return 0}),M=0;return n.forEach(p.forEach(function(D){var B=D.pos+y;d[B]+=D.weight;for(var Y=0;B>0;)B%2&&(Y+=d[B+1]),B=B-1>>1,d[B]+=D.weight;M+=D.weight*Y})),M}},2852:function(b,c,e){var n=e(2361),o=e(8043),f=e(5456),s=e(6490),a=e(9105),u=e(2205),h=e(6626).Graph,p=e(3063);b.exports=y;function y(D){var B=p.maxRank(D),Y=w(D,n.range(1,B+1),"inEdges"),N=w(D,n.range(B-1,-1,-1),"outEdges"),A=o(D);M(D,A);for(var k=Number.POSITIVE_INFINITY,tt,et=0,K=0;K<4;++et,++K){d(et%2?Y:N,et%4>=2),A=p.buildLayerMatrix(D);var U=f(D,A);U<k&&(K=0,tt=n.cloneDeep(A),k=U)}M(D,tt)}function w(D,B,Y){return n.map(B,function(N){return a(D,N,Y)})}function d(D,B){var Y=new h;n.forEach(D,function(N){var A=N.graph().root,k=s(N,A,Y,B);n.forEach(k.vs,function(tt,et){N.node(tt).order=et}),u(N,Y,k.vs)})}function M(D,B){n.forEach(B,function(Y){n.forEach(Y,function(N,A){D.node(N).order=A})})}},8043:function(b,c,e){var n=e(2361);b.exports=o;function o(f){var s={},a=n.filter(f.nodes(),function(w){return!f.children(w).length}),u=n.max(n.map(a,function(w){return f.node(w).rank})),h=n.map(n.range(u+1),function(){return[]});function p(w){if(!n.has(s,w)){s[w]=!0;var d=f.node(w);h[d.rank].push(w),n.forEach(f.successors(w),p)}}var y=n.sortBy(a,function(w){return f.node(w).rank});return n.forEach(y,p),h}},5926:function(b,c,e){var n=e(2361);b.exports=o;function o(a,u){var h={};n.forEach(a,function(y,w){var d=h[y.v]={indegree:0,in:[],out:[],vs:[y.v],i:w};n.isUndefined(y.barycenter)||(d.barycenter=y.barycenter,d.weight=y.weight)}),n.forEach(u.edges(),function(y){var w=h[y.v],d=h[y.w];!n.isUndefined(w)&&!n.isUndefined(d)&&(d.indegree++,w.out.push(h[y.w]))});var p=n.filter(h,function(y){return!y.indegree});return f(p)}function f(a){var u=[];function h(w){return function(d){d.merged||(n.isUndefined(d.barycenter)||n.isUndefined(w.barycenter)||d.barycenter>=w.barycenter)&&s(w,d)}}function p(w){return function(d){d.in.push(w),--d.indegree===0&&a.push(d)}}for(;a.length;){var y=a.pop();u.push(y),n.forEach(y.in.reverse(),h(y)),n.forEach(y.out,p(y))}return n.map(n.filter(u,function(w){return!w.merged}),function(w){return n.pick(w,["vs","i","barycenter","weight"])})}function s(a,u){var h=0,p=0;a.weight&&(h+=a.barycenter*a.weight,p+=a.weight),u.weight&&(h+=u.barycenter*u.weight,p+=u.weight),a.vs=u.vs.concat(a.vs),a.barycenter=h/p,a.weight=p,a.i=Math.min(u.i,a.i),u.merged=!0}},6490:function(b,c,e){var n=e(2361),o=e(9506),f=e(5926),s=e(1349);b.exports=a;function a(p,y,w,d){var M=p.children(y),D=p.node(y),B=D?D.borderLeft:void 0,Y=D?D.borderRight:void 0,N={};B&&(M=n.filter(M,function(U){return U!==B&&U!==Y}));var A=o(p,M);n.forEach(A,function(U){if(p.children(U.v).length){var R=a(p,U.v,w,d);N[U.v]=R,n.has(R,"barycenter")&&h(U,R)}});var k=f(A,w);u(k,N);var tt=s(k,d);if(B&&(tt.vs=n.flatten([B,tt.vs,Y],!0),p.predecessors(B).length)){var et=p.node(p.predecessors(B)[0]),K=p.node(p.predecessors(Y)[0]);n.has(tt,"barycenter")||(tt.barycenter=0,tt.weight=0),tt.barycenter=(tt.barycenter*tt.weight+et.order+K.order)/(tt.weight+2),tt.weight+=2}return tt}function u(p,y){n.forEach(p,function(w){w.vs=n.flatten(w.vs.map(function(d){return y[d]?y[d].vs:d}),!0)})}function h(p,y){n.isUndefined(p.barycenter)?(p.barycenter=y.barycenter,p.weight=y.weight):(p.barycenter=(p.barycenter*p.weight+y.barycenter*y.weight)/(p.weight+y.weight),p.weight+=y.weight)}},1349:function(b,c,e){var n=e(2361),o=e(3063);b.exports=f;function f(u,h){var p=o.partition(u,function(N){return n.has(N,"barycenter")}),y=p.lhs,w=n.sortBy(p.rhs,function(N){return-N.i}),d=[],M=0,D=0,B=0;y.sort(a(!!h)),B=s(d,w,B),n.forEach(y,function(N){B+=N.vs.length,d.push(N.vs),M+=N.barycenter*N.weight,D+=N.weight,B=s(d,w,B)});var Y={vs:n.flatten(d,!0)};return D&&(Y.barycenter=M/D,Y.weight=D),Y}function s(u,h,p){for(var y;h.length&&(y=n.last(h)).i<=p;)h.pop(),u.push(y.vs),p++;return p}function a(u){return function(h,p){return h.barycenter<p.barycenter?-1:h.barycenter>p.barycenter?1:u?p.i-h.i:h.i-p.i}}},1970:function(b,c,e){var n=e(2361);b.exports=o;function o(a){var u=s(a);n.forEach(a.graph().dummyChains,function(h){for(var p=a.node(h),y=p.edgeObj,w=f(a,u,y.v,y.w),d=w.path,M=w.lca,D=0,B=d[D],Y=!0;h!==y.w;){if(p=a.node(h),Y){for(;(B=d[D])!==M&&a.node(B).maxRank<p.rank;)D++;B===M&&(Y=!1)}if(!Y){for(;D<d.length-1&&a.node(B=d[D+1]).minRank<=p.rank;)D++;B=d[D]}a.setParent(h,B),h=a.successors(h)[0]}})}function f(a,u,h,p){var y=[],w=[],d=Math.min(u[h].low,u[p].low),M=Math.max(u[h].lim,u[p].lim),D,B;D=h;do D=a.parent(D),y.push(D);while(D&&(u[D].low>d||M>u[D].lim));for(B=D,D=p;(D=a.parent(D))!==B;)w.push(D);return{path:y.concat(w.reverse()),lca:B}}function s(a){var u={},h=0;function p(y){var w=h;n.forEach(a.children(y),p),u[y]={low:w,lim:h++}}return n.forEach(a.children(),p),u}},2080:function(b,c,e){var n=e(2361),o=e(6626).Graph,f=e(3063);b.exports={positionX:Y,findType1Conflicts:s,findType2Conflicts:a,addConflict:h,hasConflict:p,verticalAlignment:y,horizontalCompaction:w,alignCoordinates:D,findSmallestWidthAlignment:M,balance:B};function s(k,tt){var et={};function K(U,R){var g=0,C=0,W=U.length,z=n.last(R);return n.forEach(R,function(G,nt){var j=u(k,G),q=j?k.node(j).order:W;(j||G===z)&&(n.forEach(R.slice(C,nt+1),function(vt){n.forEach(k.predecessors(vt),function(mt){var wt=k.node(mt),At=wt.order;(At<g||q<At)&&!(wt.dummy&&k.node(vt).dummy)&&h(et,mt,vt)})}),C=nt+1,g=q)}),R}return n.reduce(tt,K),et}function a(k,tt){var et={};function K(R,g,C,W,z){var G;n.forEach(n.range(g,C),function(nt){G=R[nt],k.node(G).dummy&&n.forEach(k.predecessors(G),function(j){var q=k.node(j);q.dummy&&(q.order<W||q.order>z)&&h(et,j,G)})})}function U(R,g){var C=-1,W,z=0;return n.forEach(g,function(G,nt){if(k.node(G).dummy==="border"){var j=k.predecessors(G);j.length&&(W=k.node(j[0]).order,K(g,z,nt,C,W),z=nt,C=W)}K(g,z,g.length,W,R.length)}),g}return n.reduce(tt,U),et}function u(k,tt){if(k.node(tt).dummy)return n.find(k.predecessors(tt),function(et){return k.node(et).dummy})}function h(k,tt,et){if(tt>et){var K=tt;tt=et,et=K}var U=k[tt];U||(k[tt]=U={}),U[et]=!0}function p(k,tt,et){if(tt>et){var K=tt;tt=et,et=K}return n.has(k[tt],et)}function y(k,tt,et,K){var U={},R={},g={};return n.forEach(tt,function(C){n.forEach(C,function(W,z){U[W]=W,R[W]=W,g[W]=z})}),n.forEach(tt,function(C){var W=-1;n.forEach(C,function(z){var G=K(z);if(G.length){G=n.sortBy(G,function(mt){return g[mt]});for(var nt=(G.length-1)/2,j=Math.floor(nt),q=Math.ceil(nt);j<=q;++j){var vt=G[j];R[z]===z&&W<g[vt]&&!p(et,z,vt)&&(R[vt]=z,R[z]=U[z]=U[vt],W=g[vt])}}})}),{root:U,align:R}}function w(k,tt,et,K,U){var R={},g=d(k,tt,et,U),C=U?"borderLeft":"borderRight";function W(nt,j){for(var q=g.nodes(),vt=q.pop(),mt={};vt;)mt[vt]?nt(vt):(mt[vt]=!0,q.push(vt),q=q.concat(j(vt))),vt=q.pop()}function z(nt){R[nt]=g.inEdges(nt).reduce(function(j,q){return Math.max(j,R[q.v]+g.edge(q))},0)}function G(nt){var j=g.outEdges(nt).reduce(function(vt,mt){return Math.min(vt,R[mt.w]-g.edge(mt))},Number.POSITIVE_INFINITY),q=k.node(nt);j!==Number.POSITIVE_INFINITY&&q.borderType!==C&&(R[nt]=Math.max(R[nt],j))}return W(z,g.predecessors.bind(g)),W(G,g.successors.bind(g)),n.forEach(K,function(nt){R[nt]=R[et[nt]]}),R}function d(k,tt,et,K){var U=new o,R=k.graph(),g=N(R.nodesep,R.edgesep,K);return n.forEach(tt,function(C){var W;n.forEach(C,function(z){var G=et[z];if(U.setNode(G),W){var nt=et[W],j=U.edge(nt,G);U.setEdge(nt,G,Math.max(g(k,z,W),j||0))}W=z})}),U}function M(k,tt){return n.minBy(n.values(tt),function(et){var K=Number.NEGATIVE_INFINITY,U=Number.POSITIVE_INFINITY;return n.forIn(et,function(R,g){var C=A(k,g)/2;K=Math.max(R+C,K),U=Math.min(R-C,U)}),K-U})}function D(k,tt){var et=n.values(tt),K=n.min(et),U=n.max(et);n.forEach(["u","d"],function(R){n.forEach(["l","r"],function(g){var C=R+g,W=k[C],z;if(W!==tt){var G=n.values(W);z=g==="l"?K-n.min(G):U-n.max(G),z&&(k[C]=n.mapValues(W,function(nt){return nt+z}))}})})}function B(k,tt){return n.mapValues(k.ul,function(et,K){if(tt)return k[tt.toLowerCase()][K];var U=n.sortBy(n.map(k,K));return(U[1]+U[2])/2})}function Y(k){var tt=f.buildLayerMatrix(k),et=n.merge(s(k,tt),a(k,tt)),K={},U;n.forEach(["u","d"],function(g){U=g==="u"?tt:n.values(tt).reverse(),n.forEach(["l","r"],function(C){C==="r"&&(U=n.map(U,function(nt){return n.values(nt).reverse()}));var W=(g==="u"?k.predecessors:k.successors).bind(k),z=y(k,U,et,W),G=w(k,U,z.root,z.align,C==="r");C==="r"&&(G=n.mapValues(G,function(nt){return-nt})),K[g+C]=G})});var R=M(k,K);return D(K,R),B(K,k.graph().align)}function N(k,tt,et){return function(K,U,R){var g=K.node(U),C=K.node(R),W=0,z;if(W+=g.width/2,n.has(g,"labelpos"))switch(g.labelpos.toLowerCase()){case"l":z=-g.width/2;break;case"r":z=g.width/2;break}if(z&&(W+=et?z:-z),z=0,W+=(g.dummy?tt:k)/2,W+=(C.dummy?tt:k)/2,W+=C.width/2,n.has(C,"labelpos"))switch(C.labelpos.toLowerCase()){case"l":z=C.width/2;break;case"r":z=-C.width/2;break}return z&&(W+=et?z:-z),z=0,W}}function A(k,tt){return k.node(tt).width}},3021:function(b,c,e){var n=e(2361),o=e(3063),f=e(2080).positionX;b.exports=s;function s(u){u=o.asNonCompoundGraph(u),a(u),n.forEach(f(u),function(h,p){u.node(p).x=h})}function a(u){var h=o.buildLayerMatrix(u),p=u.graph().ranksep,y=0;n.forEach(h,function(w){var d=n.max(n.map(w,function(M){return u.node(M).height}));n.forEach(w,function(M){u.node(M).y=y+d/2}),y+=d+p})}},1031:function(b,c,e){var n=e(2361),o=e(6626).Graph,f=e(2416).slack;b.exports=s;function s(p){var y=new o({directed:!1}),w=p.nodes()[0],d=p.nodeCount();y.setNode(w,{});for(var M,D;a(y,p)<d;)M=u(y,p),D=y.hasNode(M.v)?f(p,M):-f(p,M),h(y,p,D);return y}function a(p,y){function w(d){n.forEach(y.nodeEdges(d),function(M){var D=M.v,B=d===D?M.w:D;!p.hasNode(B)&&!f(y,M)&&(p.setNode(B,{}),p.setEdge(d,B,{}),w(B))})}return n.forEach(p.nodes(),w),p.nodeCount()}function u(p,y){return n.minBy(y.edges(),function(w){if(p.hasNode(w.v)!==p.hasNode(w.w))return f(y,w)})}function h(p,y,w){n.forEach(p.nodes(),function(d){y.node(d).rank+=w})}},4505:function(b,c,e){var n=e(2416),o=n.longestPath,f=e(1031),s=e(7076);b.exports=a;function a(y){switch(y.graph().ranker){case"network-simplex":p(y);break;case"tight-tree":h(y);break;case"longest-path":u(y);break;default:p(y)}}var u=o;function h(y){o(y),f(y)}function p(y){s(y)}},7076:function(b,c,e){var n=e(2361),o=e(1031),f=e(2416).slack,s=e(2416).longestPath,a=e(6626).alg.preorder,u=e(6626).alg.postorder,h=e(3063).simplify;b.exports=p,p.initLowLimValues=M,p.initCutValues=y,p.calcCutValue=d,p.leaveEdge=B,p.enterEdge=Y,p.exchangeEdges=N;function p(et){et=h(et),s(et);var K=o(et);M(K),y(K,et);for(var U,R;U=B(K);)R=Y(K,et,U),N(K,et,U,R)}function y(et,K){var U=u(et,et.nodes());U=U.slice(0,U.length-1),n.forEach(U,function(R){w(et,K,R)})}function w(et,K,U){var R=et.node(U),g=R.parent;et.edge(U,g).cutvalue=d(et,K,U)}function d(et,K,U){var R=et.node(U),g=R.parent,C=!0,W=K.edge(U,g),z=0;return W||(C=!1,W=K.edge(g,U)),z=W.weight,n.forEach(K.nodeEdges(U),function(G){var nt=G.v===U,j=nt?G.w:G.v;if(j!==g){var q=nt===C,vt=K.edge(G).weight;if(z+=q?vt:-vt,k(et,U,j)){var mt=et.edge(U,j).cutvalue;z+=q?-mt:mt}}}),z}function M(et,K){arguments.length<2&&(K=et.nodes()[0]),D(et,{},1,K)}function D(et,K,U,R,g){var C=U,W=et.node(R);return K[R]=!0,n.forEach(et.neighbors(R),function(z){n.has(K,z)||(U=D(et,K,U,z,R))}),W.low=C,W.lim=U++,g?W.parent=g:delete W.parent,U}function B(et){return n.find(et.edges(),function(K){return et.edge(K).cutvalue<0})}function Y(et,K,U){var R=U.v,g=U.w;K.hasEdge(R,g)||(R=U.w,g=U.v);var C=et.node(R),W=et.node(g),z=C,G=!1;C.lim>W.lim&&(z=W,G=!0);var nt=n.filter(K.edges(),function(j){return G===tt(et,et.node(j.v),z)&&G!==tt(et,et.node(j.w),z)});return n.minBy(nt,function(j){return f(K,j)})}function N(et,K,U,R){var g=U.v,C=U.w;et.removeEdge(g,C),et.setEdge(R.v,R.w,{}),M(et),y(et,K),A(et,K)}function A(et,K){var U=n.find(et.nodes(),function(g){return!K.node(g).parent}),R=a(et,U);R=R.slice(1),n.forEach(R,function(g){var C=et.node(g).parent,W=K.edge(g,C),z=!1;W||(W=K.edge(C,g),z=!0),K.node(g).rank=K.node(C).rank+(z?W.minlen:-W.minlen)})}function k(et,K,U){return et.hasEdge(K,U)}function tt(et,K,U){return U.low<=K.lim&&K.lim<=U.lim}},2416:function(b,c,e){var n=e(2361);b.exports={longestPath:o,slack:f};function o(s){var a={};function u(h){var p=s.node(h);if(n.has(a,h))return p.rank;a[h]=!0;var y=n.min(n.map(s.outEdges(h),function(w){return u(w.w)-s.edge(w).minlen}));return(y===Number.POSITIVE_INFINITY||y===void 0||y===null)&&(y=0),p.rank=y}n.forEach(s.sources(),u)}function f(s,a){return s.node(a.w).rank-s.node(a.v).rank-s.edge(a).minlen}},3063:function(b,c,e){var n=e(2361),o=e(6626).Graph;b.exports={addDummyNode:f,simplify:s,asNonCompoundGraph:a,successorWeights:u,predecessorWeights:h,intersectRect:p,buildLayerMatrix:y,normalizeRanks:w,removeEmptyRanks:d,addBorderNode:M,maxRank:D,partition:B,time:Y,notime:N};function f(A,k,tt,et){var K;do K=n.uniqueId(et);while(A.hasNode(K));return tt.dummy=k,A.setNode(K,tt),K}function s(A){var k=new o().setGraph(A.graph());return n.forEach(A.nodes(),function(tt){k.setNode(tt,A.node(tt))}),n.forEach(A.edges(),function(tt){var et=k.edge(tt.v,tt.w)||{weight:0,minlen:1},K=A.edge(tt);k.setEdge(tt.v,tt.w,{weight:et.weight+K.weight,minlen:Math.max(et.minlen,K.minlen)})}),k}function a(A){var k=new o({multigraph:A.isMultigraph()}).setGraph(A.graph());return n.forEach(A.nodes(),function(tt){A.children(tt).length||k.setNode(tt,A.node(tt))}),n.forEach(A.edges(),function(tt){k.setEdge(tt,A.edge(tt))}),k}function u(A){var k=n.map(A.nodes(),function(tt){var et={};return n.forEach(A.outEdges(tt),function(K){et[K.w]=(et[K.w]||0)+A.edge(K).weight}),et});return n.zipObject(A.nodes(),k)}function h(A){var k=n.map(A.nodes(),function(tt){var et={};return n.forEach(A.inEdges(tt),function(K){et[K.v]=(et[K.v]||0)+A.edge(K).weight}),et});return n.zipObject(A.nodes(),k)}function p(A,k){var tt=A.x,et=A.y,K=k.x-tt,U=k.y-et,R=A.width/2,g=A.height/2;if(!K&&!U)throw new Error("Not possible to find intersection inside of the rectangle");var C,W;return Math.abs(U)*R>Math.abs(K)*g?(U<0&&(g=-g),C=g*K/U,W=g):(K<0&&(R=-R),C=R,W=R*U/K),{x:tt+C,y:et+W}}function y(A){var k=n.map(n.range(D(A)+1),function(){return[]});return n.forEach(A.nodes(),function(tt){var et=A.node(tt),K=et.rank;n.isUndefined(K)||(k[K][et.order]=tt)}),k}function w(A){var k=n.min(n.map(A.nodes(),function(tt){return A.node(tt).rank}));n.forEach(A.nodes(),function(tt){var et=A.node(tt);n.has(et,"rank")&&(et.rank-=k)})}function d(A){var k=n.min(n.map(A.nodes(),function(U){return A.node(U).rank})),tt=[];n.forEach(A.nodes(),function(U){var R=A.node(U).rank-k;tt[R]||(tt[R]=[]),tt[R].push(U)});var et=0,K=A.graph().nodeRankFactor;n.forEach(tt,function(U,R){n.isUndefined(U)&&R%K!==0?--et:et&&n.forEach(U,function(g){A.node(g).rank+=et})})}function M(A,k,tt,et){var K={width:0,height:0};return arguments.length>=4&&(K.rank=tt,K.order=et),f(A,"border",K,k)}function D(A){return n.max(n.map(A.nodes(),function(k){var tt=A.node(k).rank;if(!n.isUndefined(tt))return tt}))}function B(A,k){var tt={lhs:[],rhs:[]};return n.forEach(A,function(et){k(et)?tt.lhs.push(et):tt.rhs.push(et)}),tt}function Y(A,k){var tt=n.now();try{return k()}finally{console.log(A+" time: "+(n.now()-tt)+"ms")}}function N(A,k){return k()}},2275:function(b){b.exports="0.8.5"},4572:function(b){(function(c){var e=A(),n=k(),o=tt(),f=et(),s={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:u,toPng:p,toJpeg:y,toBlob:w,toPixelData:h,impl:{fontFaces:o,images:f,util:e,inliner:n,options:{}}};b.exports=a;function u(K,U){return U=U||{},d(U),Promise.resolve(K).then(function(g){return D(g,U.filter,!0)}).then(B).then(Y).then(R).then(function(g){return N(g,U.width||e.width(K),U.height||e.height(K))});function R(g){return U.bgcolor&&(g.style.backgroundColor=U.bgcolor),U.width&&(g.style.width=U.width+"px"),U.height&&(g.style.height=U.height+"px"),U.style&&Object.keys(U.style).forEach(function(C){g.style[C]=U.style[C]}),g}}function h(K,U){return M(K,U||{}).then(function(R){return R.getContext("2d").getImageData(0,0,e.width(K),e.height(K)).data})}function p(K,U){return M(K,U||{}).then(function(R){return R.toDataURL()})}function y(K,U){return U=U||{},M(K,U).then(function(R){return R.toDataURL("image/jpeg",U.quality||1)})}function w(K,U){return M(K,U||{}).then(e.canvasToBlob)}function d(K){typeof K.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=s.imagePlaceholder:a.impl.options.imagePlaceholder=K.imagePlaceholder,typeof K.cacheBust>"u"?a.impl.options.cacheBust=s.cacheBust:a.impl.options.cacheBust=K.cacheBust}function M(K,U){return u(K,U).then(e.makeImage).then(e.delay(100)).then(function(g){var C=R(K);return C.getContext("2d").drawImage(g,0,0),C});function R(g){var C=document.createElement("canvas");if(C.width=U.width||e.width(g),C.height=U.height||e.height(g),U.bgcolor){var W=C.getContext("2d");W.fillStyle=U.bgcolor,W.fillRect(0,0,C.width,C.height)}return C}}function D(K,U,R){if(!R&&U&&!U(K))return Promise.resolve();return Promise.resolve(K).then(g).then(function(z){return C(K,z,U)}).then(function(z){return W(K,z)});function g(z){return z instanceof HTMLCanvasElement?e.makeImage(z.toDataURL()):z.cloneNode(!1)}function C(z,G,nt){var j=z.childNodes;if(j.length===0)return Promise.resolve(G);return q(G,e.asArray(j),nt).then(function(){return G});function q(vt,mt,wt){var At=Promise.resolve();return mt.forEach(function(Kt){At=At.then(function(){return D(Kt,wt)}).then(function(jt){jt&&vt.appendChild(jt)})}),At}}function W(z,G){if(!(G instanceof Element))return G;return Promise.resolve().then(nt).then(j).then(q).then(vt).then(function(){return G});function nt(){mt(window.getComputedStyle(z),G.style);function mt(wt,At){wt.cssText?At.cssText=wt.cssText:Kt(wt,At);function Kt(jt,me){e.asArray(jt).forEach(function(zt){me.setProperty(zt,jt.getPropertyValue(zt),jt.getPropertyPriority(zt))})}}}function j(){[":before",":after"].forEach(function(wt){mt(wt)});function mt(wt){var At=window.getComputedStyle(z,wt),Kt=At.getPropertyValue("content");if(Kt===""||Kt==="none")return;var jt=e.uid();G.className=G.className+" "+jt;var me=document.createElement("style");me.appendChild(zt(jt,wt,At)),G.appendChild(me);function zt($t,Pt,Ft){var se="."+$t+":"+Pt,de=Ft.cssText?Ie(Ft):Oe(Ft);return document.createTextNode(se+"{"+de+"}");function Ie(Qt){var $e=Qt.getPropertyValue("content");return Qt.cssText+" content: "+$e+";"}function Oe(Qt){return e.asArray(Qt).map($e).join("; ")+";";function $e(rn){return rn+": "+Qt.getPropertyValue(rn)+(Qt.getPropertyPriority(rn)?" !important":"")}}}}}function q(){z instanceof HTMLTextAreaElement&&(G.innerHTML=z.value),z instanceof HTMLInputElement&&G.setAttribute("value",z.value)}function vt(){G instanceof SVGElement&&(G.setAttribute("xmlns","http://www.w3.org/2000/svg"),G instanceof SVGRectElement&&["width","height"].forEach(function(mt){var wt=G.getAttribute(mt);wt&&G.style.setProperty(mt,wt)}))}}}function B(K){return o.resolveAll().then(function(U){var R=document.createElement("style");return K.appendChild(R),R.appendChild(document.createTextNode(U)),K})}function Y(K){return f.inlineAll(K).then(function(){return K})}function N(K,U,R){return Promise.resolve(K).then(function(g){return g.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(g)}).then(e.escapeXhtml).then(function(g){return'<foreignObject x="0" y="0" width="100%" height="100%">'+g+"</foreignObject>"}).then(function(g){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+U+'" height="'+R+'">'+g+"</svg>"}).then(function(g){return"data:image/svg+xml;charset=utf-8,"+g})}function A(){return{escape:vt,parseExtension:U,mimeType:R,dataAsUrl:q,isDataUrl:g,canvasToBlob:W,resolveUrl:z,getAndEncode:j,uid:G(),delay:mt,asArray:wt,escapeXhtml:At,makeImage:nt,width:Kt,height:jt};function K(){var zt="application/font-woff",$t="image/jpeg";return{woff:zt,woff2:zt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:$t,jpeg:$t,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function U(zt){var $t=/\.([^\.\/]*?)$/g.exec(zt);return $t?$t[1]:""}function R(zt){var $t=U(zt).toLowerCase();return K()[$t]||""}function g(zt){return zt.search(/^(data:)/)!==-1}function C(zt){return new Promise(function($t){for(var Pt=window.atob(zt.toDataURL().split(",")[1]),Ft=Pt.length,se=new Uint8Array(Ft),de=0;de<Ft;de++)se[de]=Pt.charCodeAt(de);$t(new Blob([se],{type:"image/png"}))})}function W(zt){return zt.toBlob?new Promise(function($t){zt.toBlob($t)}):C(zt)}function z(zt,$t){var Pt=document.implementation.createHTMLDocument(),Ft=Pt.createElement("base");Pt.head.appendChild(Ft);var se=Pt.createElement("a");return Pt.body.appendChild(se),Ft.href=$t,se.href=zt,se.href}function G(){var zt=0;return function(){return"u"+$t()+zt++;function $t(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function nt(zt){return new Promise(function($t,Pt){var Ft=new Image;Ft.onload=function(){$t(Ft)},Ft.onerror=Pt,Ft.src=zt})}function j(zt){var $t=3e4;return a.impl.options.cacheBust&&(zt+=(/\?/.test(zt)?"&":"?")+new Date().getTime()),new Promise(function(Pt){var Ft=new XMLHttpRequest;Ft.onreadystatechange=Ie,Ft.ontimeout=Oe,Ft.responseType="blob",Ft.timeout=$t,Ft.open("GET",zt,!0),Ft.send();var se;if(a.impl.options.imagePlaceholder){var de=a.impl.options.imagePlaceholder.split(/,/);de&&de[1]&&(se=de[1])}function Ie(){if(Ft.readyState===4){if(Ft.status!==200){se?Pt(se):Qt("cannot fetch resource: "+zt+", status: "+Ft.status);return}var $e=new FileReader;$e.onloadend=function(){var rn=$e.result.split(/,/)[1];Pt(rn)},$e.readAsDataURL(Ft.response)}}function Oe(){se?Pt(se):Qt("timeout of "+$t+"ms occured while fetching resource: "+zt)}function Qt($e){console.error($e),Pt("")}})}function q(zt,$t){return"data:"+$t+";base64,"+zt}function vt(zt){return zt.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function mt(zt){return function($t){return new Promise(function(Pt){setTimeout(function(){Pt($t)},zt)})}}function wt(zt){for(var $t=[],Pt=zt.length,Ft=0;Ft<Pt;Ft++)$t.push(zt[Ft]);return $t}function At(zt){return zt.replace(/#/g,"%23").replace(/\n/g,"%0A")}function Kt(zt){var $t=me(zt,"border-left-width"),Pt=me(zt,"border-right-width");return zt.scrollWidth+$t+Pt}function jt(zt){var $t=me(zt,"border-top-width"),Pt=me(zt,"border-bottom-width");return zt.scrollHeight+$t+Pt}function me(zt,$t){var Pt=window.getComputedStyle(zt).getPropertyValue($t);return parseFloat(Pt.replace("px",""))}}function k(){var K=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:C,shouldProcess:U,impl:{readUrls:R,inline:g}};function U(W){return W.search(K)!==-1}function R(W){for(var z=[],G;(G=K.exec(W))!==null;)z.push(G[1]);return z.filter(function(nt){return!e.isDataUrl(nt)})}function g(W,z,G,nt){return Promise.resolve(z).then(function(q){return G?e.resolveUrl(q,G):q}).then(nt||e.getAndEncode).then(function(q){return e.dataAsUrl(q,e.mimeType(z))}).then(function(q){return W.replace(j(z),"$1"+q+"$3")});function j(q){return new RegExp(`(url\\(['"]?)(`+e.escape(q)+`)(['"]?\\))`,"g")}}function C(W,z,G){if(nt())return Promise.resolve(W);return Promise.resolve(W).then(R).then(function(j){var q=Promise.resolve(W);return j.forEach(function(vt){q=q.then(function(mt){return g(mt,vt,z,G)})}),q});function nt(){return!U(W)}}}function tt(){return{resolveAll:K,impl:{readAll:U}};function K(){return U().then(function(R){return Promise.all(R.map(function(g){return g.resolve()}))}).then(function(R){return R.join(`
`)})}function U(){return Promise.resolve(e.asArray(document.styleSheets)).then(g).then(R).then(function(W){return W.map(C)});function R(W){return W.filter(function(z){return z.type===CSSRule.FONT_FACE_RULE}).filter(function(z){return n.shouldProcess(z.style.getPropertyValue("src"))})}function g(W){var z=[];return W.forEach(function(G){try{e.asArray(G.cssRules||[]).forEach(z.push.bind(z))}catch(nt){console.log("Error while reading CSS rules from "+G.href,nt.toString())}}),z}function C(W){return{resolve:function(){var G=(W.parentStyleSheet||{}).href;return n.inlineAll(W.cssText,G)},src:function(){return W.style.getPropertyValue("src")}}}}}function et(){return{inlineAll:U,impl:{newImage:K}};function K(R){return{inline:g};function g(C){return e.isDataUrl(R.src)?Promise.resolve():Promise.resolve(R.src).then(C||e.getAndEncode).then(function(W){return e.dataAsUrl(W,e.mimeType(R.src))}).then(function(W){return new Promise(function(z,G){R.onload=z,R.onerror=G,R.src=W})})}}function U(R){if(!(R instanceof Element))return Promise.resolve(R);return g(R).then(function(){return R instanceof HTMLImageElement?K(R).inline():Promise.all(e.asArray(R.childNodes).map(function(C){return U(C)}))});function g(C){var W=C.style.getPropertyValue("background");return W?n.inlineAll(W).then(function(z){C.style.setProperty("background",z,C.style.getPropertyPriority("background"))}).then(function(){return C}):Promise.resolve(C)}}}})()},666:function(b){var c=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function o(u,h,p){this.fn=u,this.context=h,this.once=p||!1}function f(u,h,p,y,w){if(typeof p!="function")throw new TypeError("The listener must be a function");var d=new o(p,y||u,w),M=e?e+h:h;return u._events[M]?u._events[M].fn?u._events[M]=[u._events[M],d]:u._events[M].push(d):(u._events[M]=d,u._eventsCount++),u}function s(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],p,y;if(this._eventsCount===0)return h;for(y in p=this._events)c.call(p,y)&&h.push(e?y.slice(1):y);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},a.prototype.listeners=function(h){var p=e?e+h:h,y=this._events[p];if(!y)return[];if(y.fn)return[y.fn];for(var w=0,d=y.length,M=new Array(d);w<d;w++)M[w]=y[w].fn;return M},a.prototype.listenerCount=function(h){var p=e?e+h:h,y=this._events[p];return y?y.fn?1:y.length:0},a.prototype.emit=function(h,p,y,w,d,M){var D=e?e+h:h;if(!this._events[D])return!1;var B=this._events[D],Y=arguments.length,N,A;if(B.fn){switch(B.once&&this.removeListener(h,B.fn,void 0,!0),Y){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,p),!0;case 3:return B.fn.call(B.context,p,y),!0;case 4:return B.fn.call(B.context,p,y,w),!0;case 5:return B.fn.call(B.context,p,y,w,d),!0;case 6:return B.fn.call(B.context,p,y,w,d,M),!0}for(A=1,N=new Array(Y-1);A<Y;A++)N[A-1]=arguments[A];B.fn.apply(B.context,N)}else{var k=B.length,tt;for(A=0;A<k;A++)switch(B[A].once&&this.removeListener(h,B[A].fn,void 0,!0),Y){case 1:B[A].fn.call(B[A].context);break;case 2:B[A].fn.call(B[A].context,p);break;case 3:B[A].fn.call(B[A].context,p,y);break;case 4:B[A].fn.call(B[A].context,p,y,w);break;default:if(!N)for(tt=1,N=new Array(Y-1);tt<Y;tt++)N[tt-1]=arguments[tt];B[A].fn.apply(B[A].context,N)}}return!0},a.prototype.on=function(h,p,y){return f(this,h,p,y,!1)},a.prototype.once=function(h,p,y){return f(this,h,p,y,!0)},a.prototype.removeListener=function(h,p,y,w){var d=e?e+h:h;if(!this._events[d])return this;if(!p)return s(this,d),this;var M=this._events[d];if(M.fn)M.fn===p&&(!w||M.once)&&(!y||M.context===y)&&s(this,d);else{for(var D=0,B=[],Y=M.length;D<Y;D++)(M[D].fn!==p||w&&!M[D].once||y&&M[D].context!==y)&&B.push(M[D]);B.length?this._events[d]=B.length===1?B[0]:B:s(this,d)}return this},a.prototype.removeAllListeners=function(h){var p;return h?(p=e?e+h:h,this._events[p]&&s(this,p)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,b.exports=a},5172:function(b,c,e){var n=e(9224);b.exports={Graph:n.Graph,json:e(7401),alg:e(4613),version:n.version}},1606:function(b,c,e){var n=e(5329);b.exports=o;function o(f){var s={},a=[],u;function h(p){n.has(s,p)||(s[p]=!0,u.push(p),n.each(f.successors(p),h),n.each(f.predecessors(p),h))}return n.each(f.nodes(),function(p){u=[],h(p),u.length&&a.push(u)}),a}},1482:function(b,c,e){var n=e(5329);b.exports=o;function o(s,a,u){n.isArray(a)||(a=[a]);var h=(s.isDirected()?s.successors:s.neighbors).bind(s),p=[],y={};return n.each(a,function(w){if(!s.hasNode(w))throw new Error("Graph does not have node: "+w);f(s,w,u==="post",y,h,p)}),p}function f(s,a,u,h,p,y){n.has(h,a)||(h[a]=!0,u||y.push(a),n.each(p(a),function(w){f(s,w,u,h,p,y)}),u&&y.push(a))}},845:function(b,c,e){var n=e(3746),o=e(5329);b.exports=f;function f(s,a,u){return o.transform(s.nodes(),function(h,p){h[p]=n(s,p,a,u)},{})}},3746:function(b,c,e){var n=e(5329),o=e(6614);b.exports=s;var f=n.constant(1);function s(u,h,p,y){return a(u,String(h),p||f,y||function(w){return u.outEdges(w)})}function a(u,h,p,y){var w={},d=new o,M,D,B=function(Y){var N=Y.v!==M?Y.v:Y.w,A=w[N],k=p(Y),tt=D.distance+k;if(k<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+Y+" Weight: "+k);tt<A.distance&&(A.distance=tt,A.predecessor=M,d.decrease(N,tt))};for(u.nodes().forEach(function(Y){var N=Y===h?0:Number.POSITIVE_INFINITY;w[Y]={distance:N},d.add(Y,N)});d.size()>0&&(M=d.removeMin(),D=w[M],D.distance!==Number.POSITIVE_INFINITY);)y(M).forEach(B);return w}},9324:function(b,c,e){var n=e(5329),o=e(4558);b.exports=f;function f(s){return n.filter(o(s),function(a){return a.length>1||a.length===1&&s.hasEdge(a[0],a[0])})}},2893:function(b,c,e){var n=e(5329);b.exports=f;var o=n.constant(1);function f(a,u,h){return s(a,u||o,h||function(p){return a.outEdges(p)})}function s(a,u,h){var p={},y=a.nodes();return y.forEach(function(w){p[w]={},p[w][w]={distance:0},y.forEach(function(d){w!==d&&(p[w][d]={distance:Number.POSITIVE_INFINITY})}),h(w).forEach(function(d){var M=d.v===w?d.w:d.v,D=u(d);p[w][M]={distance:D,predecessor:w}})}),y.forEach(function(w){var d=p[w];y.forEach(function(M){var D=p[M];y.forEach(function(B){var Y=D[w],N=d[B],A=D[B],k=Y.distance+N.distance;k<A.distance&&(A.distance=k,A.predecessor=N.predecessor)})})}),p}},4613:function(b,c,e){b.exports={components:e(1606),dijkstra:e(3746),dijkstraAll:e(845),findCycles:e(9324),floydWarshall:e(2893),isAcyclic:e(588),postorder:e(8049),preorder:e(7158),prim:e(6058),tarjan:e(4558),topsort:e(7793)}},588:function(b,c,e){var n=e(7793);b.exports=o;function o(f){try{n(f)}catch(s){if(s instanceof n.CycleException)return!1;throw s}return!0}},8049:function(b,c,e){var n=e(1482);b.exports=o;function o(f,s){return n(f,s,"post")}},7158:function(b,c,e){var n=e(1482);b.exports=o;function o(f,s){return n(f,s,"pre")}},6058:function(b,c,e){var n=e(5329),o=e(6349),f=e(6614);b.exports=s;function s(a,u){var h=new o,p={},y=new f,w;function d(D){var B=D.v===w?D.w:D.v,Y=y.priority(B);if(Y!==void 0){var N=u(D);N<Y&&(p[B]=w,y.decrease(B,N))}}if(a.nodeCount()===0)return h;n.each(a.nodes(),function(D){y.add(D,Number.POSITIVE_INFINITY),h.setNode(D)}),y.decrease(a.nodes()[0],0);for(var M=!1;y.size()>0;){if(w=y.removeMin(),n.has(p,w))h.setEdge(w,p[w]);else{if(M)throw new Error("Input graph is not connected: "+a);M=!0}a.nodeEdges(w).forEach(d)}return h}},4558:function(b,c,e){var n=e(5329);b.exports=o;function o(f){var s=0,a=[],u={},h=[];function p(y){var w=u[y]={onStack:!0,lowlink:s,index:s++};if(a.push(y),f.successors(y).forEach(function(D){n.has(u,D)?u[D].onStack&&(w.lowlink=Math.min(w.lowlink,u[D].index)):(p(D),w.lowlink=Math.min(w.lowlink,u[D].lowlink))}),w.lowlink===w.index){var d=[],M;do M=a.pop(),u[M].onStack=!1,d.push(M);while(y!==M);h.push(d)}}return f.nodes().forEach(function(y){n.has(u,y)||p(y)}),h}},7793:function(b,c,e){var n=e(5329);b.exports=o,o.CycleException=f;function o(s){var a={},u={},h=[];function p(y){if(n.has(u,y))throw new f;n.has(a,y)||(u[y]=!0,a[y]=!0,n.each(s.predecessors(y),p),delete u[y],h.push(y))}if(n.each(s.sinks(),p),n.size(a)!==s.nodeCount())throw new f;return h}function f(){}f.prototype=new Error},6614:function(b,c,e){var n=e(5329);b.exports=o;function o(){this._arr=[],this._keyIndices={}}o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map(function(f){return f.key})},o.prototype.has=function(f){return n.has(this._keyIndices,f)},o.prototype.priority=function(f){var s=this._keyIndices[f];if(s!==void 0)return this._arr[s].priority},o.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(f,s){var a=this._keyIndices;if(f=String(f),!n.has(a,f)){var u=this._arr,h=u.length;return a[f]=h,u.push({key:f,priority:s}),this._decrease(h),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var f=this._arr.pop();return delete this._keyIndices[f.key],this._heapify(0),f.key},o.prototype.decrease=function(f,s){var a=this._keyIndices[f];if(s>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+f+" Old: "+this._arr[a].priority+" New: "+s);this._arr[a].priority=s,this._decrease(a)},o.prototype._heapify=function(f){var s=this._arr,a=2*f,u=a+1,h=f;a<s.length&&(h=s[a].priority<s[h].priority?a:h,u<s.length&&(h=s[u].priority<s[h].priority?u:h),h!==f&&(this._swap(f,h),this._heapify(h)))},o.prototype._decrease=function(f){for(var s=this._arr,a=s[f].priority,u;f!==0&&(u=f>>1,!(s[u].priority<a));)this._swap(f,u),f=u},o.prototype._swap=function(f,s){var a=this._arr,u=this._keyIndices,h=a[f],p=a[s];a[f]=p,a[s]=h,u[p.key]=f,u[h.key]=s}},6349:function(b,c,e){var n=e(5329);b.exports=a;var o="\0",f="\0",s="";function a(d){this._isDirected=n.has(d,"directed")?d.directed:!0,this._isMultigraph=n.has(d,"multigraph")?d.multigraph:!1,this._isCompound=n.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=n.constant(void 0),this._defaultEdgeLabelFn=n.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[f]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(d){return this._label=d,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(d){return n.isFunction(d)||(d=n.constant(d)),this._defaultNodeLabelFn=d,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return n.keys(this._nodes)},a.prototype.sources=function(){var d=this;return n.filter(this.nodes(),function(M){return n.isEmpty(d._in[M])})},a.prototype.sinks=function(){var d=this;return n.filter(this.nodes(),function(M){return n.isEmpty(d._out[M])})},a.prototype.setNodes=function(d,M){var D=arguments,B=this;return n.each(d,function(Y){D.length>1?B.setNode(Y,M):B.setNode(Y)}),this},a.prototype.setNode=function(d,M){return n.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=M),this):(this._nodes[d]=arguments.length>1?M:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=f,this._children[d]={},this._children[f][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},a.prototype.node=function(d){return this._nodes[d]},a.prototype.hasNode=function(d){return n.has(this._nodes,d)},a.prototype.removeNode=function(d){var M=this;if(n.has(this._nodes,d)){var D=function(B){M.removeEdge(M._edgeObjs[B])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],n.each(this.children(d),function(B){M.setParent(B)}),delete this._children[d]),n.each(n.keys(this._in[d]),D),delete this._in[d],delete this._preds[d],n.each(n.keys(this._out[d]),D),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},a.prototype.setParent=function(d,M){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(n.isUndefined(M))M=f;else{M+="";for(var D=M;!n.isUndefined(D);D=this.parent(D))if(D===d)throw new Error("Setting "+M+" as parent of "+d+" would create a cycle");this.setNode(M)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=M,this._children[M][d]=!0,this},a.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},a.prototype.parent=function(d){if(this._isCompound){var M=this._parent[d];if(M!==f)return M}},a.prototype.children=function(d){if(n.isUndefined(d)&&(d=f),this._isCompound){var M=this._children[d];if(M)return n.keys(M)}else{if(d===f)return this.nodes();if(this.hasNode(d))return[]}},a.prototype.predecessors=function(d){var M=this._preds[d];if(M)return n.keys(M)},a.prototype.successors=function(d){var M=this._sucs[d];if(M)return n.keys(M)},a.prototype.neighbors=function(d){var M=this.predecessors(d);if(M)return n.union(M,this.successors(d))},a.prototype.isLeaf=function(d){var M;return this.isDirected()?M=this.successors(d):M=this.neighbors(d),M.length===0},a.prototype.filterNodes=function(d){var M=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});M.setGraph(this.graph());var D=this;n.each(this._nodes,function(N,A){d(A)&&M.setNode(A,N)}),n.each(this._edgeObjs,function(N){M.hasNode(N.v)&&M.hasNode(N.w)&&M.setEdge(N,D.edge(N))});var B={};function Y(N){var A=D.parent(N);return A===void 0||M.hasNode(A)?(B[N]=A,A):A in B?B[A]:Y(A)}return this._isCompound&&n.each(M.nodes(),function(N){M.setParent(N,Y(N))}),M},a.prototype.setDefaultEdgeLabel=function(d){return n.isFunction(d)||(d=n.constant(d)),this._defaultEdgeLabelFn=d,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return n.values(this._edgeObjs)},a.prototype.setPath=function(d,M){var D=this,B=arguments;return n.reduce(d,function(Y,N){return B.length>1?D.setEdge(Y,N,M):D.setEdge(Y,N),N}),this},a.prototype.setEdge=function(){var d,M,D,B,Y=!1,N=arguments[0];typeof N=="object"&&N!==null&&"v"in N?(d=N.v,M=N.w,D=N.name,arguments.length===2&&(B=arguments[1],Y=!0)):(d=N,M=arguments[1],D=arguments[3],arguments.length>2&&(B=arguments[2],Y=!0)),d=""+d,M=""+M,n.isUndefined(D)||(D=""+D);var A=p(this._isDirected,d,M,D);if(n.has(this._edgeLabels,A))return Y&&(this._edgeLabels[A]=B),this;if(!n.isUndefined(D)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(M),this._edgeLabels[A]=Y?B:this._defaultEdgeLabelFn(d,M,D);var k=y(this._isDirected,d,M,D);return d=k.v,M=k.w,Object.freeze(k),this._edgeObjs[A]=k,u(this._preds[M],d),u(this._sucs[d],M),this._in[M][A]=k,this._out[d][A]=k,this._edgeCount++,this},a.prototype.edge=function(d,M,D){var B=arguments.length===1?w(this._isDirected,arguments[0]):p(this._isDirected,d,M,D);return this._edgeLabels[B]},a.prototype.hasEdge=function(d,M,D){var B=arguments.length===1?w(this._isDirected,arguments[0]):p(this._isDirected,d,M,D);return n.has(this._edgeLabels,B)},a.prototype.removeEdge=function(d,M,D){var B=arguments.length===1?w(this._isDirected,arguments[0]):p(this._isDirected,d,M,D),Y=this._edgeObjs[B];return Y&&(d=Y.v,M=Y.w,delete this._edgeLabels[B],delete this._edgeObjs[B],h(this._preds[M],d),h(this._sucs[d],M),delete this._in[M][B],delete this._out[d][B],this._edgeCount--),this},a.prototype.inEdges=function(d,M){var D=this._in[d];if(D){var B=n.values(D);return M?n.filter(B,function(Y){return Y.v===M}):B}},a.prototype.outEdges=function(d,M){var D=this._out[d];if(D){var B=n.values(D);return M?n.filter(B,function(Y){return Y.w===M}):B}},a.prototype.nodeEdges=function(d,M){var D=this.inEdges(d,M);if(D)return D.concat(this.outEdges(d,M))};function u(d,M){d[M]?d[M]++:d[M]=1}function h(d,M){--d[M]||delete d[M]}function p(d,M,D,B){var Y=""+M,N=""+D;if(!d&&Y>N){var A=Y;Y=N,N=A}return Y+s+N+s+(n.isUndefined(B)?o:B)}function y(d,M,D,B){var Y=""+M,N=""+D;if(!d&&Y>N){var A=Y;Y=N,N=A}var k={v:Y,w:N};return B&&(k.name=B),k}function w(d,M){return p(d,M.v,M.w,M.name)}},9224:function(b,c,e){b.exports={Graph:e(6349),version:e(6544)}},7401:function(b,c,e){var n=e(5329),o=e(6349);b.exports={write:f,read:u};function f(h){var p={options:{directed:h.isDirected(),multigraph:h.isMultigraph(),compound:h.isCompound()},nodes:s(h),edges:a(h)};return n.isUndefined(h.graph())||(p.value=n.clone(h.graph())),p}function s(h){return n.map(h.nodes(),function(p){var y=h.node(p),w=h.parent(p),d={v:p};return n.isUndefined(y)||(d.value=y),n.isUndefined(w)||(d.parent=w),d})}function a(h){return n.map(h.edges(),function(p){var y=h.edge(p),w={v:p.v,w:p.w};return n.isUndefined(p.name)||(w.name=p.name),n.isUndefined(y)||(w.value=y),w})}function u(h){var p=new o(h.options).setGraph(h.value);return n.each(h.nodes,function(y){p.setNode(y.v,y.value),y.parent&&p.setParent(y.v,y.parent)}),n.each(h.edges,function(y){p.setEdge({v:y.v,w:y.w,name:y.name},y.value)}),p}},5329:function(b,c,e){var n;try{n={clone:e(6833),constant:e(3503),each:e(6934),filter:e(4725),has:e(9946),isArray:e(744),isEmpty:e(1627),isFunction:e(9363),isUndefined:e(6513),keys:e(5451),map:e(9924),reduce:e(6473),size:e(617),transform:e(1116),union:e(4065),values:e(1229)}}catch{}n||(n=window._),b.exports=n},6544:function(b){b.exports="2.1.8"},4634:function(b,c,e){e.r(c),e.d(c,{isAnyArray:function(){return o}});const n=Object.prototype.toString;function o(f){const s=n.call(f);return s.endsWith("Array]")&&!s.includes("Big")}},4609:function(b,c){var e,n;/*!
* jQuery JavaScript Library v3.7.1
* https://jquery.com/
*
* Copyright OpenJS Foundation and other contributors
* Released under the MIT license
* https://jquery.org/license
*
* Date: 2023-08-28T13:37Z
*/(function(o,f){typeof b.exports=="object"?b.exports=o.document?f(o,!0):function(s){if(!s.document)throw new Error("jQuery requires a window with a document");return f(s)}:f(o)})(typeof window<"u"?window:this,function(o,f){var s=[],a=Object.getPrototypeOf,u=s.slice,h=s.flat?function(E){return s.flat.call(E)}:function(E){return s.concat.apply([],E)},p=s.push,y=s.indexOf,w={},d=w.toString,M=w.hasOwnProperty,D=M.toString,B=D.call(Object),Y={},N=function(P){return typeof P=="function"&&typeof P.nodeType!="number"&&typeof P.item!="function"},A=function(P){return P!=null&&P===P.window},k=o.document,tt={type:!0,src:!0,nonce:!0,noModule:!0};function et(E,P,H){H=H||k;var Z,st,ot=H.createElement("script");if(ot.text=E,P)for(Z in tt)st=P[Z]||P.getAttribute&&P.getAttribute(Z),st&&ot.setAttribute(Z,st);H.head.appendChild(ot).parentNode.removeChild(ot)}function K(E){return E==null?E+"":typeof E=="object"||typeof E=="function"?w[d.call(E)]||"object":typeof E}var U="3.7.1",R=/HTML$/i,g=function(E,P){return new g.fn.init(E,P)};g.fn=g.prototype={jquery:U,constructor:g,length:0,toArray:function(){return u.call(this)},get:function(E){return E==null?u.call(this):E<0?this[E+this.length]:this[E]},pushStack:function(E){var P=g.merge(this.constructor(),E);return P.prevObject=this,P},each:function(E){return g.each(this,E)},map:function(E){return this.pushStack(g.map(this,function(P,H){return E.call(P,H,P)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(g.grep(this,function(E,P){return(P+1)%2}))},odd:function(){return this.pushStack(g.grep(this,function(E,P){return P%2}))},eq:function(E){var P=this.length,H=+E+(E<0?P:0);return this.pushStack(H>=0&&H<P?[this[H]]:[])},end:function(){return this.prevObject||this.constructor()},push:p,sort:s.sort,splice:s.splice},g.extend=g.fn.extend=function(){var E,P,H,Z,st,ot,ft=arguments[0]||{},Lt=1,Ct=arguments.length,Ht=!1;for(typeof ft=="boolean"&&(Ht=ft,ft=arguments[Lt]||{},Lt++),typeof ft!="object"&&!N(ft)&&(ft={}),Lt===Ct&&(ft=this,Lt--);Lt<Ct;Lt++)if((E=arguments[Lt])!=null)for(P in E)Z=E[P],!(P==="__proto__"||ft===Z)&&(Ht&&Z&&(g.isPlainObject(Z)||(st=Array.isArray(Z)))?(H=ft[P],st&&!Array.isArray(H)?ot=[]:!st&&!g.isPlainObject(H)?ot={}:ot=H,st=!1,ft[P]=g.extend(Ht,ot,Z)):Z!==void 0&&(ft[P]=Z));return ft},g.extend({expando:"jQuery"+(U+Math.random()).replace(/\D/g,""),isReady:!0,error:function(E){throw new Error(E)},noop:function(){},isPlainObject:function(E){var P,H;return!E||d.call(E)!=="[object Object]"?!1:(P=a(E),P?(H=M.call(P,"constructor")&&P.constructor,typeof H=="function"&&D.call(H)===B):!0)},isEmptyObject:function(E){var P;for(P in E)return!1;return!0},globalEval:function(E,P,H){et(E,{nonce:P&&P.nonce},H)},each:function(E,P){var H,Z=0;if(C(E))for(H=E.length;Z<H&&P.call(E[Z],Z,E[Z])!==!1;Z++);else for(Z in E)if(P.call(E[Z],Z,E[Z])===!1)break;return E},text:function(E){var P,H="",Z=0,st=E.nodeType;if(!st)for(;P=E[Z++];)H+=g.text(P);return st===1||st===11?E.textContent:st===9?E.documentElement.textContent:st===3||st===4?E.nodeValue:H},makeArray:function(E,P){var H=P||[];return E!=null&&(C(Object(E))?g.merge(H,typeof E=="string"?[E]:E):p.call(H,E)),H},inArray:function(E,P,H){return P==null?-1:y.call(P,E,H)},isXMLDoc:function(E){var P=E&&E.namespaceURI,H=E&&(E.ownerDocument||E).documentElement;return!R.test(P||H&&H.nodeName||"HTML")},merge:function(E,P){for(var H=+P.length,Z=0,st=E.length;Z<H;Z++)E[st++]=P[Z];return E.length=st,E},grep:function(E,P,H){for(var Z,st=[],ot=0,ft=E.length,Lt=!H;ot<ft;ot++)Z=!P(E[ot],ot),Z!==Lt&&st.push(E[ot]);return st},map:function(E,P,H){var Z,st,ot=0,ft=[];if(C(E))for(Z=E.length;ot<Z;ot++)st=P(E[ot],ot,H),st!=null&&ft.push(st);else for(ot in E)st=P(E[ot],ot,H),st!=null&&ft.push(st);return h(ft)},guid:1,support:Y}),typeof Symbol=="function"&&(g.fn[Symbol.iterator]=s[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(E,P){w["[object "+P+"]"]=P.toLowerCase()});function C(E){var P=!!E&&"length"in E&&E.length,H=K(E);return N(E)||A(E)?!1:H==="array"||P===0||typeof P=="number"&&P>0&&P-1 in E}function W(E,P){return E.nodeName&&E.nodeName.toLowerCase()===P.toLowerCase()}var z=s.pop,G=s.sort,nt=s.splice,j="[\\x20\\t\\r\\n\\f]",q=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g");g.contains=function(E,P){var H=P&&P.parentNode;return E===H||!!(H&&H.nodeType===1&&(E.contains?E.contains(H):E.compareDocumentPosition&&E.compareDocumentPosition(H)&16))};var vt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function mt(E,P){return P?E==="\0"?"�":E.slice(0,-1)+"\\"+E.charCodeAt(E.length-1).toString(16)+" ":"\\"+E}g.escapeSelector=function(E){return(E+"").replace(vt,mt)};var wt=k,At=p;(function(){var E,P,H,Z,st,ot=At,ft,Lt,Ct,Ht,ce,be=g.expando,oe=0,Ee=0,wn=qi(),Qn=qi(),Nn=qi(),Lr=qi(),pr=function(Mt,Yt){return Mt===Yt&&(st=!0),0},ei="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",di="(?:\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Yn="\\["+j+"*("+di+")(?:"+j+"*([*^$|!~]?=)"+j+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+di+"))|)"+j+"*\\]",Fr=":("+di+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Yn+")*)|.*)\\)|)",Gn=new RegExp(j+"+","g"),gr=new RegExp("^"+j+"*,"+j+"*"),Qi=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),Zi=new RegExp(j+"|>"),ni=new RegExp(Fr),Ji=new RegExp("^"+di+"$"),Ur={ID:new RegExp("^#("+di+")"),CLASS:new RegExp("^\\.("+di+")"),TAG:new RegExp("^("+di+"|[*])"),ATTR:new RegExp("^"+Yn),PSEUDO:new RegExp("^"+Fr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+ei+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},yi=/^(?:input|select|textarea|button)$/i,ri=/^h\d$/i,Nr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Fi=/[+~]/,Fn=new RegExp("\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\([^\\r\\n\\f])","g"),er=function(Mt,Yt){var fe="0x"+Mt.slice(1)-65536;return Yt||(fe<0?String.fromCharCode(fe+65536):String.fromCharCode(fe>>10|55296,fe&1023|56320))},ai=function(){Ui()},Zr=ts(function(Mt){return Mt.disabled===!0&&W(Mt,"fieldset")},{dir:"parentNode",next:"legend"});function Ri(){try{return ft.activeElement}catch{}}try{ot.apply(s=u.call(wt.childNodes),wt.childNodes),s[wt.childNodes.length].nodeType}catch{ot={apply:function(Yt,fe){At.apply(Yt,u.call(fe))},call:function(Yt){At.apply(Yt,u.call(arguments,1))}}}function Jn(Mt,Yt,fe,gt){var Dt,Wt,ve,Ae,Be,Mn,tn,kn=Yt&&Yt.ownerDocument,nr=Yt?Yt.nodeType:9;if(fe=fe||[],typeof Mt!="string"||!Mt||nr!==1&&nr!==9&&nr!==11)return fe;if(!gt&&(Ui(Yt),Yt=Yt||ft,Ct)){if(nr!==11&&(Be=Nr.exec(Mt)))if(Dt=Be[1]){if(nr===9)if(ve=Yt.getElementById(Dt)){if(ve.id===Dt)return ot.call(fe,ve),fe}else return fe;else if(kn&&(ve=kn.getElementById(Dt))&&Jn.contains(Yt,ve)&&ve.id===Dt)return ot.call(fe,ve),fe}else{if(Be[2])return ot.apply(fe,Yt.getElementsByTagName(Mt)),fe;if((Dt=Be[3])&&Yt.getElementsByClassName)return ot.apply(fe,Yt.getElementsByClassName(Dt)),fe}if(!Lr[Mt+" "]&&(!Ht||!Ht.test(Mt))){if(tn=Mt,kn=Yt,nr===1&&(Zi.test(Mt)||Qi.test(Mt))){for(kn=Fi.test(Mt)&&ms(Yt.parentNode)||Yt,(kn!=Yt||!Y.scope)&&((Ae=Yt.getAttribute("id"))?Ae=g.escapeSelector(Ae):Yt.setAttribute("id",Ae=be)),Mn=Ti(Mt),Wt=Mn.length;Wt--;)Mn[Wt]=(Ae?"#"+Ae:":scope")+" "+bo(Mn[Wt]);tn=Mn.join(",")}try{return ot.apply(fe,kn.querySelectorAll(tn)),fe}catch{Lr(Mt,!0)}finally{Ae===be&&Yt.removeAttribute("id")}}}return js(Mt.replace(q,"$1"),Yt,fe,gt)}function qi(){var Mt=[];function Yt(fe,gt){return Mt.push(fe+" ")>P.cacheLength&&delete Yt[Mt.shift()],Yt[fe+" "]=gt}return Yt}function Jr(Mt){return Mt[be]=!0,Mt}function bi(Mt){var Yt=ft.createElement("fieldset");try{return!!Mt(Yt)}catch{return!1}finally{Yt.parentNode&&Yt.parentNode.removeChild(Yt),Yt=null}}function lo(Mt){return function(Yt){return W(Yt,"input")&&Yt.type===Mt}}function gs(Mt){return function(Yt){return(W(Yt,"input")||W(Yt,"button"))&&Yt.type===Mt}}function mo(Mt){return function(Yt){return"form"in Yt?Yt.parentNode&&Yt.disabled===!1?"label"in Yt?"label"in Yt.parentNode?Yt.parentNode.disabled===Mt:Yt.disabled===Mt:Yt.isDisabled===Mt||Yt.isDisabled!==!Mt&&Zr(Yt)===Mt:Yt.disabled===Mt:"label"in Yt?Yt.disabled===Mt:!1}}function yo(Mt){return Jr(function(Yt){return Yt=+Yt,Jr(function(fe,gt){for(var Dt,Wt=Mt([],fe.length,Yt),ve=Wt.length;ve--;)fe[Dt=Wt[ve]]&&(fe[Dt]=!(gt[Dt]=fe[Dt]))})})}function ms(Mt){return Mt&&typeof Mt.getElementsByTagName<"u"&&Mt}function Ui(Mt){var Yt,fe=Mt?Mt.ownerDocument||Mt:wt;return fe==ft||fe.nodeType!==9||!fe.documentElement||(ft=fe,Lt=ft.documentElement,Ct=!g.isXMLDoc(ft),ce=Lt.matches||Lt.webkitMatchesSelector||Lt.msMatchesSelector,Lt.msMatchesSelector&&wt!=ft&&(Yt=ft.defaultView)&&Yt.top!==Yt&&Yt.addEventListener("unload",ai),Y.getById=bi(function(gt){return Lt.appendChild(gt).id=g.expando,!ft.getElementsByName||!ft.getElementsByName(g.expando).length}),Y.disconnectedMatch=bi(function(gt){return ce.call(gt,"*")}),Y.scope=bi(function(){return ft.querySelectorAll(":scope")}),Y.cssHas=bi(function(){try{return ft.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),Y.getById?(P.filter.ID=function(gt){var Dt=gt.replace(Fn,er);return function(Wt){return Wt.getAttribute("id")===Dt}},P.find.ID=function(gt,Dt){if(typeof Dt.getElementById<"u"&&Ct){var Wt=Dt.getElementById(gt);return Wt?[Wt]:[]}}):(P.filter.ID=function(gt){var Dt=gt.replace(Fn,er);return function(Wt){var ve=typeof Wt.getAttributeNode<"u"&&Wt.getAttributeNode("id");return ve&&ve.value===Dt}},P.find.ID=function(gt,Dt){if(typeof Dt.getElementById<"u"&&Ct){var Wt,ve,Ae,Be=Dt.getElementById(gt);if(Be){if(Wt=Be.getAttributeNode("id"),Wt&&Wt.value===gt)return[Be];for(Ae=Dt.getElementsByName(gt),ve=0;Be=Ae[ve++];)if(Wt=Be.getAttributeNode("id"),Wt&&Wt.value===gt)return[Be]}return[]}}),P.find.TAG=function(gt,Dt){return typeof Dt.getElementsByTagName<"u"?Dt.getElementsByTagName(gt):Dt.querySelectorAll(gt)},P.find.CLASS=function(gt,Dt){if(typeof Dt.getElementsByClassName<"u"&&Ct)return Dt.getElementsByClassName(gt)},Ht=[],bi(function(gt){var Dt;Lt.appendChild(gt).innerHTML="<a id='"+be+"' href='' disabled='disabled'></a><select id='"+be+"-\r\\' disabled='disabled'><option selected=''></option></select>",gt.querySelectorAll("[selected]").length||Ht.push("\\["+j+"*(?:value|"+ei+")"),gt.querySelectorAll("[id~="+be+"-]").length||Ht.push("~="),gt.querySelectorAll("a#"+be+"+*").length||Ht.push(".#.+[+~]"),gt.querySelectorAll(":checked").length||Ht.push(":checked"),Dt=ft.createElement("input"),Dt.setAttribute("type","hidden"),gt.appendChild(Dt).setAttribute("name","D"),Lt.appendChild(gt).disabled=!0,gt.querySelectorAll(":disabled").length!==2&&Ht.push(":enabled",":disabled"),Dt=ft.createElement("input"),Dt.setAttribute("name",""),gt.appendChild(Dt),gt.querySelectorAll("[name='']").length||Ht.push("\\["+j+"*name"+j+"*="+j+`*(?:''|"")`)}),Y.cssHas||Ht.push(":has"),Ht=Ht.length&&new RegExp(Ht.join("|")),pr=function(gt,Dt){if(gt===Dt)return st=!0,0;var Wt=!gt.compareDocumentPosition-!Dt.compareDocumentPosition;return Wt||(Wt=(gt.ownerDocument||gt)==(Dt.ownerDocument||Dt)?gt.compareDocumentPosition(Dt):1,Wt&1||!Y.sortDetached&&Dt.compareDocumentPosition(gt)===Wt?gt===ft||gt.ownerDocument==wt&&Jn.contains(wt,gt)?-1:Dt===ft||Dt.ownerDocument==wt&&Jn.contains(wt,Dt)?1:Z?y.call(Z,gt)-y.call(Z,Dt):0:Wt&4?-1:1)}),ft}Jn.matches=function(Mt,Yt){return Jn(Mt,null,null,Yt)},Jn.matchesSelector=function(Mt,Yt){if(Ui(Mt),Ct&&!Lr[Yt+" "]&&(!Ht||!Ht.test(Yt)))try{var fe=ce.call(Mt,Yt);if(fe||Y.disconnectedMatch||Mt.document&&Mt.document.nodeType!==11)return fe}catch{Lr(Yt,!0)}return Jn(Yt,ft,null,[Mt]).length>0},Jn.contains=function(Mt,Yt){return(Mt.ownerDocument||Mt)!=ft&&Ui(Mt),g.contains(Mt,Yt)},Jn.attr=function(Mt,Yt){(Mt.ownerDocument||Mt)!=ft&&Ui(Mt);var fe=P.attrHandle[Yt.toLowerCase()],gt=fe&&M.call(P.attrHandle,Yt.toLowerCase())?fe(Mt,Yt,!Ct):void 0;return gt!==void 0?gt:Mt.getAttribute(Yt)},Jn.error=function(Mt){throw new Error("Syntax error, unrecognized expression: "+Mt)},g.uniqueSort=function(Mt){var Yt,fe=[],gt=0,Dt=0;if(st=!Y.sortStable,Z=!Y.sortStable&&u.call(Mt,0),G.call(Mt,pr),st){for(;Yt=Mt[Dt++];)Yt===Mt[Dt]&&(gt=fe.push(Dt));for(;gt--;)nt.call(Mt,fe[gt],1)}return Z=null,Mt},g.fn.uniqueSort=function(){return this.pushStack(g.uniqueSort(u.apply(this)))},P=g.expr={cacheLength:50,createPseudo:Jr,match:Ur,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Mt){return Mt[1]=Mt[1].replace(Fn,er),Mt[3]=(Mt[3]||Mt[4]||Mt[5]||"").replace(Fn,er),Mt[2]==="~="&&(Mt[3]=" "+Mt[3]+" "),Mt.slice(0,4)},CHILD:function(Mt){return Mt[1]=Mt[1].toLowerCase(),Mt[1].slice(0,3)==="nth"?(Mt[3]||Jn.error(Mt[0]),Mt[4]=+(Mt[4]?Mt[5]+(Mt[6]||1):2*(Mt[3]==="even"||Mt[3]==="odd")),Mt[5]=+(Mt[7]+Mt[8]||Mt[3]==="odd")):Mt[3]&&Jn.error(Mt[0]),Mt},PSEUDO:function(Mt){var Yt,fe=!Mt[6]&&Mt[2];return Ur.CHILD.test(Mt[0])?null:(Mt[3]?Mt[2]=Mt[4]||Mt[5]||"":fe&&ni.test(fe)&&(Yt=Ti(fe,!0))&&(Yt=fe.indexOf(")",fe.length-Yt)-fe.length)&&(Mt[0]=Mt[0].slice(0,Yt),Mt[2]=fe.slice(0,Yt)),Mt.slice(0,3))}},filter:{TAG:function(Mt){var Yt=Mt.replace(Fn,er).toLowerCase();return Mt==="*"?function(){return!0}:function(fe){return W(fe,Yt)}},CLASS:function(Mt){var Yt=wn[Mt+" "];return Yt||(Yt=new RegExp("(^|"+j+")"+Mt+"("+j+"|$)"))&&wn(Mt,function(fe){return Yt.test(typeof fe.className=="string"&&fe.className||typeof fe.getAttribute<"u"&&fe.getAttribute("class")||"")})},ATTR:function(Mt,Yt,fe){return function(gt){var Dt=Jn.attr(gt,Mt);return Dt==null?Yt==="!=":Yt?(Dt+="",Yt==="="?Dt===fe:Yt==="!="?Dt!==fe:Yt==="^="?fe&&Dt.indexOf(fe)===0:Yt==="*="?fe&&Dt.indexOf(fe)>-1:Yt==="$="?fe&&Dt.slice(-fe.length)===fe:Yt==="~="?(" "+Dt.replace(Gn," ")+" ").indexOf(fe)>-1:Yt==="|="?Dt===fe||Dt.slice(0,fe.length+1)===fe+"-":!1):!0}},CHILD:function(Mt,Yt,fe,gt,Dt){var Wt=Mt.slice(0,3)!=="nth",ve=Mt.slice(-4)!=="last",Ae=Yt==="of-type";return gt===1&&Dt===0?function(Be){return!!Be.parentNode}:function(Be,Mn,tn){var kn,nr,vn,mr,vi,Ir=Wt!==ve?"nextSibling":"previousSibling",ui=Be.parentNode,Ei=Ae&&Be.nodeName.toLowerCase(),lr=!tn&&!Ae,li=!1;if(ui){if(Wt){for(;Ir;){for(vn=Be;vn=vn[Ir];)if(Ae?W(vn,Ei):vn.nodeType===1)return!1;vi=Ir=Mt==="only"&&!vi&&"nextSibling"}return!0}if(vi=[ve?ui.firstChild:ui.lastChild],ve&&lr){for(nr=ui[be]||(ui[be]={}),kn=nr[Mt]||[],mr=kn[0]===oe&&kn[1],li=mr&&kn[2],vn=mr&&ui.childNodes[mr];vn=++mr&&vn&&vn[Ir]||(li=mr=0)||vi.pop();)if(vn.nodeType===1&&++li&&vn===Be){nr[Mt]=[oe,mr,li];break}}else if(lr&&(nr=Be[be]||(Be[be]={}),kn=nr[Mt]||[],mr=kn[0]===oe&&kn[1],li=mr),li===!1)for(;(vn=++mr&&vn&&vn[Ir]||(li=mr=0)||vi.pop())&&!((Ae?W(vn,Ei):vn.nodeType===1)&&++li&&(lr&&(nr=vn[be]||(vn[be]={}),nr[Mt]=[oe,li]),vn===Be)););return li-=Dt,li===gt||li%gt===0&&li/gt>=0}}},PSEUDO:function(Mt,Yt){var fe,gt=P.pseudos[Mt]||P.setFilters[Mt.toLowerCase()]||Jn.error("unsupported pseudo: "+Mt);return gt[be]?gt(Yt):gt.length>1?(fe=[Mt,Mt,"",Yt],P.setFilters.hasOwnProperty(Mt.toLowerCase())?Jr(function(Dt,Wt){for(var ve,Ae=gt(Dt,Yt),Be=Ae.length;Be--;)ve=y.call(Dt,Ae[Be]),Dt[ve]=!(Wt[ve]=Ae[Be])}):function(Dt){return gt(Dt,0,fe)}):gt}},pseudos:{not:Jr(function(Mt){var Yt=[],fe=[],gt=ws(Mt.replace(q,"$1"));return gt[be]?Jr(function(Dt,Wt,ve,Ae){for(var Be,Mn=gt(Dt,null,Ae,[]),tn=Dt.length;tn--;)(Be=Mn[tn])&&(Dt[tn]=!(Wt[tn]=Be))}):function(Dt,Wt,ve){return Yt[0]=Dt,gt(Yt,null,ve,fe),Yt[0]=null,!fe.pop()}}),has:Jr(function(Mt){return function(Yt){return Jn(Mt,Yt).length>0}}),contains:Jr(function(Mt){return Mt=Mt.replace(Fn,er),function(Yt){return(Yt.textContent||g.text(Yt)).indexOf(Mt)>-1}}),lang:Jr(function(Mt){return Ji.test(Mt||"")||Jn.error("unsupported lang: "+Mt),Mt=Mt.replace(Fn,er).toLowerCase(),function(Yt){var fe;do if(fe=Ct?Yt.lang:Yt.getAttribute("xml:lang")||Yt.getAttribute("lang"))return fe=fe.toLowerCase(),fe===Mt||fe.indexOf(Mt+"-")===0;while((Yt=Yt.parentNode)&&Yt.nodeType===1);return!1}}),target:function(Mt){var Yt=o.location&&o.location.hash;return Yt&&Yt.slice(1)===Mt.id},root:function(Mt){return Mt===Lt},focus:function(Mt){return Mt===Ri()&&ft.hasFocus()&&!!(Mt.type||Mt.href||~Mt.tabIndex)},enabled:mo(!1),disabled:mo(!0),checked:function(Mt){return W(Mt,"input")&&!!Mt.checked||W(Mt,"option")&&!!Mt.selected},selected:function(Mt){return Mt.parentNode&&Mt.parentNode.selectedIndex,Mt.selected===!0},empty:function(Mt){for(Mt=Mt.firstChild;Mt;Mt=Mt.nextSibling)if(Mt.nodeType<6)return!1;return!0},parent:function(Mt){return!P.pseudos.empty(Mt)},header:function(Mt){return ri.test(Mt.nodeName)},input:function(Mt){return yi.test(Mt.nodeName)},button:function(Mt){return W(Mt,"input")&&Mt.type==="button"||W(Mt,"button")},text:function(Mt){var Yt;return W(Mt,"input")&&Mt.type==="text"&&((Yt=Mt.getAttribute("type"))==null||Yt.toLowerCase()==="text")},first:yo(function(){return[0]}),last:yo(function(Mt,Yt){return[Yt-1]}),eq:yo(function(Mt,Yt,fe){return[fe<0?fe+Yt:fe]}),even:yo(function(Mt,Yt){for(var fe=0;fe<Yt;fe+=2)Mt.push(fe);return Mt}),odd:yo(function(Mt,Yt){for(var fe=1;fe<Yt;fe+=2)Mt.push(fe);return Mt}),lt:yo(function(Mt,Yt,fe){var gt;for(fe<0?gt=fe+Yt:fe>Yt?gt=Yt:gt=fe;--gt>=0;)Mt.push(gt);return Mt}),gt:yo(function(Mt,Yt,fe){for(var gt=fe<0?fe+Yt:fe;++gt<Yt;)Mt.push(gt);return Mt})}},P.pseudos.nth=P.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})P.pseudos[E]=lo(E);for(E in{submit:!0,reset:!0})P.pseudos[E]=gs(E);function ys(){}ys.prototype=P.filters=P.pseudos,P.setFilters=new ys;function Ti(Mt,Yt){var fe,gt,Dt,Wt,ve,Ae,Be,Mn=Qn[Mt+" "];if(Mn)return Yt?0:Mn.slice(0);for(ve=Mt,Ae=[],Be=P.preFilter;ve;){(!fe||(gt=gr.exec(ve)))&&(gt&&(ve=ve.slice(gt[0].length)||ve),Ae.push(Dt=[])),fe=!1,(gt=Qi.exec(ve))&&(fe=gt.shift(),Dt.push({value:fe,type:gt[0].replace(q," ")}),ve=ve.slice(fe.length));for(Wt in P.filter)(gt=Ur[Wt].exec(ve))&&(!Be[Wt]||(gt=Be[Wt](gt)))&&(fe=gt.shift(),Dt.push({value:fe,type:Wt,matches:gt}),ve=ve.slice(fe.length));if(!fe)break}return Yt?ve.length:ve?Jn.error(Mt):Qn(Mt,Ae).slice(0)}function bo(Mt){for(var Yt=0,fe=Mt.length,gt="";Yt<fe;Yt++)gt+=Mt[Yt].value;return gt}function ts(Mt,Yt,fe){var gt=Yt.dir,Dt=Yt.next,Wt=Dt||gt,ve=fe&&Wt==="parentNode",Ae=Ee++;return Yt.first?function(Be,Mn,tn){for(;Be=Be[gt];)if(Be.nodeType===1||ve)return Mt(Be,Mn,tn);return!1}:function(Be,Mn,tn){var kn,nr,vn=[oe,Ae];if(tn){for(;Be=Be[gt];)if((Be.nodeType===1||ve)&&Mt(Be,Mn,tn))return!0}else for(;Be=Be[gt];)if(Be.nodeType===1||ve)if(nr=Be[be]||(Be[be]={}),Dt&&W(Be,Dt))Be=Be[gt]||Be;else{if((kn=nr[Wt])&&kn[0]===oe&&kn[1]===Ae)return vn[2]=kn[2];if(nr[Wt]=vn,vn[2]=Mt(Be,Mn,tn))return!0}return!1}}function bs(Mt){return Mt.length>1?function(Yt,fe,gt){for(var Dt=Mt.length;Dt--;)if(!Mt[Dt](Yt,fe,gt))return!1;return!0}:Mt[0]}function qa(Mt,Yt,fe){for(var gt=0,Dt=Yt.length;gt<Dt;gt++)Jn(Mt,Yt[gt],fe);return fe}function to(Mt,Yt,fe,gt,Dt){for(var Wt,ve=[],Ae=0,Be=Mt.length,Mn=Yt!=null;Ae<Be;Ae++)(Wt=Mt[Ae])&&(!fe||fe(Wt,gt,Dt))&&(ve.push(Wt),Mn&&Yt.push(Ae));return ve}function wi(Mt,Yt,fe,gt,Dt,Wt){return gt&&!gt[be]&&(gt=wi(gt)),Dt&&!Dt[be]&&(Dt=wi(Dt,Wt)),Jr(function(ve,Ae,Be,Mn){var tn,kn,nr,vn,mr=[],vi=[],Ir=Ae.length,ui=ve||qa(Yt||"*",Be.nodeType?[Be]:Be,[]),Ei=Mt&&(ve||!Yt)?to(ui,mr,Mt,Be,Mn):ui;if(fe?(vn=Dt||(ve?Mt:Ir||gt)?[]:Ae,fe(Ei,vn,Be,Mn)):vn=Ei,gt)for(tn=to(vn,vi),gt(tn,[],Be,Mn),kn=tn.length;kn--;)(nr=tn[kn])&&(vn[vi[kn]]=!(Ei[vi[kn]]=nr));if(ve){if(Dt||Mt){if(Dt){for(tn=[],kn=vn.length;kn--;)(nr=vn[kn])&&tn.push(Ei[kn]=nr);Dt(null,vn=[],tn,Mn)}for(kn=vn.length;kn--;)(nr=vn[kn])&&(tn=Dt?y.call(ve,nr):mr[kn])>-1&&(ve[tn]=!(Ae[tn]=nr))}}else vn=to(vn===Ae?vn.splice(Ir,vn.length):vn),Dt?Dt(null,Ae,vn,Mn):ot.apply(Ae,vn)})}function es(Mt){for(var Yt,fe,gt,Dt=Mt.length,Wt=P.relative[Mt[0].type],ve=Wt||P.relative[" "],Ae=Wt?1:0,Be=ts(function(kn){return kn===Yt},ve,!0),Mn=ts(function(kn){return y.call(Yt,kn)>-1},ve,!0),tn=[function(kn,nr,vn){var mr=!Wt&&(vn||nr!=H)||((Yt=nr).nodeType?Be(kn,nr,vn):Mn(kn,nr,vn));return Yt=null,mr}];Ae<Dt;Ae++)if(fe=P.relative[Mt[Ae].type])tn=[ts(bs(tn),fe)];else{if(fe=P.filter[Mt[Ae].type].apply(null,Mt[Ae].matches),fe[be]){for(gt=++Ae;gt<Dt&&!P.relative[Mt[gt].type];gt++);return wi(Ae>1&&bs(tn),Ae>1&&bo(Mt.slice(0,Ae-1).concat({value:Mt[Ae-2].type===" "?"*":""})).replace(q,"$1"),fe,Ae<gt&&es(Mt.slice(Ae,gt)),gt<Dt&&es(Mt=Mt.slice(gt)),gt<Dt&&bo(Mt))}tn.push(fe)}return bs(tn)}function tu(Mt,Yt){var fe=Yt.length>0,gt=Mt.length>0,Dt=function(Wt,ve,Ae,Be,Mn){var tn,kn,nr,vn=0,mr="0",vi=Wt&&[],Ir=[],ui=H,Ei=Wt||gt&&P.find.TAG("*",Mn),lr=oe+=ui==null?1:Math.random()||.1,li=Ei.length;for(Mn&&(H=ve==ft||ve||Mn);mr!==li&&(tn=Ei[mr])!=null;mr++){if(gt&&tn){for(kn=0,!ve&&tn.ownerDocument!=ft&&(Ui(tn),Ae=!Ct);nr=Mt[kn++];)if(nr(tn,ve||ft,Ae)){ot.call(Be,tn);break}Mn&&(oe=lr)}fe&&((tn=!nr&&tn)&&vn--,Wt&&vi.push(tn))}if(vn+=mr,fe&&mr!==vn){for(kn=0;nr=Yt[kn++];)nr(vi,Ir,ve,Ae);if(Wt){if(vn>0)for(;mr--;)vi[mr]||Ir[mr]||(Ir[mr]=z.call(Be));Ir=to(Ir)}ot.apply(Be,Ir),Mn&&!Wt&&Ir.length>0&&vn+Yt.length>1&&g.uniqueSort(Be)}return Mn&&(oe=lr,H=ui),vi};return fe?Jr(Dt):Dt}function ws(Mt,Yt){var fe,gt=[],Dt=[],Wt=Nn[Mt+" "];if(!Wt){for(Yt||(Yt=Ti(Mt)),fe=Yt.length;fe--;)Wt=es(Yt[fe]),Wt[be]?gt.push(Wt):Dt.push(Wt);Wt=Nn(Mt,tu(Dt,gt)),Wt.selector=Mt}return Wt}function js(Mt,Yt,fe,gt){var Dt,Wt,ve,Ae,Be,Mn=typeof Mt=="function"&&Mt,tn=!gt&&Ti(Mt=Mn.selector||Mt);if(fe=fe||[],tn.length===1){if(Wt=tn[0]=tn[0].slice(0),Wt.length>2&&(ve=Wt[0]).type==="ID"&&Yt.nodeType===9&&Ct&&P.relative[Wt[1].type]){if(Yt=(P.find.ID(ve.matches[0].replace(Fn,er),Yt)||[])[0],Yt)Mn&&(Yt=Yt.parentNode);else return fe;Mt=Mt.slice(Wt.shift().value.length)}for(Dt=Ur.needsContext.test(Mt)?0:Wt.length;Dt--&&(ve=Wt[Dt],!P.relative[Ae=ve.type]);)if((Be=P.find[Ae])&&(gt=Be(ve.matches[0].replace(Fn,er),Fi.test(Wt[0].type)&&ms(Yt.parentNode)||Yt))){if(Wt.splice(Dt,1),Mt=gt.length&&bo(Wt),!Mt)return ot.apply(fe,gt),fe;break}}return(Mn||ws(Mt,tn))(gt,Yt,!Ct,fe,!Yt||Fi.test(Mt)&&ms(Yt.parentNode)||Yt),fe}Y.sortStable=be.split("").sort(pr).join("")===be,Ui(),Y.sortDetached=bi(function(Mt){return Mt.compareDocumentPosition(ft.createElement("fieldset"))&1}),g.find=Jn,g.expr[":"]=g.expr.pseudos,g.unique=g.uniqueSort,Jn.compile=ws,Jn.select=js,Jn.setDocument=Ui,Jn.tokenize=Ti,Jn.escape=g.escapeSelector,Jn.getText=g.text,Jn.isXML=g.isXMLDoc,Jn.selectors=g.expr,Jn.support=g.support,Jn.uniqueSort=g.uniqueSort})();var Kt=function(E,P,H){for(var Z=[],st=H!==void 0;(E=E[P])&&E.nodeType!==9;)if(E.nodeType===1){if(st&&g(E).is(H))break;Z.push(E)}return Z},jt=function(E,P){for(var H=[];E;E=E.nextSibling)E.nodeType===1&&E!==P&&H.push(E);return H},me=g.expr.match.needsContext,zt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function $t(E,P,H){return N(P)?g.grep(E,function(Z,st){return!!P.call(Z,st,Z)!==H}):P.nodeType?g.grep(E,function(Z){return Z===P!==H}):typeof P!="string"?g.grep(E,function(Z){return y.call(P,Z)>-1!==H}):g.filter(P,E,H)}g.filter=function(E,P,H){var Z=P[0];return H&&(E=":not("+E+")"),P.length===1&&Z.nodeType===1?g.find.matchesSelector(Z,E)?[Z]:[]:g.find.matches(E,g.grep(P,function(st){return st.nodeType===1}))},g.fn.extend({find:function(E){var P,H,Z=this.length,st=this;if(typeof E!="string")return this.pushStack(g(E).filter(function(){for(P=0;P<Z;P++)if(g.contains(st[P],this))return!0}));for(H=this.pushStack([]),P=0;P<Z;P++)g.find(E,st[P],H);return Z>1?g.uniqueSort(H):H},filter:function(E){return this.pushStack($t(this,E||[],!1))},not:function(E){return this.pushStack($t(this,E||[],!0))},is:function(E){return!!$t(this,typeof E=="string"&&me.test(E)?g(E):E||[],!1).length}});var Pt,Ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,se=g.fn.init=function(E,P,H){var Z,st;if(!E)return this;if(H=H||Pt,typeof E=="string")if(E[0]==="<"&&E[E.length-1]===">"&&E.length>=3?Z=[null,E,null]:Z=Ft.exec(E),Z&&(Z[1]||!P))if(Z[1]){if(P=P instanceof g?P[0]:P,g.merge(this,g.parseHTML(Z[1],P&&P.nodeType?P.ownerDocument||P:k,!0)),zt.test(Z[1])&&g.isPlainObject(P))for(Z in P)N(this[Z])?this[Z](P[Z]):this.attr(Z,P[Z]);return this}else return st=k.getElementById(Z[2]),st&&(this[0]=st,this.length=1),this;else return!P||P.jquery?(P||H).find(E):this.constructor(P).find(E);else{if(E.nodeType)return this[0]=E,this.length=1,this;if(N(E))return H.ready!==void 0?H.ready(E):E(g)}return g.makeArray(E,this)};se.prototype=g.fn,Pt=g(k);var de=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(E){var P=g(E,this),H=P.length;return this.filter(function(){for(var Z=0;Z<H;Z++)if(g.contains(this,P[Z]))return!0})},closest:function(E,P){var H,Z=0,st=this.length,ot=[],ft=typeof E!="string"&&g(E);if(!me.test(E)){for(;Z<st;Z++)for(H=this[Z];H&&H!==P;H=H.parentNode)if(H.nodeType<11&&(ft?ft.index(H)>-1:H.nodeType===1&&g.find.matchesSelector(H,E))){ot.push(H);break}}return this.pushStack(ot.length>1?g.uniqueSort(ot):ot)},index:function(E){return E?typeof E=="string"?y.call(g(E),this[0]):y.call(this,E.jquery?E[0]:E):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(E,P){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(E,P))))},addBack:function(E){return this.add(E==null?this.prevObject:this.prevObject.filter(E))}});function Oe(E,P){for(;(E=E[P])&&E.nodeType!==1;);return E}g.each({parent:function(E){var P=E.parentNode;return P&&P.nodeType!==11?P:null},parents:function(E){return Kt(E,"parentNode")},parentsUntil:function(E,P,H){return Kt(E,"parentNode",H)},next:function(E){return Oe(E,"nextSibling")},prev:function(E){return Oe(E,"previousSibling")},nextAll:function(E){return Kt(E,"nextSibling")},prevAll:function(E){return Kt(E,"previousSibling")},nextUntil:function(E,P,H){return Kt(E,"nextSibling",H)},prevUntil:function(E,P,H){return Kt(E,"previousSibling",H)},siblings:function(E){return jt((E.parentNode||{}).firstChild,E)},children:function(E){return jt(E.firstChild)},contents:function(E){return E.contentDocument!=null&&a(E.contentDocument)?E.contentDocument:(W(E,"template")&&(E=E.content||E),g.merge([],E.childNodes))}},function(E,P){g.fn[E]=function(H,Z){var st=g.map(this,P,H);return E.slice(-5)!=="Until"&&(Z=H),Z&&typeof Z=="string"&&(st=g.filter(Z,st)),this.length>1&&(Ie[E]||g.uniqueSort(st),de.test(E)&&st.reverse()),this.pushStack(st)}});var Qt=/[^\x20\t\r\n\f]+/g;function $e(E){var P={};return g.each(E.match(Qt)||[],function(H,Z){P[Z]=!0}),P}g.Callbacks=function(E){E=typeof E=="string"?$e(E):g.extend({},E);var P,H,Z,st,ot=[],ft=[],Lt=-1,Ct=function(){for(st=st||E.once,Z=P=!0;ft.length;Lt=-1)for(H=ft.shift();++Lt<ot.length;)ot[Lt].apply(H[0],H[1])===!1&&E.stopOnFalse&&(Lt=ot.length,H=!1);E.memory||(H=!1),P=!1,st&&(H?ot=[]:ot="")},Ht={add:function(){return ot&&(H&&!P&&(Lt=ot.length-1,ft.push(H)),function ce(be){g.each(be,function(oe,Ee){N(Ee)?(!E.unique||!Ht.has(Ee))&&ot.push(Ee):Ee&&Ee.length&&K(Ee)!=="string"&&ce(Ee)})}(arguments),H&&!P&&Ct()),this},remove:function(){return g.each(arguments,function(ce,be){for(var oe;(oe=g.inArray(be,ot,oe))>-1;)ot.splice(oe,1),oe<=Lt&&Lt--}),this},has:function(ce){return ce?g.inArray(ce,ot)>-1:ot.length>0},empty:function(){return ot&&(ot=[]),this},disable:function(){return st=ft=[],ot=H="",this},disabled:function(){return!ot},lock:function(){return st=ft=[],!H&&!P&&(ot=H=""),this},locked:function(){return!!st},fireWith:function(ce,be){return st||(be=be||[],be=[ce,be.slice?be.slice():be],ft.push(be),P||Ct()),this},fire:function(){return Ht.fireWith(this,arguments),this},fired:function(){return!!Z}};return Ht};function rn(E){return E}function ln(E){throw E}function fn(E,P,H,Z){var st;try{E&&N(st=E.promise)?st.call(E).done(P).fail(H):E&&N(st=E.then)?st.call(E,P,H):P.apply(void 0,[E].slice(Z))}catch(ot){H.apply(void 0,[ot])}}g.extend({Deferred:function(E){var P=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],H="pending",Z={state:function(){return H},always:function(){return st.done(arguments).fail(arguments),this},catch:function(ot){return Z.then(null,ot)},pipe:function(){var ot=arguments;return g.Deferred(function(ft){g.each(P,function(Lt,Ct){var Ht=N(ot[Ct[4]])&&ot[Ct[4]];st[Ct[1]](function(){var ce=Ht&&Ht.apply(this,arguments);ce&&N(ce.promise)?ce.promise().progress(ft.notify).done(ft.resolve).fail(ft.reject):ft[Ct[0]+"With"](this,Ht?[ce]:arguments)})}),ot=null}).promise()},then:function(ot,ft,Lt){var Ct=0;function Ht(ce,be,oe,Ee){return function(){var wn=this,Qn=arguments,Nn=function(){var pr,ei;if(!(ce<Ct)){if(pr=oe.apply(wn,Qn),pr===be.promise())throw new TypeError("Thenable self-resolution");ei=pr&&(typeof pr=="object"||typeof pr=="function")&&pr.then,N(ei)?Ee?ei.call(pr,Ht(Ct,be,rn,Ee),Ht(Ct,be,ln,Ee)):(Ct++,ei.call(pr,Ht(Ct,be,rn,Ee),Ht(Ct,be,ln,Ee),Ht(Ct,be,rn,be.notifyWith))):(oe!==rn&&(wn=void 0,Qn=[pr]),(Ee||be.resolveWith)(wn,Qn))}},Lr=Ee?Nn:function(){try{Nn()}catch(pr){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(pr,Lr.error),ce+1>=Ct&&(oe!==ln&&(wn=void 0,Qn=[pr]),be.rejectWith(wn,Qn))}};ce?Lr():(g.Deferred.getErrorHook?Lr.error=g.Deferred.getErrorHook():g.Deferred.getStackHook&&(Lr.error=g.Deferred.getStackHook()),o.setTimeout(Lr))}}return g.Deferred(function(ce){P[0][3].add(Ht(0,ce,N(Lt)?Lt:rn,ce.notifyWith)),P[1][3].add(Ht(0,ce,N(ot)?ot:rn)),P[2][3].add(Ht(0,ce,N(ft)?ft:ln))}).promise()},promise:function(ot){return ot!=null?g.extend(ot,Z):Z}},st={};return g.each(P,function(ot,ft){var Lt=ft[2],Ct=ft[5];Z[ft[1]]=Lt.add,Ct&&Lt.add(function(){H=Ct},P[3-ot][2].disable,P[3-ot][3].disable,P[0][2].lock,P[0][3].lock),Lt.add(ft[3].fire),st[ft[0]]=function(){return st[ft[0]+"With"](this===st?void 0:this,arguments),this},st[ft[0]+"With"]=Lt.fireWith}),Z.promise(st),E&&E.call(st,st),st},when:function(E){var P=arguments.length,H=P,Z=Array(H),st=u.call(arguments),ot=g.Deferred(),ft=function(Lt){return function(Ct){Z[Lt]=this,st[Lt]=arguments.length>1?u.call(arguments):Ct,--P||ot.resolveWith(Z,st)}};if(P<=1&&(fn(E,ot.done(ft(H)).resolve,ot.reject,!P),ot.state()==="pending"||N(st[H]&&st[H].then)))return ot.then();for(;H--;)fn(st[H],ft(H),ot.reject);return ot.promise()}});var Pe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(E,P){o.console&&o.console.warn&&E&&Pe.test(E.name)&&o.console.warn("jQuery.Deferred exception: "+E.message,E.stack,P)},g.readyException=function(E){o.setTimeout(function(){throw E})};var un=g.Deferred();g.fn.ready=function(E){return un.then(E).catch(function(P){g.readyException(P)}),this},g.extend({isReady:!1,readyWait:1,ready:function(E){(E===!0?--g.readyWait:g.isReady)||(g.isReady=!0,!(E!==!0&&--g.readyWait>0)&&un.resolveWith(k,[g]))}}),g.ready.then=un.then;function cn(){k.removeEventListener("DOMContentLoaded",cn),o.removeEventListener("load",cn),g.ready()}k.readyState==="complete"||k.readyState!=="loading"&&!k.documentElement.doScroll?o.setTimeout(g.ready):(k.addEventListener("DOMContentLoaded",cn),o.addEventListener("load",cn));var sn=function(E,P,H,Z,st,ot,ft){var Lt=0,Ct=E.length,Ht=H==null;if(K(H)==="object"){st=!0;for(Lt in H)sn(E,P,Lt,H[Lt],!0,ot,ft)}else if(Z!==void 0&&(st=!0,N(Z)||(ft=!0),Ht&&(ft?(P.call(E,Z),P=null):(Ht=P,P=function(ce,be,oe){return Ht.call(g(ce),oe)})),P))for(;Lt<Ct;Lt++)P(E[Lt],H,ft?Z:Z.call(E[Lt],Lt,P(E[Lt],H)));return st?E:Ht?P.call(E):Ct?P(E[0],H):ot},hn=/^-ms-/,Vn=/-([a-z])/g;function Or(E,P){return P.toUpperCase()}function Hn(E){return E.replace(hn,"ms-").replace(Vn,Or)}var pe=function(E){return E.nodeType===1||E.nodeType===9||!+E.nodeType};function bt(){this.expando=g.expando+bt.uid++}bt.uid=1,bt.prototype={cache:function(E){var P=E[this.expando];return P||(P={},pe(E)&&(E.nodeType?E[this.expando]=P:Object.defineProperty(E,this.expando,{value:P,configurable:!0}))),P},set:function(E,P,H){var Z,st=this.cache(E);if(typeof P=="string")st[Hn(P)]=H;else for(Z in P)st[Hn(Z)]=P[Z];return st},get:function(E,P){return P===void 0?this.cache(E):E[this.expando]&&E[this.expando][Hn(P)]},access:function(E,P,H){return P===void 0||P&&typeof P=="string"&&H===void 0?this.get(E,P):(this.set(E,P,H),H!==void 0?H:P)},remove:function(E,P){var H,Z=E[this.expando];if(Z!==void 0){if(P!==void 0)for(Array.isArray(P)?P=P.map(Hn):(P=Hn(P),P=P in Z?[P]:P.match(Qt)||[]),H=P.length;H--;)delete Z[P[H]];(P===void 0||g.isEmptyObject(Z))&&(E.nodeType?E[this.expando]=void 0:delete E[this.expando])}},hasData:function(E){var P=E[this.expando];return P!==void 0&&!g.isEmptyObject(P)}};var Ze=new bt,hr=new bt,ge=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/[A-Z]/g;function Ut(E){return E==="true"?!0:E==="false"?!1:E==="null"?null:E===+E+""?+E:ge.test(E)?JSON.parse(E):E}function I(E,P,H){var Z;if(H===void 0&&E.nodeType===1)if(Z="data-"+P.replace(Ne,"-$&").toLowerCase(),H=E.getAttribute(Z),typeof H=="string"){try{H=Ut(H)}catch{}hr.set(E,P,H)}else H=void 0;return H}g.extend({hasData:function(E){return hr.hasData(E)||Ze.hasData(E)},data:function(E,P,H){return hr.access(E,P,H)},removeData:function(E,P){hr.remove(E,P)},_data:function(E,P,H){return Ze.access(E,P,H)},_removeData:function(E,P){Ze.remove(E,P)}}),g.fn.extend({data:function(E,P){var H,Z,st,ot=this[0],ft=ot&&ot.attributes;if(E===void 0){if(this.length&&(st=hr.get(ot),ot.nodeType===1&&!Ze.get(ot,"hasDataAttrs"))){for(H=ft.length;H--;)ft[H]&&(Z=ft[H].name,Z.indexOf("data-")===0&&(Z=Hn(Z.slice(5)),I(ot,Z,st[Z])));Ze.set(ot,"hasDataAttrs",!0)}return st}return typeof E=="object"?this.each(function(){hr.set(this,E)}):sn(this,function(Lt){var Ct;if(ot&&Lt===void 0)return Ct=hr.get(ot,E),Ct!==void 0||(Ct=I(ot,E),Ct!==void 0)?Ct:void 0;this.each(function(){hr.set(this,E,Lt)})},null,P,arguments.length>1,null,!0)},removeData:function(E){return this.each(function(){hr.remove(this,E)})}}),g.extend({queue:function(E,P,H){var Z;if(E)return P=(P||"fx")+"queue",Z=Ze.get(E,P),H&&(!Z||Array.isArray(H)?Z=Ze.access(E,P,g.makeArray(H)):Z.push(H)),Z||[]},dequeue:function(E,P){P=P||"fx";var H=g.queue(E,P),Z=H.length,st=H.shift(),ot=g._queueHooks(E,P),ft=function(){g.dequeue(E,P)};st==="inprogress"&&(st=H.shift(),Z--),st&&(P==="fx"&&H.unshift("inprogress"),delete ot.stop,st.call(E,ft,ot)),!Z&&ot&&ot.empty.fire()},_queueHooks:function(E,P){var H=P+"queueHooks";return Ze.get(E,H)||Ze.access(E,H,{empty:g.Callbacks("once memory").add(function(){Ze.remove(E,[P+"queue",H])})})}}),g.fn.extend({queue:function(E,P){var H=2;return typeof E!="string"&&(P=E,E="fx",H--),arguments.length<H?g.queue(this[0],E):P===void 0?this:this.each(function(){var Z=g.queue(this,E,P);g._queueHooks(this,E),E==="fx"&&Z[0]!=="inprogress"&&g.dequeue(this,E)})},dequeue:function(E){return this.each(function(){g.dequeue(this,E)})},clearQueue:function(E){return this.queue(E||"fx",[])},promise:function(E,P){var H,Z=1,st=g.Deferred(),ot=this,ft=this.length,Lt=function(){--Z||st.resolveWith(ot,[ot])};for(typeof E!="string"&&(P=E,E=void 0),E=E||"fx";ft--;)H=Ze.get(ot[ft],E+"queueHooks"),H&&H.empty&&(Z++,H.empty.add(Lt));return Lt(),st.promise(P)}});var Et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ct=new RegExp("^(?:([+-])=|)("+Et+")([a-z%]*)$","i"),St=["Top","Right","Bottom","Left"],xt=k.documentElement,Ot=function(E){return g.contains(E.ownerDocument,E)},_t={composed:!0};xt.getRootNode&&(Ot=function(E){return g.contains(E.ownerDocument,E)||E.getRootNode(_t)===E.ownerDocument});var Bt=function(E,P){return E=P||E,E.style.display==="none"||E.style.display===""&&Ot(E)&&g.css(E,"display")==="none"};function re(E,P,H,Z){var st,ot,ft=20,Lt=Z?function(){return Z.cur()}:function(){return g.css(E,P,"")},Ct=Lt(),Ht=H&&H[3]||(g.cssNumber[P]?"":"px"),ce=E.nodeType&&(g.cssNumber[P]||Ht!=="px"&&+Ct)&&ct.exec(g.css(E,P));if(ce&&ce[3]!==Ht){for(Ct=Ct/2,Ht=Ht||ce[3],ce=+Ct||1;ft--;)g.style(E,P,ce+Ht),(1-ot)*(1-(ot=Lt()/Ct||.5))<=0&&(ft=0),ce=ce/ot;ce=ce*2,g.style(E,P,ce+Ht),H=H||[]}return H&&(ce=+ce||+Ct||0,st=H[1]?ce+(H[1]+1)*H[2]:+H[2],Z&&(Z.unit=Ht,Z.start=ce,Z.end=st)),st}var Gt={};function De(E){var P,H=E.ownerDocument,Z=E.nodeName,st=Gt[Z];return st||(P=H.body.appendChild(H.createElement(Z)),st=g.css(P,"display"),P.parentNode.removeChild(P),st==="none"&&(st="block"),Gt[Z]=st,st)}function te(E,P){for(var H,Z,st=[],ot=0,ft=E.length;ot<ft;ot++)Z=E[ot],Z.style&&(H=Z.style.display,P?(H==="none"&&(st[ot]=Ze.get(Z,"display")||null,st[ot]||(Z.style.display="")),Z.style.display===""&&Bt(Z)&&(st[ot]=De(Z))):H!=="none"&&(st[ot]="none",Ze.set(Z,"display",H)));for(ot=0;ot<ft;ot++)st[ot]!=null&&(E[ot].style.display=st[ot]);return E}g.fn.extend({show:function(){return te(this,!0)},hide:function(){return te(this)},toggle:function(E){return typeof E=="boolean"?E?this.show():this.hide():this.each(function(){Bt(this)?g(this).show():g(this).hide()})}});var he=/^(?:checkbox|radio)$/i,He=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,en=/^$|^module$|\/(?:java|ecma)script/i;(function(){var E=k.createDocumentFragment(),P=E.appendChild(k.createElement("div")),H=k.createElement("input");H.setAttribute("type","radio"),H.setAttribute("checked","checked"),H.setAttribute("name","t"),P.appendChild(H),Y.checkClone=P.cloneNode(!0).cloneNode(!0).lastChild.checked,P.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!P.cloneNode(!0).lastChild.defaultValue,P.innerHTML="<option></option>",Y.option=!!P.lastChild})();var qe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qe.tbody=qe.tfoot=qe.colgroup=qe.caption=qe.thead,qe.th=qe.td,Y.option||(qe.optgroup=qe.option=[1,"<select multiple='multiple'>","</select>"]);function ze(E,P){var H;return typeof E.getElementsByTagName<"u"?H=E.getElementsByTagName(P||"*"):typeof E.querySelectorAll<"u"?H=E.querySelectorAll(P||"*"):H=[],P===void 0||P&&W(E,P)?g.merge([E],H):H}function xe(E,P){for(var H=0,Z=E.length;H<Z;H++)Ze.set(E[H],"globalEval",!P||Ze.get(P[H],"globalEval"))}var je=/<|&#?\w+;/;function Me(E,P,H,Z,st){for(var ot,ft,Lt,Ct,Ht,ce,be=P.createDocumentFragment(),oe=[],Ee=0,wn=E.length;Ee<wn;Ee++)if(ot=E[Ee],ot||ot===0)if(K(ot)==="object")g.merge(oe,ot.nodeType?[ot]:ot);else if(!je.test(ot))oe.push(P.createTextNode(ot));else{for(ft=ft||be.appendChild(P.createElement("div")),Lt=(He.exec(ot)||["",""])[1].toLowerCase(),Ct=qe[Lt]||qe._default,ft.innerHTML=Ct[1]+g.htmlPrefilter(ot)+Ct[2],ce=Ct[0];ce--;)ft=ft.lastChild;g.merge(oe,ft.childNodes),ft=be.firstChild,ft.textContent=""}for(be.textContent="",Ee=0;ot=oe[Ee++];){if(Z&&g.inArray(ot,Z)>-1){st&&st.push(ot);continue}if(Ht=Ot(ot),ft=ze(be.appendChild(ot),"script"),Ht&&xe(ft),H)for(ce=0;ot=ft[ce++];)en.test(ot.type||"")&&H.push(ot)}return be}var Ue=/^([^.]*)(?:\.(.+)|)/;function Sn(){return!0}function Ke(){return!1}function mn(E,P,H,Z,st,ot){var ft,Lt;if(typeof P=="object"){typeof H!="string"&&(Z=Z||H,H=void 0);for(Lt in P)mn(E,Lt,H,Z,P[Lt],ot);return E}if(Z==null&&st==null?(st=H,Z=H=void 0):st==null&&(typeof H=="string"?(st=Z,Z=void 0):(st=Z,Z=H,H=void 0)),st===!1)st=Ke;else if(!st)return E;return ot===1&&(ft=st,st=function(Ct){return g().off(Ct),ft.apply(this,arguments)},st.guid=ft.guid||(ft.guid=g.guid++)),E.each(function(){g.event.add(this,P,st,Z,H)})}g.event={global:{},add:function(E,P,H,Z,st){var ot,ft,Lt,Ct,Ht,ce,be,oe,Ee,wn,Qn,Nn=Ze.get(E);if(pe(E))for(H.handler&&(ot=H,H=ot.handler,st=ot.selector),st&&g.find.matchesSelector(xt,st),H.guid||(H.guid=g.guid++),(Ct=Nn.events)||(Ct=Nn.events=Object.create(null)),(ft=Nn.handle)||(ft=Nn.handle=function(Lr){return typeof g<"u"&&g.event.triggered!==Lr.type?g.event.dispatch.apply(E,arguments):void 0}),P=(P||"").match(Qt)||[""],Ht=P.length;Ht--;)Lt=Ue.exec(P[Ht])||[],Ee=Qn=Lt[1],wn=(Lt[2]||"").split(".").sort(),Ee&&(be=g.event.special[Ee]||{},Ee=(st?be.delegateType:be.bindType)||Ee,be=g.event.special[Ee]||{},ce=g.extend({type:Ee,origType:Qn,data:Z,handler:H,guid:H.guid,selector:st,needsContext:st&&g.expr.match.needsContext.test(st),namespace:wn.join(".")},ot),(oe=Ct[Ee])||(oe=Ct[Ee]=[],oe.delegateCount=0,(!be.setup||be.setup.call(E,Z,wn,ft)===!1)&&E.addEventListener&&E.addEventListener(Ee,ft)),be.add&&(be.add.call(E,ce),ce.handler.guid||(ce.handler.guid=H.guid)),st?oe.splice(oe.delegateCount++,0,ce):oe.push(ce),g.event.global[Ee]=!0)},remove:function(E,P,H,Z,st){var ot,ft,Lt,Ct,Ht,ce,be,oe,Ee,wn,Qn,Nn=Ze.hasData(E)&&Ze.get(E);if(!(!Nn||!(Ct=Nn.events))){for(P=(P||"").match(Qt)||[""],Ht=P.length;Ht--;){if(Lt=Ue.exec(P[Ht])||[],Ee=Qn=Lt[1],wn=(Lt[2]||"").split(".").sort(),!Ee){for(Ee in Ct)g.event.remove(E,Ee+P[Ht],H,Z,!0);continue}for(be=g.event.special[Ee]||{},Ee=(Z?be.delegateType:be.bindType)||Ee,oe=Ct[Ee]||[],Lt=Lt[2]&&new RegExp("(^|\\.)"+wn.join("\\.(?:.*\\.|)")+"(\\.|$)"),ft=ot=oe.length;ot--;)ce=oe[ot],(st||Qn===ce.origType)&&(!H||H.guid===ce.guid)&&(!Lt||Lt.test(ce.namespace))&&(!Z||Z===ce.selector||Z==="**"&&ce.selector)&&(oe.splice(ot,1),ce.selector&&oe.delegateCount--,be.remove&&be.remove.call(E,ce));ft&&!oe.length&&((!be.teardown||be.teardown.call(E,wn,Nn.handle)===!1)&&g.removeEvent(E,Ee,Nn.handle),delete Ct[Ee])}g.isEmptyObject(Ct)&&Ze.remove(E,"handle events")}},dispatch:function(E){var P,H,Z,st,ot,ft,Lt=new Array(arguments.length),Ct=g.event.fix(E),Ht=(Ze.get(this,"events")||Object.create(null))[Ct.type]||[],ce=g.event.special[Ct.type]||{};for(Lt[0]=Ct,P=1;P<arguments.length;P++)Lt[P]=arguments[P];if(Ct.delegateTarget=this,!(ce.preDispatch&&ce.preDispatch.call(this,Ct)===!1)){for(ft=g.event.handlers.call(this,Ct,Ht),P=0;(st=ft[P++])&&!Ct.isPropagationStopped();)for(Ct.currentTarget=st.elem,H=0;(ot=st.handlers[H++])&&!Ct.isImmediatePropagationStopped();)(!Ct.rnamespace||ot.namespace===!1||Ct.rnamespace.test(ot.namespace))&&(Ct.handleObj=ot,Ct.data=ot.data,Z=((g.event.special[ot.origType]||{}).handle||ot.handler).apply(st.elem,Lt),Z!==void 0&&(Ct.result=Z)===!1&&(Ct.preventDefault(),Ct.stopPropagation()));return ce.postDispatch&&ce.postDispatch.call(this,Ct),Ct.result}},handlers:function(E,P){var H,Z,st,ot,ft,Lt=[],Ct=P.delegateCount,Ht=E.target;if(Ct&&Ht.nodeType&&!(E.type==="click"&&E.button>=1)){for(;Ht!==this;Ht=Ht.parentNode||this)if(Ht.nodeType===1&&!(E.type==="click"&&Ht.disabled===!0)){for(ot=[],ft={},H=0;H<Ct;H++)Z=P[H],st=Z.selector+" ",ft[st]===void 0&&(ft[st]=Z.needsContext?g(st,this).index(Ht)>-1:g.find(st,this,null,[Ht]).length),ft[st]&&ot.push(Z);ot.length&&Lt.push({elem:Ht,handlers:ot})}}return Ht=this,Ct<P.length&&Lt.push({elem:Ht,handlers:P.slice(Ct)}),Lt},addProp:function(E,P){Object.defineProperty(g.Event.prototype,E,{enumerable:!0,configurable:!0,get:N(P)?function(){if(this.originalEvent)return P(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[E]},set:function(H){Object.defineProperty(this,E,{enumerable:!0,configurable:!0,writable:!0,value:H})}})},fix:function(E){return E[g.expando]?E:new g.Event(E)},special:{load:{noBubble:!0},click:{setup:function(E){var P=this||E;return he.test(P.type)&&P.click&&W(P,"input")&&Bn(P,"click",!0),!1},trigger:function(E){var P=this||E;return he.test(P.type)&&P.click&&W(P,"input")&&Bn(P,"click"),!0},_default:function(E){var P=E.target;return he.test(P.type)&&P.click&&W(P,"input")&&Ze.get(P,"click")||W(P,"a")}},beforeunload:{postDispatch:function(E){E.result!==void 0&&E.originalEvent&&(E.originalEvent.returnValue=E.result)}}}};function Bn(E,P,H){if(!H){Ze.get(E,P)===void 0&&g.event.add(E,P,Sn);return}Ze.set(E,P,!1),g.event.add(E,P,{namespace:!1,handler:function(Z){var st,ot=Ze.get(this,P);if(Z.isTrigger&1&&this[P]){if(ot)(g.event.special[P]||{}).delegateType&&Z.stopPropagation();else if(ot=u.call(arguments),Ze.set(this,P,ot),this[P](),st=Ze.get(this,P),Ze.set(this,P,!1),ot!==st)return Z.stopImmediatePropagation(),Z.preventDefault(),st}else ot&&(Ze.set(this,P,g.event.trigger(ot[0],ot.slice(1),this)),Z.stopPropagation(),Z.isImmediatePropagationStopped=Sn)}})}g.removeEvent=function(E,P,H){E.removeEventListener&&E.removeEventListener(P,H)},g.Event=function(E,P){if(!(this instanceof g.Event))return new g.Event(E,P);E&&E.type?(this.originalEvent=E,this.type=E.type,this.isDefaultPrevented=E.defaultPrevented||E.defaultPrevented===void 0&&E.returnValue===!1?Sn:Ke,this.target=E.target&&E.target.nodeType===3?E.target.parentNode:E.target,this.currentTarget=E.currentTarget,this.relatedTarget=E.relatedTarget):this.type=E,P&&g.extend(this,P),this.timeStamp=E&&E.timeStamp||Date.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:Ke,isPropagationStopped:Ke,isImmediatePropagationStopped:Ke,isSimulated:!1,preventDefault:function(){var E=this.originalEvent;this.isDefaultPrevented=Sn,E&&!this.isSimulated&&E.preventDefault()},stopPropagation:function(){var E=this.originalEvent;this.isPropagationStopped=Sn,E&&!this.isSimulated&&E.stopPropagation()},stopImmediatePropagation:function(){var E=this.originalEvent;this.isImmediatePropagationStopped=Sn,E&&!this.isSimulated&&E.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},g.event.addProp),g.each({focus:"focusin",blur:"focusout"},function(E,P){function H(Z){if(k.documentMode){var st=Ze.get(this,"handle"),ot=g.event.fix(Z);ot.type=Z.type==="focusin"?"focus":"blur",ot.isSimulated=!0,st(Z),ot.target===ot.currentTarget&&st(ot)}else g.event.simulate(P,Z.target,g.event.fix(Z))}g.event.special[E]={setup:function(){var Z;if(Bn(this,E,!0),k.documentMode)Z=Ze.get(this,P),Z||this.addEventListener(P,H),Ze.set(this,P,(Z||0)+1);else return!1},trigger:function(){return Bn(this,E),!0},teardown:function(){var Z;if(k.documentMode)Z=Ze.get(this,P)-1,Z?Ze.set(this,P,Z):(this.removeEventListener(P,H),Ze.remove(this,P));else return!1},_default:function(Z){return Ze.get(Z.target,E)},delegateType:P},g.event.special[P]={setup:function(){var Z=this.ownerDocument||this.document||this,st=k.documentMode?this:Z,ot=Ze.get(st,P);ot||(k.documentMode?this.addEventListener(P,H):Z.addEventListener(E,H,!0)),Ze.set(st,P,(ot||0)+1)},teardown:function(){var Z=this.ownerDocument||this.document||this,st=k.documentMode?this:Z,ot=Ze.get(st,P)-1;ot?Ze.set(st,P,ot):(k.documentMode?this.removeEventListener(P,H):Z.removeEventListener(E,H,!0),Ze.remove(st,P))}}}),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(E,P){g.event.special[E]={delegateType:P,bindType:P,handle:function(H){var Z,st=this,ot=H.relatedTarget,ft=H.handleObj;return(!ot||ot!==st&&!g.contains(st,ot))&&(H.type=ft.origType,Z=ft.handler.apply(this,arguments),H.type=P),Z}}}),g.fn.extend({on:function(E,P,H,Z){return mn(this,E,P,H,Z)},one:function(E,P,H,Z){return mn(this,E,P,H,Z,1)},off:function(E,P,H){var Z,st;if(E&&E.preventDefault&&E.handleObj)return Z=E.handleObj,g(E.delegateTarget).off(Z.namespace?Z.origType+"."+Z.namespace:Z.origType,Z.selector,Z.handler),this;if(typeof E=="object"){for(st in E)this.off(st,P,E[st]);return this}return(P===!1||typeof P=="function")&&(H=P,P=void 0),H===!1&&(H=Ke),this.each(function(){g.event.remove(this,E,H,P)})}});var Zn=/<script|<style|<link/i,ir=/checked\s*(?:[^=]|=\s*.checked.)/i,Sr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Tn(E,P){return W(E,"table")&&W(P.nodeType!==11?P:P.firstChild,"tr")&&g(E).children("tbody")[0]||E}function On(E){return E.type=(E.getAttribute("type")!==null)+"/"+E.type,E}function Un(E){return(E.type||"").slice(0,5)==="true/"?E.type=E.type.slice(5):E.removeAttribute("type"),E}function vr(E,P){var H,Z,st,ot,ft,Lt,Ct;if(P.nodeType===1){if(Ze.hasData(E)&&(ot=Ze.get(E),Ct=ot.events,Ct)){Ze.remove(P,"handle events");for(st in Ct)for(H=0,Z=Ct[st].length;H<Z;H++)g.event.add(P,st,Ct[st][H])}hr.hasData(E)&&(ft=hr.access(E),Lt=g.extend({},ft),hr.set(P,Lt))}}function Tr(E,P){var H=P.nodeName.toLowerCase();H==="input"&&he.test(E.type)?P.checked=E.checked:(H==="input"||H==="textarea")&&(P.defaultValue=E.defaultValue)}function ur(E,P,H,Z){P=h(P);var st,ot,ft,Lt,Ct,Ht,ce=0,be=E.length,oe=be-1,Ee=P[0],wn=N(Ee);if(wn||be>1&&typeof Ee=="string"&&!Y.checkClone&&ir.test(Ee))return E.each(function(Qn){var Nn=E.eq(Qn);wn&&(P[0]=Ee.call(this,Qn,Nn.html())),ur(Nn,P,H,Z)});if(be&&(st=Me(P,E[0].ownerDocument,!1,E,Z),ot=st.firstChild,st.childNodes.length===1&&(st=ot),ot||Z)){for(ft=g.map(ze(st,"script"),On),Lt=ft.length;ce<be;ce++)Ct=st,ce!==oe&&(Ct=g.clone(Ct,!0,!0),Lt&&g.merge(ft,ze(Ct,"script"))),H.call(E[ce],Ct,ce);if(Lt)for(Ht=ft[ft.length-1].ownerDocument,g.map(ft,Un),ce=0;ce<Lt;ce++)Ct=ft[ce],en.test(Ct.type||"")&&!Ze.access(Ct,"globalEval")&&g.contains(Ht,Ct)&&(Ct.src&&(Ct.type||"").toLowerCase()!=="module"?g._evalUrl&&!Ct.noModule&&g._evalUrl(Ct.src,{nonce:Ct.nonce||Ct.getAttribute("nonce")},Ht):et(Ct.textContent.replace(Sr,""),Ct,Ht))}return E}function zr(E,P,H){for(var Z,st=P?g.filter(P,E):E,ot=0;(Z=st[ot])!=null;ot++)!H&&Z.nodeType===1&&g.cleanData(ze(Z)),Z.parentNode&&(H&&Ot(Z)&&xe(ze(Z,"script")),Z.parentNode.removeChild(Z));return E}g.extend({htmlPrefilter:function(E){return E},clone:function(E,P,H){var Z,st,ot,ft,Lt=E.cloneNode(!0),Ct=Ot(E);if(!Y.noCloneChecked&&(E.nodeType===1||E.nodeType===11)&&!g.isXMLDoc(E))for(ft=ze(Lt),ot=ze(E),Z=0,st=ot.length;Z<st;Z++)Tr(ot[Z],ft[Z]);if(P)if(H)for(ot=ot||ze(E),ft=ft||ze(Lt),Z=0,st=ot.length;Z<st;Z++)vr(ot[Z],ft[Z]);else vr(E,Lt);return ft=ze(Lt,"script"),ft.length>0&&xe(ft,!Ct&&ze(E,"script")),Lt},cleanData:function(E){for(var P,H,Z,st=g.event.special,ot=0;(H=E[ot])!==void 0;ot++)if(pe(H)){if(P=H[Ze.expando]){if(P.events)for(Z in P.events)st[Z]?g.event.remove(H,Z):g.removeEvent(H,Z,P.handle);H[Ze.expando]=void 0}H[hr.expando]&&(H[hr.expando]=void 0)}}}),g.fn.extend({detach:function(E){return zr(this,E,!0)},remove:function(E){return zr(this,E)},text:function(E){return sn(this,function(P){return P===void 0?g.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=P)})},null,E,arguments.length)},append:function(){return ur(this,arguments,function(E){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var P=Tn(this,E);P.appendChild(E)}})},prepend:function(){return ur(this,arguments,function(E){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var P=Tn(this,E);P.insertBefore(E,P.firstChild)}})},before:function(){return ur(this,arguments,function(E){this.parentNode&&this.parentNode.insertBefore(E,this)})},after:function(){return ur(this,arguments,function(E){this.parentNode&&this.parentNode.insertBefore(E,this.nextSibling)})},empty:function(){for(var E,P=0;(E=this[P])!=null;P++)E.nodeType===1&&(g.cleanData(ze(E,!1)),E.textContent="");return this},clone:function(E,P){return E=E??!1,P=P??E,this.map(function(){return g.clone(this,E,P)})},html:function(E){return sn(this,function(P){var H=this[0]||{},Z=0,st=this.length;if(P===void 0&&H.nodeType===1)return H.innerHTML;if(typeof P=="string"&&!Zn.test(P)&&!qe[(He.exec(P)||["",""])[1].toLowerCase()]){P=g.htmlPrefilter(P);try{for(;Z<st;Z++)H=this[Z]||{},H.nodeType===1&&(g.cleanData(ze(H,!1)),H.innerHTML=P);H=0}catch{}}H&&this.empty().append(P)},null,E,arguments.length)},replaceWith:function(){var E=[];return ur(this,arguments,function(P){var H=this.parentNode;g.inArray(this,E)<0&&(g.cleanData(ze(this)),H&&H.replaceChild(P,this))},E)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(E,P){g.fn[E]=function(H){for(var Z,st=[],ot=g(H),ft=ot.length-1,Lt=0;Lt<=ft;Lt++)Z=Lt===ft?this:this.clone(!0),g(ot[Lt])[P](Z),p.apply(st,Z.get());return this.pushStack(st)}});var Ye=new RegExp("^("+Et+")(?!px)[a-z%]+$","i"),Kn=/^--/,or=function(E){var P=E.ownerDocument.defaultView;return(!P||!P.opener)&&(P=o),P.getComputedStyle(E)},Dn=function(E,P,H){var Z,st,ot={};for(st in P)ot[st]=E.style[st],E.style[st]=P[st];Z=H.call(E);for(st in P)E.style[st]=ot[st];return Z},Ar=new RegExp(St.join("|"),"i");(function(){function E(){if(Ht){Ct.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ht.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xt.appendChild(Ct).appendChild(Ht);var ce=o.getComputedStyle(Ht);H=ce.top!=="1%",Lt=P(ce.marginLeft)===12,Ht.style.right="60%",ot=P(ce.right)===36,Z=P(ce.width)===36,Ht.style.position="absolute",st=P(Ht.offsetWidth/3)===12,xt.removeChild(Ct),Ht=null}}function P(ce){return Math.round(parseFloat(ce))}var H,Z,st,ot,ft,Lt,Ct=k.createElement("div"),Ht=k.createElement("div");Ht.style&&(Ht.style.backgroundClip="content-box",Ht.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle=Ht.style.backgroundClip==="content-box",g.extend(Y,{boxSizingReliable:function(){return E(),Z},pixelBoxStyles:function(){return E(),ot},pixelPosition:function(){return E(),H},reliableMarginLeft:function(){return E(),Lt},scrollboxSize:function(){return E(),st},reliableTrDimensions:function(){var ce,be,oe,Ee;return ft==null&&(ce=k.createElement("table"),be=k.createElement("tr"),oe=k.createElement("div"),ce.style.cssText="position:absolute;left:-11111px;border-collapse:separate",be.style.cssText="box-sizing:content-box;border:1px solid",be.style.height="1px",oe.style.height="9px",oe.style.display="block",xt.appendChild(ce).appendChild(be).appendChild(oe),Ee=o.getComputedStyle(be),ft=parseInt(Ee.height,10)+parseInt(Ee.borderTopWidth,10)+parseInt(Ee.borderBottomWidth,10)===be.offsetHeight,xt.removeChild(ce)),ft}}))})();function _r(E,P,H){var Z,st,ot,ft,Lt=Kn.test(P),Ct=E.style;return H=H||or(E),H&&(ft=H.getPropertyValue(P)||H[P],Lt&&ft&&(ft=ft.replace(q,"$1")||void 0),ft===""&&!Ot(E)&&(ft=g.style(E,P)),!Y.pixelBoxStyles()&&Ye.test(ft)&&Ar.test(P)&&(Z=Ct.width,st=Ct.minWidth,ot=Ct.maxWidth,Ct.minWidth=Ct.maxWidth=Ct.width=ft,ft=H.width,Ct.width=Z,Ct.minWidth=st,Ct.maxWidth=ot)),ft!==void 0?ft+"":ft}function Kr(E,P){return{get:function(){if(E()){delete this.get;return}return(this.get=P).apply(this,arguments)}}}var Cr=["Webkit","Moz","ms"],Pr=k.createElement("div").style,si={};function En(E){for(var P=E[0].toUpperCase()+E.slice(1),H=Cr.length;H--;)if(E=Cr[H]+P,E in Pr)return E}function br(E){var P=g.cssProps[E]||si[E];return P||(E in Pr?E:si[E]=En(E)||E)}var Hr=/^(none|table(?!-c[ea]).+)/,Q={position:"absolute",visibility:"hidden",display:"block"},X={letterSpacing:"0",fontWeight:"400"};function $(E,P,H){var Z=ct.exec(P);return Z?Math.max(0,Z[2]-(H||0))+(Z[3]||"px"):P}function m(E,P,H,Z,st,ot){var ft=P==="width"?1:0,Lt=0,Ct=0,Ht=0;if(H===(Z?"border":"content"))return 0;for(;ft<4;ft+=2)H==="margin"&&(Ht+=g.css(E,H+St[ft],!0,st)),Z?(H==="content"&&(Ct-=g.css(E,"padding"+St[ft],!0,st)),H!=="margin"&&(Ct-=g.css(E,"border"+St[ft]+"Width",!0,st))):(Ct+=g.css(E,"padding"+St[ft],!0,st),H!=="padding"?Ct+=g.css(E,"border"+St[ft]+"Width",!0,st):Lt+=g.css(E,"border"+St[ft]+"Width",!0,st));return!Z&&ot>=0&&(Ct+=Math.max(0,Math.ceil(E["offset"+P[0].toUpperCase()+P.slice(1)]-ot-Ct-Lt-.5))||0),Ct+Ht}function x(E,P,H){var Z=or(E),st=!Y.boxSizingReliable()||H,ot=st&&g.css(E,"boxSizing",!1,Z)==="border-box",ft=ot,Lt=_r(E,P,Z),Ct="offset"+P[0].toUpperCase()+P.slice(1);if(Ye.test(Lt)){if(!H)return Lt;Lt="auto"}return(!Y.boxSizingReliable()&&ot||!Y.reliableTrDimensions()&&W(E,"tr")||Lt==="auto"||!parseFloat(Lt)&&g.css(E,"display",!1,Z)==="inline")&&E.getClientRects().length&&(ot=g.css(E,"boxSizing",!1,Z)==="border-box",ft=Ct in E,ft&&(Lt=E[Ct])),Lt=parseFloat(Lt)||0,Lt+m(E,P,H||(ot?"border":"content"),ft,Z,Lt)+"px"}g.extend({cssHooks:{opacity:{get:function(E,P){if(P){var H=_r(E,"opacity");return H===""?"1":H}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(E,P,H,Z){if(!(!E||E.nodeType===3||E.nodeType===8||!E.style)){var st,ot,ft,Lt=Hn(P),Ct=Kn.test(P),Ht=E.style;if(Ct||(P=br(Lt)),ft=g.cssHooks[P]||g.cssHooks[Lt],H!==void 0){if(ot=typeof H,ot==="string"&&(st=ct.exec(H))&&st[1]&&(H=re(E,P,st),ot="number"),H==null||H!==H)return;ot==="number"&&!Ct&&(H+=st&&st[3]||(g.cssNumber[Lt]?"":"px")),!Y.clearCloneStyle&&H===""&&P.indexOf("background")===0&&(Ht[P]="inherit"),(!ft||!("set"in ft)||(H=ft.set(E,H,Z))!==void 0)&&(Ct?Ht.setProperty(P,H):Ht[P]=H)}else return ft&&"get"in ft&&(st=ft.get(E,!1,Z))!==void 0?st:Ht[P]}},css:function(E,P,H,Z){var st,ot,ft,Lt=Hn(P),Ct=Kn.test(P);return Ct||(P=br(Lt)),ft=g.cssHooks[P]||g.cssHooks[Lt],ft&&"get"in ft&&(st=ft.get(E,!0,H)),st===void 0&&(st=_r(E,P,Z)),st==="normal"&&P in X&&(st=X[P]),H===""||H?(ot=parseFloat(st),H===!0||isFinite(ot)?ot||0:st):st}}),g.each(["height","width"],function(E,P){g.cssHooks[P]={get:function(H,Z,st){if(Z)return Hr.test(g.css(H,"display"))&&(!H.getClientRects().length||!H.getBoundingClientRect().width)?Dn(H,Q,function(){return x(H,P,st)}):x(H,P,st)},set:function(H,Z,st){var ot,ft=or(H),Lt=!Y.scrollboxSize()&&ft.position==="absolute",Ct=Lt||st,Ht=Ct&&g.css(H,"boxSizing",!1,ft)==="border-box",ce=st?m(H,P,st,Ht,ft):0;return Ht&&Lt&&(ce-=Math.ceil(H["offset"+P[0].toUpperCase()+P.slice(1)]-parseFloat(ft[P])-m(H,P,"border",!1,ft)-.5)),ce&&(ot=ct.exec(Z))&&(ot[3]||"px")!=="px"&&(H.style[P]=Z,Z=g.css(H,P)),$(H,Z,ce)}}}),g.cssHooks.marginLeft=Kr(Y.reliableMarginLeft,function(E,P){if(P)return(parseFloat(_r(E,"marginLeft"))||E.getBoundingClientRect().left-Dn(E,{marginLeft:0},function(){return E.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(E,P){g.cssHooks[E+P]={expand:function(H){for(var Z=0,st={},ot=typeof H=="string"?H.split(" "):[H];Z<4;Z++)st[E+St[Z]+P]=ot[Z]||ot[Z-2]||ot[0];return st}},E!=="margin"&&(g.cssHooks[E+P].set=$)}),g.fn.extend({css:function(E,P){return sn(this,function(H,Z,st){var ot,ft,Lt={},Ct=0;if(Array.isArray(Z)){for(ot=or(H),ft=Z.length;Ct<ft;Ct++)Lt[Z[Ct]]=g.css(H,Z[Ct],!1,ot);return Lt}return st!==void 0?g.style(H,Z,st):g.css(H,Z)},E,P,arguments.length>1)}});function S(E,P,H,Z,st){return new S.prototype.init(E,P,H,Z,st)}g.Tween=S,S.prototype={constructor:S,init:function(E,P,H,Z,st,ot){this.elem=E,this.prop=H,this.easing=st||g.easing._default,this.options=P,this.start=this.now=this.cur(),this.end=Z,this.unit=ot||(g.cssNumber[H]?"":"px")},cur:function(){var E=S.propHooks[this.prop];return E&&E.get?E.get(this):S.propHooks._default.get(this)},run:function(E){var P,H=S.propHooks[this.prop];return this.options.duration?this.pos=P=g.easing[this.easing](E,this.options.duration*E,0,1,this.options.duration):this.pos=P=E,this.now=(this.end-this.start)*P+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),H&&H.set?H.set(this):S.propHooks._default.set(this),this}},S.prototype.init.prototype=S.prototype,S.propHooks={_default:{get:function(E){var P;return E.elem.nodeType!==1||E.elem[E.prop]!=null&&E.elem.style[E.prop]==null?E.elem[E.prop]:(P=g.css(E.elem,E.prop,""),!P||P==="auto"?0:P)},set:function(E){g.fx.step[E.prop]?g.fx.step[E.prop](E):E.elem.nodeType===1&&(g.cssHooks[E.prop]||E.elem.style[br(E.prop)]!=null)?g.style(E.elem,E.prop,E.now+E.unit):E.elem[E.prop]=E.now}}},S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(E){E.elem.nodeType&&E.elem.parentNode&&(E.elem[E.prop]=E.now)}},g.easing={linear:function(E){return E},swing:function(E){return .5-Math.cos(E*Math.PI)/2},_default:"swing"},g.fx=S.prototype.init,g.fx.step={};var it,at,ht=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function Nt(){at&&(k.hidden===!1&&o.requestAnimationFrame?o.requestAnimationFrame(Nt):o.setTimeout(Nt,g.fx.interval),g.fx.tick())}function Rt(){return o.setTimeout(function(){it=void 0}),it=Date.now()}function Zt(E,P){var H,Z=0,st={height:E};for(P=P?1:0;Z<4;Z+=2-P)H=St[Z],st["margin"+H]=st["padding"+H]=E;return P&&(st.opacity=st.width=E),st}function we(E,P,H){for(var Z,st=(Je.tweeners[P]||[]).concat(Je.tweeners["*"]),ot=0,ft=st.length;ot<ft;ot++)if(Z=st[ot].call(H,P,E))return Z}function le(E,P,H){var Z,st,ot,ft,Lt,Ct,Ht,ce,be="width"in P||"height"in P,oe=this,Ee={},wn=E.style,Qn=E.nodeType&&Bt(E),Nn=Ze.get(E,"fxshow");H.queue||(ft=g._queueHooks(E,"fx"),ft.unqueued==null&&(ft.unqueued=0,Lt=ft.empty.fire,ft.empty.fire=function(){ft.unqueued||Lt()}),ft.unqueued++,oe.always(function(){oe.always(function(){ft.unqueued--,g.queue(E,"fx").length||ft.empty.fire()})}));for(Z in P)if(st=P[Z],ht.test(st)){if(delete P[Z],ot=ot||st==="toggle",st===(Qn?"hide":"show"))if(st==="show"&&Nn&&Nn[Z]!==void 0)Qn=!0;else continue;Ee[Z]=Nn&&Nn[Z]||g.style(E,Z)}if(Ct=!g.isEmptyObject(P),!(!Ct&&g.isEmptyObject(Ee))){be&&E.nodeType===1&&(H.overflow=[wn.overflow,wn.overflowX,wn.overflowY],Ht=Nn&&Nn.display,Ht==null&&(Ht=Ze.get(E,"display")),ce=g.css(E,"display"),ce==="none"&&(Ht?ce=Ht:(te([E],!0),Ht=E.style.display||Ht,ce=g.css(E,"display"),te([E]))),(ce==="inline"||ce==="inline-block"&&Ht!=null)&&g.css(E,"float")==="none"&&(Ct||(oe.done(function(){wn.display=Ht}),Ht==null&&(ce=wn.display,Ht=ce==="none"?"":ce)),wn.display="inline-block")),H.overflow&&(wn.overflow="hidden",oe.always(function(){wn.overflow=H.overflow[0],wn.overflowX=H.overflow[1],wn.overflowY=H.overflow[2]})),Ct=!1;for(Z in Ee)Ct||(Nn?"hidden"in Nn&&(Qn=Nn.hidden):Nn=Ze.access(E,"fxshow",{display:Ht}),ot&&(Nn.hidden=!Qn),Qn&&te([E],!0),oe.done(function(){Qn||te([E]),Ze.remove(E,"fxshow");for(Z in Ee)g.style(E,Z,Ee[Z])})),Ct=we(Qn?Nn[Z]:0,Z,oe),Z in Nn||(Nn[Z]=Ct.start,Qn&&(Ct.end=Ct.start,Ct.start=0))}}function We(E,P){var H,Z,st,ot,ft;for(H in E)if(Z=Hn(H),st=P[Z],ot=E[H],Array.isArray(ot)&&(st=ot[1],ot=E[H]=ot[0]),H!==Z&&(E[Z]=ot,delete E[H]),ft=g.cssHooks[Z],ft&&"expand"in ft){ot=ft.expand(ot),delete E[Z];for(H in ot)H in E||(E[H]=ot[H],P[H]=st)}else P[Z]=st}function Je(E,P,H){var Z,st,ot=0,ft=Je.prefilters.length,Lt=g.Deferred().always(function(){delete Ct.elem}),Ct=function(){if(st)return!1;for(var be=it||Rt(),oe=Math.max(0,Ht.startTime+Ht.duration-be),Ee=oe/Ht.duration||0,wn=1-Ee,Qn=0,Nn=Ht.tweens.length;Qn<Nn;Qn++)Ht.tweens[Qn].run(wn);return Lt.notifyWith(E,[Ht,wn,oe]),wn<1&&Nn?oe:(Nn||Lt.notifyWith(E,[Ht,1,0]),Lt.resolveWith(E,[Ht]),!1)},Ht=Lt.promise({elem:E,props:g.extend({},P),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},H),originalProperties:P,originalOptions:H,startTime:it||Rt(),duration:H.duration,tweens:[],createTween:function(be,oe){var Ee=g.Tween(E,Ht.opts,be,oe,Ht.opts.specialEasing[be]||Ht.opts.easing);return Ht.tweens.push(Ee),Ee},stop:function(be){var oe=0,Ee=be?Ht.tweens.length:0;if(st)return this;for(st=!0;oe<Ee;oe++)Ht.tweens[oe].run(1);return be?(Lt.notifyWith(E,[Ht,1,0]),Lt.resolveWith(E,[Ht,be])):Lt.rejectWith(E,[Ht,be]),this}}),ce=Ht.props;for(We(ce,Ht.opts.specialEasing);ot<ft;ot++)if(Z=Je.prefilters[ot].call(Ht,E,ce,Ht.opts),Z)return N(Z.stop)&&(g._queueHooks(Ht.elem,Ht.opts.queue).stop=Z.stop.bind(Z)),Z;return g.map(ce,we,Ht),N(Ht.opts.start)&&Ht.opts.start.call(E,Ht),Ht.progress(Ht.opts.progress).done(Ht.opts.done,Ht.opts.complete).fail(Ht.opts.fail).always(Ht.opts.always),g.fx.timer(g.extend(Ct,{elem:E,anim:Ht,queue:Ht.opts.queue})),Ht}g.Animation=g.extend(Je,{tweeners:{"*":[function(E,P){var H=this.createTween(E,P);return re(H.elem,E,ct.exec(P),H),H}]},tweener:function(E,P){N(E)?(P=E,E=["*"]):E=E.match(Qt);for(var H,Z=0,st=E.length;Z<st;Z++)H=E[Z],Je.tweeners[H]=Je.tweeners[H]||[],Je.tweeners[H].unshift(P)},prefilters:[le],prefilter:function(E,P){P?Je.prefilters.unshift(E):Je.prefilters.push(E)}}),g.speed=function(E,P,H){var Z=E&&typeof E=="object"?g.extend({},E):{complete:H||!H&&P||N(E)&&E,duration:E,easing:H&&P||P&&!N(P)&&P};return g.fx.off?Z.duration=0:typeof Z.duration!="number"&&(Z.duration in g.fx.speeds?Z.duration=g.fx.speeds[Z.duration]:Z.duration=g.fx.speeds._default),(Z.queue==null||Z.queue===!0)&&(Z.queue="fx"),Z.old=Z.complete,Z.complete=function(){N(Z.old)&&Z.old.call(this),Z.queue&&g.dequeue(this,Z.queue)},Z},g.fn.extend({fadeTo:function(E,P,H,Z){return this.filter(Bt).css("opacity",0).show().end().animate({opacity:P},E,H,Z)},animate:function(E,P,H,Z){var st=g.isEmptyObject(E),ot=g.speed(P,H,Z),ft=function(){var Lt=Je(this,g.extend({},E),ot);(st||Ze.get(this,"finish"))&&Lt.stop(!0)};return ft.finish=ft,st||ot.queue===!1?this.each(ft):this.queue(ot.queue,ft)},stop:function(E,P,H){var Z=function(st){var ot=st.stop;delete st.stop,ot(H)};return typeof E!="string"&&(H=P,P=E,E=void 0),P&&this.queue(E||"fx",[]),this.each(function(){var st=!0,ot=E!=null&&E+"queueHooks",ft=g.timers,Lt=Ze.get(this);if(ot)Lt[ot]&&Lt[ot].stop&&Z(Lt[ot]);else for(ot in Lt)Lt[ot]&&Lt[ot].stop&&ut.test(ot)&&Z(Lt[ot]);for(ot=ft.length;ot--;)ft[ot].elem===this&&(E==null||ft[ot].queue===E)&&(ft[ot].anim.stop(H),st=!1,ft.splice(ot,1));(st||!H)&&g.dequeue(this,E)})},finish:function(E){return E!==!1&&(E=E||"fx"),this.each(function(){var P,H=Ze.get(this),Z=H[E+"queue"],st=H[E+"queueHooks"],ot=g.timers,ft=Z?Z.length:0;for(H.finish=!0,g.queue(this,E,[]),st&&st.stop&&st.stop.call(this,!0),P=ot.length;P--;)ot[P].elem===this&&ot[P].queue===E&&(ot[P].anim.stop(!0),ot.splice(P,1));for(P=0;P<ft;P++)Z[P]&&Z[P].finish&&Z[P].finish.call(this);delete H.finish})}}),g.each(["toggle","show","hide"],function(E,P){var H=g.fn[P];g.fn[P]=function(Z,st,ot){return Z==null||typeof Z=="boolean"?H.apply(this,arguments):this.animate(Zt(P,!0),Z,st,ot)}}),g.each({slideDown:Zt("show"),slideUp:Zt("hide"),slideToggle:Zt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(E,P){g.fn[E]=function(H,Z,st){return this.animate(P,H,Z,st)}}),g.timers=[],g.fx.tick=function(){var E,P=0,H=g.timers;for(it=Date.now();P<H.length;P++)E=H[P],!E()&&H[P]===E&&H.splice(P--,1);H.length||g.fx.stop(),it=void 0},g.fx.timer=function(E){g.timers.push(E),g.fx.start()},g.fx.interval=13,g.fx.start=function(){at||(at=!0,Nt())},g.fx.stop=function(){at=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(E,P){return E=g.fx&&g.fx.speeds[E]||E,P=P||"fx",this.queue(P,function(H,Z){var st=o.setTimeout(H,E);Z.stop=function(){o.clearTimeout(st)}})},function(){var E=k.createElement("input"),P=k.createElement("select"),H=P.appendChild(k.createElement("option"));E.type="checkbox",Y.checkOn=E.value!=="",Y.optSelected=H.selected,E=k.createElement("input"),E.value="t",E.type="radio",Y.radioValue=E.value==="t"}();var Xt,ne=g.expr.attrHandle;g.fn.extend({attr:function(E,P){return sn(this,g.attr,E,P,arguments.length>1)},removeAttr:function(E){return this.each(function(){g.removeAttr(this,E)})}}),g.extend({attr:function(E,P,H){var Z,st,ot=E.nodeType;if(!(ot===3||ot===8||ot===2)){if(typeof E.getAttribute>"u")return g.prop(E,P,H);if((ot!==1||!g.isXMLDoc(E))&&(st=g.attrHooks[P.toLowerCase()]||(g.expr.match.bool.test(P)?Xt:void 0)),H!==void 0){if(H===null){g.removeAttr(E,P);return}return st&&"set"in st&&(Z=st.set(E,H,P))!==void 0?Z:(E.setAttribute(P,H+""),H)}return st&&"get"in st&&(Z=st.get(E,P))!==null?Z:(Z=g.find.attr(E,P),Z??void 0)}},attrHooks:{type:{set:function(E,P){if(!Y.radioValue&&P==="radio"&&W(E,"input")){var H=E.value;return E.setAttribute("type",P),H&&(E.value=H),P}}}},removeAttr:function(E,P){var H,Z=0,st=P&&P.match(Qt);if(st&&E.nodeType===1)for(;H=st[Z++];)E.removeAttribute(H)}}),Xt={set:function(E,P,H){return P===!1?g.removeAttr(E,H):E.setAttribute(H,H),H}},g.each(g.expr.match.bool.source.match(/\w+/g),function(E,P){var H=ne[P]||g.find.attr;ne[P]=function(Z,st,ot){var ft,Lt,Ct=st.toLowerCase();return ot||(Lt=ne[Ct],ne[Ct]=ft,ft=H(Z,st,ot)!=null?Ct:null,ne[Ct]=Lt),ft}});var ye=/^(?:input|select|textarea|button)$/i,Xe=/^(?:a|area)$/i;g.fn.extend({prop:function(E,P){return sn(this,g.prop,E,P,arguments.length>1)},removeProp:function(E){return this.each(function(){delete this[g.propFix[E]||E]})}}),g.extend({prop:function(E,P,H){var Z,st,ot=E.nodeType;if(!(ot===3||ot===8||ot===2))return(ot!==1||!g.isXMLDoc(E))&&(P=g.propFix[P]||P,st=g.propHooks[P]),H!==void 0?st&&"set"in st&&(Z=st.set(E,H,P))!==void 0?Z:E[P]=H:st&&"get"in st&&(Z=st.get(E,P))!==null?Z:E[P]},propHooks:{tabIndex:{get:function(E){var P=g.find.attr(E,"tabindex");return P?parseInt(P,10):ye.test(E.nodeName)||Xe.test(E.nodeName)&&E.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Y.optSelected||(g.propHooks.selected={get:function(E){var P=E.parentNode;return P&&P.parentNode&&P.parentNode.selectedIndex,null},set:function(E){var P=E.parentNode;P&&(P.selectedIndex,P.parentNode&&P.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this});function Le(E){var P=E.match(Qt)||[];return P.join(" ")}function zn(E){return E.getAttribute&&E.getAttribute("class")||""}function Wn(E){return Array.isArray(E)?E:typeof E=="string"?E.match(Qt)||[]:[]}g.fn.extend({addClass:function(E){var P,H,Z,st,ot,ft;return N(E)?this.each(function(Lt){g(this).addClass(E.call(this,Lt,zn(this)))}):(P=Wn(E),P.length?this.each(function(){if(Z=zn(this),H=this.nodeType===1&&" "+Le(Z)+" ",H){for(ot=0;ot<P.length;ot++)st=P[ot],H.indexOf(" "+st+" ")<0&&(H+=st+" ");ft=Le(H),Z!==ft&&this.setAttribute("class",ft)}}):this)},removeClass:function(E){var P,H,Z,st,ot,ft;return N(E)?this.each(function(Lt){g(this).removeClass(E.call(this,Lt,zn(this)))}):arguments.length?(P=Wn(E),P.length?this.each(function(){if(Z=zn(this),H=this.nodeType===1&&" "+Le(Z)+" ",H){for(ot=0;ot<P.length;ot++)for(st=P[ot];H.indexOf(" "+st+" ")>-1;)H=H.replace(" "+st+" "," ");ft=Le(H),Z!==ft&&this.setAttribute("class",ft)}}):this):this.attr("class","")},toggleClass:function(E,P){var H,Z,st,ot,ft=typeof E,Lt=ft==="string"||Array.isArray(E);return N(E)?this.each(function(Ct){g(this).toggleClass(E.call(this,Ct,zn(this),P),P)}):typeof P=="boolean"&&Lt?P?this.addClass(E):this.removeClass(E):(H=Wn(E),this.each(function(){if(Lt)for(ot=g(this),st=0;st<H.length;st++)Z=H[st],ot.hasClass(Z)?ot.removeClass(Z):ot.addClass(Z);else(E===void 0||ft==="boolean")&&(Z=zn(this),Z&&Ze.set(this,"__className__",Z),this.setAttribute&&this.setAttribute("class",Z||E===!1?"":Ze.get(this,"__className__")||""))}))},hasClass:function(E){var P,H,Z=0;for(P=" "+E+" ";H=this[Z++];)if(H.nodeType===1&&(" "+Le(zn(H))+" ").indexOf(P)>-1)return!0;return!1}});var yn=/\r/g;g.fn.extend({val:function(E){var P,H,Z,st=this[0];return arguments.length?(Z=N(E),this.each(function(ot){var ft;this.nodeType===1&&(Z?ft=E.call(this,ot,g(this).val()):ft=E,ft==null?ft="":typeof ft=="number"?ft+="":Array.isArray(ft)&&(ft=g.map(ft,function(Lt){return Lt==null?"":Lt+""})),P=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],(!P||!("set"in P)||P.set(this,ft,"value")===void 0)&&(this.value=ft))})):st?(P=g.valHooks[st.type]||g.valHooks[st.nodeName.toLowerCase()],P&&"get"in P&&(H=P.get(st,"value"))!==void 0?H:(H=st.value,typeof H=="string"?H.replace(yn,""):H??"")):void 0}}),g.extend({valHooks:{option:{get:function(E){var P=g.find.attr(E,"value");return P??Le(g.text(E))}},select:{get:function(E){var P,H,Z,st=E.options,ot=E.selectedIndex,ft=E.type==="select-one",Lt=ft?null:[],Ct=ft?ot+1:st.length;for(ot<0?Z=Ct:Z=ft?ot:0;Z<Ct;Z++)if(H=st[Z],(H.selected||Z===ot)&&!H.disabled&&(!H.parentNode.disabled||!W(H.parentNode,"optgroup"))){if(P=g(H).val(),ft)return P;Lt.push(P)}return Lt},set:function(E,P){for(var H,Z,st=E.options,ot=g.makeArray(P),ft=st.length;ft--;)Z=st[ft],(Z.selected=g.inArray(g.valHooks.option.get(Z),ot)>-1)&&(H=!0);return H||(E.selectedIndex=-1),ot}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(E,P){if(Array.isArray(P))return E.checked=g.inArray(g(E).val(),P)>-1}},Y.checkOn||(g.valHooks[this].get=function(E){return E.getAttribute("value")===null?"on":E.value})});var Pn=o.location,V={guid:Date.now()},rt=/\?/;g.parseXML=function(E){var P,H;if(!E||typeof E!="string")return null;try{P=new o.DOMParser().parseFromString(E,"text/xml")}catch{}return H=P&&P.getElementsByTagName("parsererror")[0],(!P||H)&&g.error("Invalid XML: "+(H?g.map(H.childNodes,function(Z){return Z.textContent}).join(`
`):E)),P};var lt=/^(?:focusinfocus|focusoutblur)$/,kt=function(E){E.stopPropagation()};g.extend(g.event,{trigger:function(E,P,H,Z){var st,ot,ft,Lt,Ct,Ht,ce,be,oe=[H||k],Ee=M.call(E,"type")?E.type:E,wn=M.call(E,"namespace")?E.namespace.split("."):[];if(ot=be=ft=H=H||k,!(H.nodeType===3||H.nodeType===8)&&!lt.test(Ee+g.event.triggered)&&(Ee.indexOf(".")>-1&&(wn=Ee.split("."),Ee=wn.shift(),wn.sort()),Ct=Ee.indexOf(":")<0&&"on"+Ee,E=E[g.expando]?E:new g.Event(Ee,typeof E=="object"&&E),E.isTrigger=Z?2:3,E.namespace=wn.join("."),E.rnamespace=E.namespace?new RegExp("(^|\\.)"+wn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,E.result=void 0,E.target||(E.target=H),P=P==null?[E]:g.makeArray(P,[E]),ce=g.event.special[Ee]||{},!(!Z&&ce.trigger&&ce.trigger.apply(H,P)===!1))){if(!Z&&!ce.noBubble&&!A(H)){for(Lt=ce.delegateType||Ee,lt.test(Lt+Ee)||(ot=ot.parentNode);ot;ot=ot.parentNode)oe.push(ot),ft=ot;ft===(H.ownerDocument||k)&&oe.push(ft.defaultView||ft.parentWindow||o)}for(st=0;(ot=oe[st++])&&!E.isPropagationStopped();)be=ot,E.type=st>1?Lt:ce.bindType||Ee,Ht=(Ze.get(ot,"events")||Object.create(null))[E.type]&&Ze.get(ot,"handle"),Ht&&Ht.apply(ot,P),Ht=Ct&&ot[Ct],Ht&&Ht.apply&&pe(ot)&&(E.result=Ht.apply(ot,P),E.result===!1&&E.preventDefault());return E.type=Ee,!Z&&!E.isDefaultPrevented()&&(!ce._default||ce._default.apply(oe.pop(),P)===!1)&&pe(H)&&Ct&&N(H[Ee])&&!A(H)&&(ft=H[Ct],ft&&(H[Ct]=null),g.event.triggered=Ee,E.isPropagationStopped()&&be.addEventListener(Ee,kt),H[Ee](),E.isPropagationStopped()&&be.removeEventListener(Ee,kt),g.event.triggered=void 0,ft&&(H[Ct]=ft)),E.result}},simulate:function(E,P,H){var Z=g.extend(new g.Event,H,{type:E,isSimulated:!0});g.event.trigger(Z,null,P)}}),g.fn.extend({trigger:function(E,P){return this.each(function(){g.event.trigger(E,P,this)})},triggerHandler:function(E,P){var H=this[0];if(H)return g.event.trigger(E,P,H,!0)}});var Jt=/\[\]$/,ie=/\r?\n/g,ue=/^(?:submit|button|image|reset|file)$/i,qt=/^(?:input|select|textarea|keygen)/i;function ae(E,P,H,Z){var st;if(Array.isArray(P))g.each(P,function(ot,ft){H||Jt.test(E)?Z(E,ft):ae(E+"["+(typeof ft=="object"&&ft!=null?ot:"")+"]",ft,H,Z)});else if(!H&&K(P)==="object")for(st in P)ae(E+"["+st+"]",P[st],H,Z);else Z(E,P)}g.param=function(E,P){var H,Z=[],st=function(ot,ft){var Lt=N(ft)?ft():ft;Z[Z.length]=encodeURIComponent(ot)+"="+encodeURIComponent(Lt??"")};if(E==null)return"";if(Array.isArray(E)||E.jquery&&!g.isPlainObject(E))g.each(E,function(){st(this.name,this.value)});else for(H in E)ae(H,E[H],P,st);return Z.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var E=g.prop(this,"elements");return E?g.makeArray(E):this}).filter(function(){var E=this.type;return this.name&&!g(this).is(":disabled")&&qt.test(this.nodeName)&&!ue.test(E)&&(this.checked||!he.test(E))}).map(function(E,P){var H=g(this).val();return H==null?null:Array.isArray(H)?g.map(H,function(Z){return{name:P.name,value:Z.replace(ie,`\r
`)}}):{name:P.name,value:H.replace(ie,`\r
`)}}).get()}});var _e=/%20/g,Re=/#.*$/,Ve=/([?&])_=[^&]*/,Qe=/^(.*?):[ \t]*([^\r\n]*)$/mg,_n=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xn=/^(?:GET|HEAD)$/,pn=/^\/\//,gn={},sr={},Wr="*/".concat("*"),$n=k.createElement("a");$n.href=Pn.href;function Yr(E){return function(P,H){typeof P!="string"&&(H=P,P="*");var Z,st=0,ot=P.toLowerCase().match(Qt)||[];if(N(H))for(;Z=ot[st++];)Z[0]==="+"?(Z=Z.slice(1)||"*",(E[Z]=E[Z]||[]).unshift(H)):(E[Z]=E[Z]||[]).push(H)}}function Ii(E,P,H,Z){var st={},ot=E===sr;function ft(Lt){var Ct;return st[Lt]=!0,g.each(E[Lt]||[],function(Ht,ce){var be=ce(P,H,Z);if(typeof be=="string"&&!ot&&!st[be])return P.dataTypes.unshift(be),ft(be),!1;if(ot)return!(Ct=be)}),Ct}return ft(P.dataTypes[0])||!st["*"]&&ft("*")}function dr(E,P){var H,Z,st=g.ajaxSettings.flatOptions||{};for(H in P)P[H]!==void 0&&((st[H]?E:Z||(Z={}))[H]=P[H]);return Z&&g.extend(!0,E,Z),E}function ci(E,P,H){for(var Z,st,ot,ft,Lt=E.contents,Ct=E.dataTypes;Ct[0]==="*";)Ct.shift(),Z===void 0&&(Z=E.mimeType||P.getResponseHeader("Content-Type"));if(Z){for(st in Lt)if(Lt[st]&&Lt[st].test(Z)){Ct.unshift(st);break}}if(Ct[0]in H)ot=Ct[0];else{for(st in H){if(!Ct[0]||E.converters[st+" "+Ct[0]]){ot=st;break}ft||(ft=st)}ot=ot||ft}if(ot)return ot!==Ct[0]&&Ct.unshift(ot),H[ot]}function Si(E,P,H,Z){var st,ot,ft,Lt,Ct,Ht={},ce=E.dataTypes.slice();if(ce[1])for(ft in E.converters)Ht[ft.toLowerCase()]=E.converters[ft];for(ot=ce.shift();ot;)if(E.responseFields[ot]&&(H[E.responseFields[ot]]=P),!Ct&&Z&&E.dataFilter&&(P=E.dataFilter(P,E.dataType)),Ct=ot,ot=ce.shift(),ot){if(ot==="*")ot=Ct;else if(Ct!=="*"&&Ct!==ot){if(ft=Ht[Ct+" "+ot]||Ht["* "+ot],!ft){for(st in Ht)if(Lt=st.split(" "),Lt[1]===ot&&(ft=Ht[Ct+" "+Lt[0]]||Ht["* "+Lt[0]],ft)){ft===!0?ft=Ht[st]:Ht[st]!==!0&&(ot=Lt[0],ce.unshift(Lt[1]));break}}if(ft!==!0)if(ft&&E.throws)P=ft(P);else try{P=ft(P)}catch(be){return{state:"parsererror",error:ft?be:"No conversion from "+Ct+" to "+ot}}}}return{state:"success",data:P}}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pn.href,type:"GET",isLocal:_n.test(Pn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(E,P){return P?dr(dr(E,g.ajaxSettings),P):dr(g.ajaxSettings,E)},ajaxPrefilter:Yr(gn),ajaxTransport:Yr(sr),ajax:function(E,P){typeof E=="object"&&(P=E,E=void 0),P=P||{};var H,Z,st,ot,ft,Lt,Ct,Ht,ce,be,oe=g.ajaxSetup({},P),Ee=oe.context||oe,wn=oe.context&&(Ee.nodeType||Ee.jquery)?g(Ee):g.event,Qn=g.Deferred(),Nn=g.Callbacks("once memory"),Lr=oe.statusCode||{},pr={},ei={},di="canceled",Yn={readyState:0,getResponseHeader:function(Gn){var gr;if(Ct){if(!ot)for(ot={};gr=Qe.exec(st);)ot[gr[1].toLowerCase()+" "]=(ot[gr[1].toLowerCase()+" "]||[]).concat(gr[2]);gr=ot[Gn.toLowerCase()+" "]}return gr==null?null:gr.join(", ")},getAllResponseHeaders:function(){return Ct?st:null},setRequestHeader:function(Gn,gr){return Ct==null&&(Gn=ei[Gn.toLowerCase()]=ei[Gn.toLowerCase()]||Gn,pr[Gn]=gr),this},overrideMimeType:function(Gn){return Ct==null&&(oe.mimeType=Gn),this},statusCode:function(Gn){var gr;if(Gn)if(Ct)Yn.always(Gn[Yn.status]);else for(gr in Gn)Lr[gr]=[Lr[gr],Gn[gr]];return this},abort:function(Gn){var gr=Gn||di;return H&&H.abort(gr),Fr(0,gr),this}};if(Qn.promise(Yn),oe.url=((E||oe.url||Pn.href)+"").replace(pn,Pn.protocol+"//"),oe.type=P.method||P.type||oe.method||oe.type,oe.dataTypes=(oe.dataType||"*").toLowerCase().match(Qt)||[""],oe.crossDomain==null){Lt=k.createElement("a");try{Lt.href=oe.url,Lt.href=Lt.href,oe.crossDomain=$n.protocol+"//"+$n.host!=Lt.protocol+"//"+Lt.host}catch{oe.crossDomain=!0}}if(oe.data&&oe.processData&&typeof oe.data!="string"&&(oe.data=g.param(oe.data,oe.traditional)),Ii(gn,oe,P,Yn),Ct)return Yn;Ht=g.event&&oe.global,Ht&&g.active++===0&&g.event.trigger("ajaxStart"),oe.type=oe.type.toUpperCase(),oe.hasContent=!xn.test(oe.type),Z=oe.url.replace(Re,""),oe.hasContent?oe.data&&oe.processData&&(oe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(oe.data=oe.data.replace(_e,"+")):(be=oe.url.slice(Z.length),oe.data&&(oe.processData||typeof oe.data=="string")&&(Z+=(rt.test(Z)?"&":"?")+oe.data,delete oe.data),oe.cache===!1&&(Z=Z.replace(Ve,"$1"),be=(rt.test(Z)?"&":"?")+"_="+V.guid+++be),oe.url=Z+be),oe.ifModified&&(g.lastModified[Z]&&Yn.setRequestHeader("If-Modified-Since",g.lastModified[Z]),g.etag[Z]&&Yn.setRequestHeader("If-None-Match",g.etag[Z])),(oe.data&&oe.hasContent&&oe.contentType!==!1||P.contentType)&&Yn.setRequestHeader("Content-Type",oe.contentType),Yn.setRequestHeader("Accept",oe.dataTypes[0]&&oe.accepts[oe.dataTypes[0]]?oe.accepts[oe.dataTypes[0]]+(oe.dataTypes[0]!=="*"?", "+Wr+"; q=0.01":""):oe.accepts["*"]);for(ce in oe.headers)Yn.setRequestHeader(ce,oe.headers[ce]);if(oe.beforeSend&&(oe.beforeSend.call(Ee,Yn,oe)===!1||Ct))return Yn.abort();if(di="abort",Nn.add(oe.complete),Yn.done(oe.success),Yn.fail(oe.error),H=Ii(sr,oe,P,Yn),!H)Fr(-1,"No Transport");else{if(Yn.readyState=1,Ht&&wn.trigger("ajaxSend",[Yn,oe]),Ct)return Yn;oe.async&&oe.timeout>0&&(ft=o.setTimeout(function(){Yn.abort("timeout")},oe.timeout));try{Ct=!1,H.send(pr,Fr)}catch(Gn){if(Ct)throw Gn;Fr(-1,Gn)}}function Fr(Gn,gr,Qi,Zi){var ni,Ji,Ur,yi,ri,Nr=gr;Ct||(Ct=!0,ft&&o.clearTimeout(ft),H=void 0,st=Zi||"",Yn.readyState=Gn>0?4:0,ni=Gn>=200&&Gn<300||Gn===304,Qi&&(yi=ci(oe,Yn,Qi)),!ni&&g.inArray("script",oe.dataTypes)>-1&&g.inArray("json",oe.dataTypes)<0&&(oe.converters["text script"]=function(){}),yi=Si(oe,yi,Yn,ni),ni?(oe.ifModified&&(ri=Yn.getResponseHeader("Last-Modified"),ri&&(g.lastModified[Z]=ri),ri=Yn.getResponseHeader("etag"),ri&&(g.etag[Z]=ri)),Gn===204||oe.type==="HEAD"?Nr="nocontent":Gn===304?Nr="notmodified":(Nr=yi.state,Ji=yi.data,Ur=yi.error,ni=!Ur)):(Ur=Nr,(Gn||!Nr)&&(Nr="error",Gn<0&&(Gn=0))),Yn.status=Gn,Yn.statusText=(gr||Nr)+"",ni?Qn.resolveWith(Ee,[Ji,Nr,Yn]):Qn.rejectWith(Ee,[Yn,Nr,Ur]),Yn.statusCode(Lr),Lr=void 0,Ht&&wn.trigger(ni?"ajaxSuccess":"ajaxError",[Yn,oe,ni?Ji:Ur]),Nn.fireWith(Ee,[Yn,Nr]),Ht&&(wn.trigger("ajaxComplete",[Yn,oe]),--g.active||g.event.trigger("ajaxStop")))}return Yn},getJSON:function(E,P,H){return g.get(E,P,H,"json")},getScript:function(E,P){return g.get(E,void 0,P,"script")}}),g.each(["get","post"],function(E,P){g[P]=function(H,Z,st,ot){return N(Z)&&(ot=ot||st,st=Z,Z=void 0),g.ajax(g.extend({url:H,type:P,dataType:ot,data:Z,success:st},g.isPlainObject(H)&&H))}}),g.ajaxPrefilter(function(E){var P;for(P in E.headers)P.toLowerCase()==="content-type"&&(E.contentType=E.headers[P]||"")}),g._evalUrl=function(E,P,H){return g.ajax({url:E,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Z){g.globalEval(Z,P,H)}})},g.fn.extend({wrapAll:function(E){var P;return this[0]&&(N(E)&&(E=E.call(this[0])),P=g(E,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&P.insertBefore(this[0]),P.map(function(){for(var H=this;H.firstElementChild;)H=H.firstElementChild;return H}).append(this)),this},wrapInner:function(E){return N(E)?this.each(function(P){g(this).wrapInner(E.call(this,P))}):this.each(function(){var P=g(this),H=P.contents();H.length?H.wrapAll(E):P.append(E)})},wrap:function(E){var P=N(E);return this.each(function(H){g(this).wrapAll(P?E.call(this,H):E)})},unwrap:function(E){return this.parent(E).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(E){return!g.expr.pseudos.visible(E)},g.expr.pseudos.visible=function(E){return!!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new o.XMLHttpRequest}catch{}};var wr={0:200,1223:204},Br=g.ajaxSettings.xhr();Y.cors=!!Br&&"withCredentials"in Br,Y.ajax=Br=!!Br,g.ajaxTransport(function(E){var P,H;if(Y.cors||Br&&!E.crossDomain)return{send:function(Z,st){var ot,ft=E.xhr();if(ft.open(E.type,E.url,E.async,E.username,E.password),E.xhrFields)for(ot in E.xhrFields)ft[ot]=E.xhrFields[ot];E.mimeType&&ft.overrideMimeType&&ft.overrideMimeType(E.mimeType),!E.crossDomain&&!Z["X-Requested-With"]&&(Z["X-Requested-With"]="XMLHttpRequest");for(ot in Z)ft.setRequestHeader(ot,Z[ot]);P=function(Lt){return function(){P&&(P=H=ft.onload=ft.onerror=ft.onabort=ft.ontimeout=ft.onreadystatechange=null,Lt==="abort"?ft.abort():Lt==="error"?typeof ft.status!="number"?st(0,"error"):st(ft.status,ft.statusText):st(wr[ft.status]||ft.status,ft.statusText,(ft.responseType||"text")!=="text"||typeof ft.responseText!="string"?{binary:ft.response}:{text:ft.responseText},ft.getAllResponseHeaders()))}},ft.onload=P(),H=ft.onerror=ft.ontimeout=P("error"),ft.onabort!==void 0?ft.onabort=H:ft.onreadystatechange=function(){ft.readyState===4&&o.setTimeout(function(){P&&H()})},P=P("abort");try{ft.send(E.hasContent&&E.data||null)}catch(Lt){if(P)throw Lt}},abort:function(){P&&P()}}}),g.ajaxPrefilter(function(E){E.crossDomain&&(E.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(E){return g.globalEval(E),E}}}),g.ajaxPrefilter("script",function(E){E.cache===void 0&&(E.cache=!1),E.crossDomain&&(E.type="GET")}),g.ajaxTransport("script",function(E){if(E.crossDomain||E.scriptAttrs){var P,H;return{send:function(Z,st){P=g("<script>").attr(E.scriptAttrs||{}).prop({charset:E.scriptCharset,src:E.url}).on("load error",H=function(ot){P.remove(),H=null,ot&&st(ot.type==="error"?404:200,ot.type)}),k.head.appendChild(P[0])},abort:function(){H&&H()}}}});var Qr=[],ti=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var E=Qr.pop()||g.expando+"_"+V.guid++;return this[E]=!0,E}}),g.ajaxPrefilter("json jsonp",function(E,P,H){var Z,st,ot,ft=E.jsonp!==!1&&(ti.test(E.url)?"url":typeof E.data=="string"&&(E.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ti.test(E.data)&&"data");if(ft||E.dataTypes[0]==="jsonp")return Z=E.jsonpCallback=N(E.jsonpCallback)?E.jsonpCallback():E.jsonpCallback,ft?E[ft]=E[ft].replace(ti,"$1"+Z):E.jsonp!==!1&&(E.url+=(rt.test(E.url)?"&":"?")+E.jsonp+"="+Z),E.converters["script json"]=function(){return ot||g.error(Z+" was not called"),ot[0]},E.dataTypes[0]="json",st=o[Z],o[Z]=function(){ot=arguments},H.always(function(){st===void 0?g(o).removeProp(Z):o[Z]=st,E[Z]&&(E.jsonpCallback=P.jsonpCallback,Qr.push(Z)),ot&&N(st)&&st(ot[0]),ot=st=void 0}),"script"}),Y.createHTMLDocument=function(){var E=k.implementation.createHTMLDocument("").body;return E.innerHTML="<form></form><form></form>",E.childNodes.length===2}(),g.parseHTML=function(E,P,H){if(typeof E!="string")return[];typeof P=="boolean"&&(H=P,P=!1);var Z,st,ot;return P||(Y.createHTMLDocument?(P=k.implementation.createHTMLDocument(""),Z=P.createElement("base"),Z.href=k.location.href,P.head.appendChild(Z)):P=k),st=zt.exec(E),ot=!H&&[],st?[P.createElement(st[1])]:(st=Me([E],P,ot),ot&&ot.length&&g(ot).remove(),g.merge([],st.childNodes))},g.fn.load=function(E,P,H){var Z,st,ot,ft=this,Lt=E.indexOf(" ");return Lt>-1&&(Z=Le(E.slice(Lt)),E=E.slice(0,Lt)),N(P)?(H=P,P=void 0):P&&typeof P=="object"&&(st="POST"),ft.length>0&&g.ajax({url:E,type:st||"GET",dataType:"html",data:P}).done(function(Ct){ot=arguments,ft.html(Z?g("<div>").append(g.parseHTML(Ct)).find(Z):Ct)}).always(H&&function(Ct,Ht){ft.each(function(){H.apply(this,ot||[Ct.responseText,Ht,Ct])})}),this},g.expr.pseudos.animated=function(E){return g.grep(g.timers,function(P){return E===P.elem}).length},g.offset={setOffset:function(E,P,H){var Z,st,ot,ft,Lt,Ct,Ht,ce=g.css(E,"position"),be=g(E),oe={};ce==="static"&&(E.style.position="relative"),Lt=be.offset(),ot=g.css(E,"top"),Ct=g.css(E,"left"),Ht=(ce==="absolute"||ce==="fixed")&&(ot+Ct).indexOf("auto")>-1,Ht?(Z=be.position(),ft=Z.top,st=Z.left):(ft=parseFloat(ot)||0,st=parseFloat(Ct)||0),N(P)&&(P=P.call(E,H,g.extend({},Lt))),P.top!=null&&(oe.top=P.top-Lt.top+ft),P.left!=null&&(oe.left=P.left-Lt.left+st),"using"in P?P.using.call(E,oe):be.css(oe)}},g.fn.extend({offset:function(E){if(arguments.length)return E===void 0?this:this.each(function(st){g.offset.setOffset(this,E,st)});var P,H,Z=this[0];if(Z)return Z.getClientRects().length?(P=Z.getBoundingClientRect(),H=Z.ownerDocument.defaultView,{top:P.top+H.pageYOffset,left:P.left+H.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var E,P,H,Z=this[0],st={top:0,left:0};if(g.css(Z,"position")==="fixed")P=Z.getBoundingClientRect();else{for(P=this.offset(),H=Z.ownerDocument,E=Z.offsetParent||H.documentElement;E&&(E===H.body||E===H.documentElement)&&g.css(E,"position")==="static";)E=E.parentNode;E&&E!==Z&&E.nodeType===1&&(st=g(E).offset(),st.top+=g.css(E,"borderTopWidth",!0),st.left+=g.css(E,"borderLeftWidth",!0))}return{top:P.top-st.top-g.css(Z,"marginTop",!0),left:P.left-st.left-g.css(Z,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var E=this.offsetParent;E&&g.css(E,"position")==="static";)E=E.offsetParent;return E||xt})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(E,P){var H=P==="pageYOffset";g.fn[E]=function(Z){return sn(this,function(st,ot,ft){var Lt;if(A(st)?Lt=st:st.nodeType===9&&(Lt=st.defaultView),ft===void 0)return Lt?Lt[P]:st[ot];Lt?Lt.scrollTo(H?Lt.pageXOffset:ft,H?ft:Lt.pageYOffset):st[ot]=ft},E,Z,arguments.length)}}),g.each(["top","left"],function(E,P){g.cssHooks[P]=Kr(Y.pixelPosition,function(H,Z){if(Z)return Z=_r(H,P),Ye.test(Z)?g(H).position()[P]+"px":Z})}),g.each({Height:"height",Width:"width"},function(E,P){g.each({padding:"inner"+E,content:P,"":"outer"+E},function(H,Z){g.fn[Z]=function(st,ot){var ft=arguments.length&&(H||typeof st!="boolean"),Lt=H||(st===!0||ot===!0?"margin":"border");return sn(this,function(Ct,Ht,ce){var be;return A(Ct)?Z.indexOf("outer")===0?Ct["inner"+E]:Ct.document.documentElement["client"+E]:Ct.nodeType===9?(be=Ct.documentElement,Math.max(Ct.body["scroll"+E],be["scroll"+E],Ct.body["offset"+E],be["offset"+E],be["client"+E])):ce===void 0?g.css(Ct,Ht,Lt):g.style(Ct,Ht,ce,Lt)},P,ft?st:void 0,ft)}})}),g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(E,P){g.fn[P]=function(H){return this.on(P,H)}}),g.fn.extend({bind:function(E,P,H){return this.on(E,null,P,H)},unbind:function(E,P){return this.off(E,null,P)},delegate:function(E,P,H,Z){return this.on(P,E,H,Z)},undelegate:function(E,P,H){return arguments.length===1?this.off(E,"**"):this.off(P,E||"**",H)},hover:function(E,P){return this.on("mouseenter",E).on("mouseleave",P||E)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(E,P){g.fn[P]=function(H,Z){return arguments.length>0?this.on(P,null,H,Z):this.trigger(P)}});var mi=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;g.proxy=function(E,P){var H,Z,st;if(typeof P=="string"&&(H=E[P],P=E,E=H),!!N(E))return Z=u.call(arguments,2),st=function(){return E.apply(P||this,Z.concat(u.call(arguments)))},st.guid=E.guid=E.guid||g.guid++,st},g.holdReady=function(E){E?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=W,g.isFunction=N,g.isWindow=A,g.camelCase=Hn,g.type=K,g.now=Date.now,g.isNumeric=function(E){var P=g.type(E);return(P==="number"||P==="string")&&!isNaN(E-parseFloat(E))},g.trim=function(E){return E==null?"":(E+"").replace(mi,"$1")},e=[],n=(function(){return g}).apply(c,e),n!==void 0&&(b.exports=n);var jn=o.jQuery,uo=o.$;return g.noConflict=function(E){return o.$===g&&(o.$=uo),E&&o.jQuery===g&&(o.jQuery=jn),g},typeof f>"u"&&(o.jQuery=o.$=g),g})},5584:function(b,c,e){var n=e(3893),o=e(3152),f=n(o,"DataView");b.exports=f},6414:function(b,c,e){var n=e(4696),o=e(6824),f=e(3476),s=e(3122),a=e(7279);function u(h){var p=-1,y=h==null?0:h.length;for(this.clear();++p<y;){var w=h[p];this.set(w[0],w[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=f,u.prototype.has=s,u.prototype.set=a,b.exports=u},9746:function(b,c,e){var n=e(4251),o=e(4968),f=e(8290),s=e(8068),a=e(4238);function u(h){var p=-1,y=h==null?0:h.length;for(this.clear();++p<y;){var w=h[p];this.set(w[0],w[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=f,u.prototype.has=s,u.prototype.set=a,b.exports=u},164:function(b,c,e){var n=e(3893),o=e(3152),f=n(o,"Map");b.exports=f},2166:function(b,c,e){var n=e(5365),o=e(3765),f=e(2608),s=e(203),a=e(1298);function u(h){var p=-1,y=h==null?0:h.length;for(this.clear();++p<y;){var w=h[p];this.set(w[0],w[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=f,u.prototype.has=s,u.prototype.set=a,b.exports=u},7288:function(b,c,e){var n=e(3893),o=e(3152),f=n(o,"Promise");b.exports=f},3599:function(b,c,e){var n=e(3893),o=e(3152),f=n(o,"Set");b.exports=f},8924:function(b,c,e){var n=e(2166),o=e(4776),f=e(393);function s(a){var u=-1,h=a==null?0:a.length;for(this.__data__=new n;++u<h;)this.add(a[u])}s.prototype.add=s.prototype.push=o,s.prototype.has=f,b.exports=s},1866:function(b,c,e){var n=e(9746),o=e(1119),f=e(4399),s=e(1897),a=e(558),u=e(4841);function h(p){var y=this.__data__=new n(p);this.size=y.size}h.prototype.clear=o,h.prototype.delete=f,h.prototype.get=s,h.prototype.has=a,h.prototype.set=u,b.exports=h},1869:function(b,c,e){var n=e(3152),o=n.Symbol;b.exports=o},7945:function(b,c,e){var n=e(3152),o=n.Uint8Array;b.exports=o},6873:function(b,c,e){var n=e(3893),o=e(3152),f=n(o,"WeakMap");b.exports=f},9628:function(b){function c(e,n,o){switch(o.length){case 0:return e.call(n);case 1:return e.call(n,o[0]);case 2:return e.call(n,o[0],o[1]);case 3:return e.call(n,o[0],o[1],o[2])}return e.apply(n,o)}b.exports=c},4809:function(b){function c(e,n){for(var o=-1,f=e==null?0:e.length;++o<f&&n(e[o],o,e)!==!1;);return e}b.exports=c},6952:function(b){function c(e,n){for(var o=-1,f=e==null?0:e.length,s=0,a=[];++o<f;){var u=e[o];n(u,o,e)&&(a[s++]=u)}return a}b.exports=c},4271:function(b,c,e){var n=e(7424);function o(f,s){var a=f==null?0:f.length;return!!a&&n(f,s,0)>-1}b.exports=o},4874:function(b){function c(e,n,o){for(var f=-1,s=e==null?0:e.length;++f<s;)if(o(n,e[f]))return!0;return!1}b.exports=c},3333:function(b,c,e){var n=e(7943),o=e(3053),f=e(744),s=e(7835),a=e(213),u=e(8397),h=Object.prototype,p=h.hasOwnProperty;function y(w,d){var M=f(w),D=!M&&o(w),B=!M&&!D&&s(w),Y=!M&&!D&&!B&&u(w),N=M||D||B||Y,A=N?n(w.length,String):[],k=A.length;for(var tt in w)(d||p.call(w,tt))&&!(N&&(tt=="length"||B&&(tt=="offset"||tt=="parent")||Y&&(tt=="buffer"||tt=="byteLength"||tt=="byteOffset")||a(tt,k)))&&A.push(tt);return A}b.exports=y},5010:function(b){function c(e,n){for(var o=-1,f=e==null?0:e.length,s=Array(f);++o<f;)s[o]=n(e[o],o,e);return s}b.exports=c},7095:function(b){function c(e,n){for(var o=-1,f=n.length,s=e.length;++o<f;)e[s+o]=n[o];return e}b.exports=c},9861:function(b){function c(e,n,o,f){var s=-1,a=e==null?0:e.length;for(f&&a&&(o=e[++s]);++s<a;)o=n(o,e[s],s,e);return o}b.exports=c},4045:function(b){function c(e,n){for(var o=-1,f=e==null?0:e.length;++o<f;)if(n(e[o],o,e))return!0;return!1}b.exports=c},6539:function(b,c,e){var n=e(2310),o=n("length");b.exports=o},9135:function(b,c,e){var n=e(2813),o=e(3607);function f(s,a,u){(u!==void 0&&!o(s[a],u)||u===void 0&&!(a in s))&&n(s,a,u)}b.exports=f},348:function(b,c,e){var n=e(2813),o=e(3607),f=Object.prototype,s=f.hasOwnProperty;function a(u,h,p){var y=u[h];(!(s.call(u,h)&&o(y,p))||p===void 0&&!(h in u))&&n(u,h,p)}b.exports=a},7971:function(b,c,e){var n=e(3607);function o(f,s){for(var a=f.length;a--;)if(n(f[a][0],s))return a;return-1}b.exports=o},1937:function(b,c,e){var n=e(5378),o=e(5451);function f(s,a){return s&&n(a,o(a),s)}b.exports=f},6680:function(b,c,e){var n=e(5378),o=e(6730);function f(s,a){return s&&n(a,o(a),s)}b.exports=f},2813:function(b,c,e){var n=e(5234);function o(f,s,a){s=="__proto__"&&n?n(f,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):f[s]=a}b.exports=o},9045:function(b,c,e){var n=e(1866),o=e(4809),f=e(348),s=e(1937),a=e(6680),u=e(2315),h=e(7760),p=e(5168),y=e(1678),w=e(2076),d=e(2675),M=e(6139),D=e(9264),B=e(7541),Y=e(4084),N=e(744),A=e(7835),k=e(1626),tt=e(816),et=e(5226),K=e(5451),U=e(6730),R=1,g=2,C=4,W="[object Arguments]",z="[object Array]",G="[object Boolean]",nt="[object Date]",j="[object Error]",q="[object Function]",vt="[object GeneratorFunction]",mt="[object Map]",wt="[object Number]",At="[object Object]",Kt="[object RegExp]",jt="[object Set]",me="[object String]",zt="[object Symbol]",$t="[object WeakMap]",Pt="[object ArrayBuffer]",Ft="[object DataView]",se="[object Float32Array]",de="[object Float64Array]",Ie="[object Int8Array]",Oe="[object Int16Array]",Qt="[object Int32Array]",$e="[object Uint8Array]",rn="[object Uint8ClampedArray]",ln="[object Uint16Array]",fn="[object Uint32Array]",Pe={};Pe[W]=Pe[z]=Pe[Pt]=Pe[Ft]=Pe[G]=Pe[nt]=Pe[se]=Pe[de]=Pe[Ie]=Pe[Oe]=Pe[Qt]=Pe[mt]=Pe[wt]=Pe[At]=Pe[Kt]=Pe[jt]=Pe[me]=Pe[zt]=Pe[$e]=Pe[rn]=Pe[ln]=Pe[fn]=!0,Pe[j]=Pe[q]=Pe[$t]=!1;function un(cn,sn,hn,Vn,Or,Hn){var pe,bt=sn&R,Ze=sn&g,hr=sn&C;if(hn&&(pe=Or?hn(cn,Vn,Or,Hn):hn(cn)),pe!==void 0)return pe;if(!tt(cn))return cn;var ge=N(cn);if(ge){if(pe=D(cn),!bt)return h(cn,pe)}else{var Ne=M(cn),Ut=Ne==q||Ne==vt;if(A(cn))return u(cn,bt);if(Ne==At||Ne==W||Ut&&!Or){if(pe=Ze||Ut?{}:Y(cn),!bt)return Ze?y(cn,a(pe,cn)):p(cn,s(pe,cn))}else{if(!Pe[Ne])return Or?cn:{};pe=B(cn,Ne,bt)}}Hn||(Hn=new n);var I=Hn.get(cn);if(I)return I;Hn.set(cn,pe),et(cn)?cn.forEach(function(St){pe.add(un(St,sn,hn,St,cn,Hn))}):k(cn)&&cn.forEach(function(St,xt){pe.set(xt,un(St,sn,hn,xt,cn,Hn))});var Et=hr?Ze?d:w:Ze?U:K,ct=ge?void 0:Et(cn);return o(ct||cn,function(St,xt){ct&&(xt=St,St=cn[xt]),f(pe,xt,un(St,sn,hn,xt,cn,Hn))}),pe}b.exports=un},5024:function(b,c,e){var n=e(816),o=Object.create,f=function(){function s(){}return function(a){if(!n(a))return{};if(o)return o(a);s.prototype=a;var u=new s;return s.prototype=void 0,u}}();b.exports=f},4107:function(b,c,e){var n=e(1585),o=e(9164),f=o(n);b.exports=f},2659:function(b,c,e){var n=e(5029);function o(f,s,a){for(var u=-1,h=f.length;++u<h;){var p=f[u],y=s(p);if(y!=null&&(w===void 0?y===y&&!n(y):a(y,w)))var w=y,d=p}return d}b.exports=o},2872:function(b,c,e){var n=e(4107);function o(f,s){var a=[];return n(f,function(u,h,p){s(u,h,p)&&a.push(u)}),a}b.exports=o},1533:function(b){function c(e,n,o,f){for(var s=e.length,a=o+(f?1:-1);f?a--:++a<s;)if(n(e[a],a,e))return a;return-1}b.exports=c},9256:function(b,c,e){var n=e(7095),o=e(8133);function f(s,a,u,h,p){var y=-1,w=s.length;for(u||(u=o),p||(p=[]);++y<w;){var d=s[y];a>0&&u(d)?a>1?f(d,a-1,u,h,p):n(p,d):h||(p[p.length]=d)}return p}b.exports=f},4018:function(b,c,e){var n=e(8010),o=n();b.exports=o},1585:function(b,c,e){var n=e(4018),o=e(5451);function f(s,a){return s&&n(s,a,o)}b.exports=f},9147:function(b,c,e){var n=e(1186),o=e(9171);function f(s,a){a=n(a,s);for(var u=0,h=a.length;s!=null&&u<h;)s=s[o(a[u++])];return u&&u==h?s:void 0}b.exports=f},5635:function(b,c,e){var n=e(7095),o=e(744);function f(s,a,u){var h=a(s);return o(s)?h:n(h,u(s))}b.exports=f},6756:function(b,c,e){var n=e(1869),o=e(2533),f=e(4702),s="[object Null]",a="[object Undefined]",u=n?n.toStringTag:void 0;function h(p){return p==null?p===void 0?a:s:u&&u in Object(p)?o(p):f(p)}b.exports=h},302:function(b){function c(e,n){return e>n}b.exports=c},3251:function(b){var c=Object.prototype,e=c.hasOwnProperty;function n(o,f){return o!=null&&e.call(o,f)}b.exports=n},2348:function(b){function c(e,n){return e!=null&&n in Object(e)}b.exports=c},7424:function(b,c,e){var n=e(1533),o=e(8373),f=e(9237);function s(a,u,h){return u===u?f(a,u,h):n(a,o,h)}b.exports=s},4977:function(b,c,e){var n=e(6756),o=e(3913),f="[object Arguments]";function s(a){return o(a)&&n(a)==f}b.exports=s},7295:function(b,c,e){var n=e(4412),o=e(3913);function f(s,a,u,h,p){return s===a?!0:s==null||a==null||!o(s)&&!o(a)?s!==s&&a!==a:n(s,a,u,h,f,p)}b.exports=f},4412:function(b,c,e){var n=e(1866),o=e(401),f=e(7710),s=e(4983),a=e(6139),u=e(744),h=e(7835),p=e(8397),y=1,w="[object Arguments]",d="[object Array]",M="[object Object]",D=Object.prototype,B=D.hasOwnProperty;function Y(N,A,k,tt,et,K){var U=u(N),R=u(A),g=U?d:a(N),C=R?d:a(A);g=g==w?M:g,C=C==w?M:C;var W=g==M,z=C==M,G=g==C;if(G&&h(N)){if(!h(A))return!1;U=!0,W=!1}if(G&&!W)return K||(K=new n),U||p(N)?o(N,A,k,tt,et,K):f(N,A,g,k,tt,et,K);if(!(k&y)){var nt=W&&B.call(N,"__wrapped__"),j=z&&B.call(A,"__wrapped__");if(nt||j){var q=nt?N.value():N,vt=j?A.value():A;return K||(K=new n),et(q,vt,k,tt,K)}}return G?(K||(K=new n),s(N,A,k,tt,et,K)):!1}b.exports=Y},5005:function(b,c,e){var n=e(6139),o=e(3913),f="[object Map]";function s(a){return o(a)&&n(a)==f}b.exports=s},1524:function(b,c,e){var n=e(1866),o=e(7295),f=1,s=2;function a(u,h,p,y){var w=p.length,d=w,M=!y;if(u==null)return!d;for(u=Object(u);w--;){var D=p[w];if(M&&D[2]?D[1]!==u[D[0]]:!(D[0]in u))return!1}for(;++w<d;){D=p[w];var B=D[0],Y=u[B],N=D[1];if(M&&D[2]){if(Y===void 0&&!(B in u))return!1}else{var A=new n;if(y)var k=y(Y,N,B,u,h,A);if(!(k===void 0?o(N,Y,f|s,y,A):k))return!1}}return!0}b.exports=a},8373:function(b){function c(e){return e!==e}b.exports=c},6367:function(b,c,e){var n=e(9363),o=e(9379),f=e(816),s=e(3256),a=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,h=Function.prototype,p=Object.prototype,y=h.toString,w=p.hasOwnProperty,d=RegExp("^"+y.call(w).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function M(D){if(!f(D)||o(D))return!1;var B=n(D)?d:u;return B.test(s(D))}b.exports=M},8652:function(b,c,e){var n=e(6139),o=e(3913),f="[object Set]";function s(a){return o(a)&&n(a)==f}b.exports=s},766:function(b,c,e){var n=e(6756),o=e(1156),f=e(3913),s="[object Arguments]",a="[object Array]",u="[object Boolean]",h="[object Date]",p="[object Error]",y="[object Function]",w="[object Map]",d="[object Number]",M="[object Object]",D="[object RegExp]",B="[object Set]",Y="[object String]",N="[object WeakMap]",A="[object ArrayBuffer]",k="[object DataView]",tt="[object Float32Array]",et="[object Float64Array]",K="[object Int8Array]",U="[object Int16Array]",R="[object Int32Array]",g="[object Uint8Array]",C="[object Uint8ClampedArray]",W="[object Uint16Array]",z="[object Uint32Array]",G={};G[tt]=G[et]=G[K]=G[U]=G[R]=G[g]=G[C]=G[W]=G[z]=!0,G[s]=G[a]=G[A]=G[u]=G[k]=G[h]=G[p]=G[y]=G[w]=G[d]=G[M]=G[D]=G[B]=G[Y]=G[N]=!1;function nt(j){return f(j)&&o(j.length)&&!!G[n(j)]}b.exports=nt},5979:function(b,c,e){var n=e(7632),o=e(8933),f=e(6962),s=e(744),a=e(5769);function u(h){return typeof h=="function"?h:h==null?f:typeof h=="object"?s(h)?o(h[0],h[1]):n(h):a(h)}b.exports=u},6019:function(b,c,e){var n=e(7975),o=e(3730),f=Object.prototype,s=f.hasOwnProperty;function a(u){if(!n(u))return o(u);var h=[];for(var p in Object(u))s.call(u,p)&&p!="constructor"&&h.push(p);return h}b.exports=a},3988:function(b,c,e){var n=e(816),o=e(7975),f=e(7817),s=Object.prototype,a=s.hasOwnProperty;function u(h){if(!n(h))return f(h);var p=o(h),y=[];for(var w in h)w=="constructor"&&(p||!a.call(h,w))||y.push(w);return y}b.exports=u},3757:function(b){function c(e,n){return e<n}b.exports=c},5487:function(b,c,e){var n=e(4107),o=e(4665);function f(s,a){var u=-1,h=o(s)?Array(s.length):[];return n(s,function(p,y,w){h[++u]=a(p,y,w)}),h}b.exports=f},7632:function(b,c,e){var n=e(1524),o=e(261),f=e(4122);function s(a){var u=o(a);return u.length==1&&u[0][2]?f(u[0][0],u[0][1]):function(h){return h===a||n(h,a,u)}}b.exports=s},8933:function(b,c,e){var n=e(7295),o=e(4231),f=e(7879),s=e(6773),a=e(8411),u=e(4122),h=e(9171),p=1,y=2;function w(d,M){return s(d)&&a(M)?u(h(d),M):function(D){var B=o(D,d);return B===void 0&&B===M?f(D,d):n(M,B,p|y)}}b.exports=w},97:function(b,c,e){var n=e(1866),o=e(9135),f=e(4018),s=e(3585),a=e(816),u=e(6730),h=e(7052);function p(y,w,d,M,D){y!==w&&f(w,function(B,Y){if(D||(D=new n),a(B))s(y,w,Y,d,p,M,D);else{var N=M?M(h(y,Y),B,Y+"",y,w,D):void 0;N===void 0&&(N=B),o(y,Y,N)}},u)}b.exports=p},3585:function(b,c,e){var n=e(9135),o=e(2315),f=e(8358),s=e(7760),a=e(4084),u=e(3053),h=e(744),p=e(1590),y=e(7835),w=e(9363),d=e(816),M=e(9308),D=e(8397),B=e(7052),Y=e(480);function N(A,k,tt,et,K,U,R){var g=B(A,tt),C=B(k,tt),W=R.get(C);if(W){n(A,tt,W);return}var z=U?U(g,C,tt+"",A,k,R):void 0,G=z===void 0;if(G){var nt=h(C),j=!nt&&y(C),q=!nt&&!j&&D(C);z=C,nt||j||q?h(g)?z=g:p(g)?z=s(g):j?(G=!1,z=o(C,!0)):q?(G=!1,z=f(C,!0)):z=[]:M(C)||u(C)?(z=g,u(g)?z=Y(g):(!d(g)||w(g))&&(z=a(C))):G=!1}G&&(R.set(C,z),K(z,C,et,U,R),R.delete(C)),n(A,tt,z)}b.exports=N},8506:function(b,c,e){var n=e(5010),o=e(9147),f=e(5979),s=e(5487),a=e(3065),u=e(8342),h=e(1249),p=e(6962),y=e(744);function w(d,M,D){M.length?M=n(M,function(N){return y(N)?function(A){return o(A,N.length===1?N[0]:N)}:N}):M=[p];var B=-1;M=n(M,u(f));var Y=s(d,function(N,A,k){var tt=n(M,function(et){return et(N)});return{criteria:tt,index:++B,value:N}});return a(Y,function(N,A){return h(N,A,D)})}b.exports=w},8832:function(b,c,e){var n=e(867),o=e(7879);function f(s,a){return n(s,a,function(u,h){return o(s,h)})}b.exports=f},867:function(b,c,e){var n=e(9147),o=e(6897),f=e(1186);function s(a,u,h){for(var p=-1,y=u.length,w={};++p<y;){var d=u[p],M=n(a,d);h(M,d)&&o(w,f(d,a),M)}return w}b.exports=s},2310:function(b){function c(e){return function(n){return n==null?void 0:n[e]}}b.exports=c},6916:function(b,c,e){var n=e(9147);function o(f){return function(s){return n(s,f)}}b.exports=o},6121:function(b){var c=Math.ceil,e=Math.max;function n(o,f,s,a){for(var u=-1,h=e(c((f-o)/(s||1)),0),p=Array(h);h--;)p[a?h:++u]=o,o+=s;return p}b.exports=n},739:function(b){function c(e,n,o,f,s){return s(e,function(a,u,h){o=f?(f=!1,a):n(o,a,u,h)}),o}b.exports=c},2918:function(b,c,e){var n=e(6962),o=e(9652),f=e(1152);function s(a,u){return f(o(a,u,n),a+"")}b.exports=s},6897:function(b,c,e){var n=e(348),o=e(1186),f=e(213),s=e(816),a=e(9171);function u(h,p,y,w){if(!s(h))return h;p=o(p,h);for(var d=-1,M=p.length,D=M-1,B=h;B!=null&&++d<M;){var Y=a(p[d]),N=y;if(Y==="__proto__"||Y==="constructor"||Y==="prototype")return h;if(d!=D){var A=B[Y];N=w?w(A,Y,B):void 0,N===void 0&&(N=s(A)?A:f(p[d+1])?[]:{})}n(B,Y,N),B=B[Y]}return h}b.exports=u},3989:function(b,c,e){var n=e(3503),o=e(5234),f=e(6962),s=o?function(a,u){return o(a,"toString",{configurable:!0,enumerable:!1,value:n(u),writable:!0})}:f;b.exports=s},3065:function(b){function c(e,n){var o=e.length;for(e.sort(n);o--;)e[o]=e[o].value;return e}b.exports=c},7943:function(b){function c(e,n){for(var o=-1,f=Array(e);++o<e;)f[o]=n(o);return f}b.exports=c},230:function(b,c,e){var n=e(1869),o=e(5010),f=e(744),s=e(5029),a=1/0,u=n?n.prototype:void 0,h=u?u.toString:void 0;function p(y){if(typeof y=="string")return y;if(f(y))return o(y,p)+"";if(s(y))return h?h.call(y):"";var w=y+"";return w=="0"&&1/y==-a?"-0":w}b.exports=p},3927:function(b,c,e){var n=e(5333),o=/^\s+/;function f(s){return s&&s.slice(0,n(s)+1).replace(o,"")}b.exports=f},8342:function(b){function c(e){return function(n){return e(n)}}b.exports=c},9098:function(b,c,e){var n=e(8924),o=e(4271),f=e(4874),s=e(1931),a=e(7506),u=e(9679),h=200;function p(y,w,d){var M=-1,D=o,B=y.length,Y=!0,N=[],A=N;if(d)Y=!1,D=f;else if(B>=h){var k=w?null:a(y);if(k)return u(k);Y=!1,D=s,A=new n}else A=w?[]:N;t:for(;++M<B;){var tt=y[M],et=w?w(tt):tt;if(tt=d||tt!==0?tt:0,Y&&et===et){for(var K=A.length;K--;)if(A[K]===et)continue t;w&&A.push(et),N.push(tt)}else D(A,et,d)||(A!==N&&A.push(et),N.push(tt))}return N}b.exports=p},720:function(b,c,e){var n=e(5010);function o(f,s){return n(s,function(a){return f[a]})}b.exports=o},4484:function(b){function c(e,n,o){for(var f=-1,s=e.length,a=n.length,u={};++f<s;){var h=f<a?n[f]:void 0;o(u,e[f],h)}return u}b.exports=c},1931:function(b){function c(e,n){return e.has(n)}b.exports=c},1756:function(b,c,e){var n=e(6962);function o(f){return typeof f=="function"?f:n}b.exports=o},1186:function(b,c,e){var n=e(744),o=e(6773),f=e(493),s=e(4140);function a(u,h){return n(u)?u:o(u,h)?[u]:f(s(u))}b.exports=a},188:function(b,c,e){var n=e(7945);function o(f){var s=new f.constructor(f.byteLength);return new n(s).set(new n(f)),s}b.exports=o},2315:function(b,c,e){b=e.nmd(b);var n=e(3152),o=c&&!c.nodeType&&c,f=o&&!0&&b&&!b.nodeType&&b,s=f&&f.exports===o,a=s?n.Buffer:void 0,u=a?a.allocUnsafe:void 0;function h(p,y){if(y)return p.slice();var w=p.length,d=u?u(w):new p.constructor(w);return p.copy(d),d}b.exports=h},7984:function(b,c,e){var n=e(188);function o(f,s){var a=s?n(f.buffer):f.buffer;return new f.constructor(a,f.byteOffset,f.byteLength)}b.exports=o},8583:function(b){var c=/\w*$/;function e(n){var o=new n.constructor(n.source,c.exec(n));return o.lastIndex=n.lastIndex,o}b.exports=e},8757:function(b,c,e){var n=e(1869),o=n?n.prototype:void 0,f=o?o.valueOf:void 0;function s(a){return f?Object(f.call(a)):{}}b.exports=s},8358:function(b,c,e){var n=e(188);function o(f,s){var a=s?n(f.buffer):f.buffer;return new f.constructor(a,f.byteOffset,f.length)}b.exports=o},3018:function(b,c,e){var n=e(5029);function o(f,s){if(f!==s){var a=f!==void 0,u=f===null,h=f===f,p=n(f),y=s!==void 0,w=s===null,d=s===s,M=n(s);if(!w&&!M&&!p&&f>s||p&&y&&d&&!w&&!M||u&&y&&d||!a&&d||!h)return 1;if(!u&&!p&&!M&&f<s||M&&a&&h&&!u&&!p||w&&a&&h||!y&&h||!d)return-1}return 0}b.exports=o},1249:function(b,c,e){var n=e(3018);function o(f,s,a){for(var u=-1,h=f.criteria,p=s.criteria,y=h.length,w=a.length;++u<y;){var d=n(h[u],p[u]);if(d){if(u>=w)return d;var M=a[u];return d*(M=="desc"?-1:1)}}return f.index-s.index}b.exports=o},7760:function(b){function c(e,n){var o=-1,f=e.length;for(n||(n=Array(f));++o<f;)n[o]=e[o];return n}b.exports=c},5378:function(b,c,e){var n=e(348),o=e(2813);function f(s,a,u,h){var p=!u;u||(u={});for(var y=-1,w=a.length;++y<w;){var d=a[y],M=h?h(u[d],s[d],d,u,s):void 0;M===void 0&&(M=s[d]),p?o(u,d,M):n(u,d,M)}return u}b.exports=f},5168:function(b,c,e){var n=e(5378),o=e(8966);function f(s,a){return n(s,o(s),a)}b.exports=f},1678:function(b,c,e){var n=e(5378),o=e(6817);function f(s,a){return n(s,o(s),a)}b.exports=f},4218:function(b,c,e){var n=e(3152),o=n["__core-js_shared__"];b.exports=o},3323:function(b,c,e){var n=e(2918),o=e(8138);function f(s){return n(function(a,u){var h=-1,p=u.length,y=p>1?u[p-1]:void 0,w=p>2?u[2]:void 0;for(y=s.length>3&&typeof y=="function"?(p--,y):void 0,w&&o(u[0],u[1],w)&&(y=p<3?void 0:y,p=1),a=Object(a);++h<p;){var d=u[h];d&&s(a,d,h,y)}return a})}b.exports=f},9164:function(b,c,e){var n=e(4665);function o(f,s){return function(a,u){if(a==null)return a;if(!n(a))return f(a,u);for(var h=a.length,p=s?h:-1,y=Object(a);(s?p--:++p<h)&&u(y[p],p,y)!==!1;);return a}}b.exports=o},8010:function(b){function c(e){return function(n,o,f){for(var s=-1,a=Object(n),u=f(n),h=u.length;h--;){var p=u[e?h:++s];if(o(a[p],p,a)===!1)break}return n}}b.exports=c},9554:function(b,c,e){var n=e(5979),o=e(4665),f=e(5451);function s(a){return function(u,h,p){var y=Object(u);if(!o(u)){var w=n(h,3);u=f(u),h=function(M){return w(y[M],M,y)}}var d=a(u,h,p);return d>-1?y[w?u[d]:d]:void 0}}b.exports=s},6106:function(b,c,e){var n=e(6121),o=e(8138),f=e(7341);function s(a){return function(u,h,p){return p&&typeof p!="number"&&o(u,h,p)&&(h=p=void 0),u=f(u),h===void 0?(h=u,u=0):h=f(h),p=p===void 0?u<h?1:-1:f(p),n(u,h,p,a)}}b.exports=s},7506:function(b,c,e){var n=e(3599),o=e(9958),f=e(9679),s=1/0,a=n&&1/f(new n([,-0]))[1]==s?function(u){return new n(u)}:o;b.exports=a},5234:function(b,c,e){var n=e(3893),o=function(){try{var f=n(Object,"defineProperty");return f({},"",{}),f}catch{}}();b.exports=o},401:function(b,c,e){var n=e(8924),o=e(4045),f=e(1931),s=1,a=2;function u(h,p,y,w,d,M){var D=y&s,B=h.length,Y=p.length;if(B!=Y&&!(D&&Y>B))return!1;var N=M.get(h),A=M.get(p);if(N&&A)return N==p&&A==h;var k=-1,tt=!0,et=y&a?new n:void 0;for(M.set(h,p),M.set(p,h);++k<B;){var K=h[k],U=p[k];if(w)var R=D?w(U,K,k,p,h,M):w(K,U,k,h,p,M);if(R!==void 0){if(R)continue;tt=!1;break}if(et){if(!o(p,function(g,C){if(!f(et,C)&&(K===g||d(K,g,y,w,M)))return et.push(C)})){tt=!1;break}}else if(!(K===U||d(K,U,y,w,M))){tt=!1;break}}return M.delete(h),M.delete(p),tt}b.exports=u},7710:function(b,c,e){var n=e(1869),o=e(7945),f=e(3607),s=e(401),a=e(3383),u=e(9679),h=1,p=2,y="[object Boolean]",w="[object Date]",d="[object Error]",M="[object Map]",D="[object Number]",B="[object RegExp]",Y="[object Set]",N="[object String]",A="[object Symbol]",k="[object ArrayBuffer]",tt="[object DataView]",et=n?n.prototype:void 0,K=et?et.valueOf:void 0;function U(R,g,C,W,z,G,nt){switch(C){case tt:if(R.byteLength!=g.byteLength||R.byteOffset!=g.byteOffset)return!1;R=R.buffer,g=g.buffer;case k:return!(R.byteLength!=g.byteLength||!G(new o(R),new o(g)));case y:case w:case D:return f(+R,+g);case d:return R.name==g.name&&R.message==g.message;case B:case N:return R==g+"";case M:var j=a;case Y:var q=W&h;if(j||(j=u),R.size!=g.size&&!q)return!1;var vt=nt.get(R);if(vt)return vt==g;W|=p,nt.set(R,g);var mt=s(j(R),j(g),W,z,G,nt);return nt.delete(R),mt;case A:if(K)return K.call(R)==K.call(g)}return!1}b.exports=U},4983:function(b,c,e){var n=e(2076),o=1,f=Object.prototype,s=f.hasOwnProperty;function a(u,h,p,y,w,d){var M=p&o,D=n(u),B=D.length,Y=n(h),N=Y.length;if(B!=N&&!M)return!1;for(var A=B;A--;){var k=D[A];if(!(M?k in h:s.call(h,k)))return!1}var tt=d.get(u),et=d.get(h);if(tt&&et)return tt==h&&et==u;var K=!0;d.set(u,h),d.set(h,u);for(var U=M;++A<B;){k=D[A];var R=u[k],g=h[k];if(y)var C=M?y(g,R,k,h,u,d):y(R,g,k,u,h,d);if(!(C===void 0?R===g||w(R,g,p,y,d):C)){K=!1;break}U||(U=k=="constructor")}if(K&&!U){var W=u.constructor,z=h.constructor;W!=z&&"constructor"in u&&"constructor"in h&&!(typeof W=="function"&&W instanceof W&&typeof z=="function"&&z instanceof z)&&(K=!1)}return d.delete(u),d.delete(h),K}b.exports=a},522:function(b,c,e){var n=e(151),o=e(9652),f=e(1152);function s(a){return f(o(a,void 0,n),a+"")}b.exports=s},7675:function(b,c,e){var n=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g;b.exports=n},2076:function(b,c,e){var n=e(5635),o=e(8966),f=e(5451);function s(a){return n(a,f,o)}b.exports=s},2675:function(b,c,e){var n=e(5635),o=e(6817),f=e(6730);function s(a){return n(a,f,o)}b.exports=s},9819:function(b,c,e){var n=e(4358);function o(f,s){var a=f.__data__;return n(s)?a[typeof s=="string"?"string":"hash"]:a.map}b.exports=o},261:function(b,c,e){var n=e(8411),o=e(5451);function f(s){for(var a=o(s),u=a.length;u--;){var h=a[u],p=s[h];a[u]=[h,p,n(p)]}return a}b.exports=f},3893:function(b,c,e){var n=e(6367),o=e(9966);function f(s,a){var u=o(s,a);return n(u)?u:void 0}b.exports=f},9217:function(b,c,e){var n=e(1030),o=n(Object.getPrototypeOf,Object);b.exports=o},2533:function(b,c,e){var n=e(1869),o=Object.prototype,f=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;function u(h){var p=f.call(h,a),y=h[a];try{h[a]=void 0;var w=!0}catch{}var d=s.call(h);return w&&(p?h[a]=y:delete h[a]),d}b.exports=u},8966:function(b,c,e){var n=e(6952),o=e(4134),f=Object.prototype,s=f.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(h){return h==null?[]:(h=Object(h),n(a(h),function(p){return s.call(h,p)}))}:o;b.exports=u},6817:function(b,c,e){var n=e(7095),o=e(9217),f=e(8966),s=e(4134),a=Object.getOwnPropertySymbols,u=a?function(h){for(var p=[];h;)n(p,f(h)),h=o(h);return p}:s;b.exports=u},6139:function(b,c,e){var n=e(5584),o=e(164),f=e(7288),s=e(3599),a=e(6873),u=e(6756),h=e(3256),p="[object Map]",y="[object Object]",w="[object Promise]",d="[object Set]",M="[object WeakMap]",D="[object DataView]",B=h(n),Y=h(o),N=h(f),A=h(s),k=h(a),tt=u;(n&&tt(new n(new ArrayBuffer(1)))!=D||o&&tt(new o)!=p||f&&tt(f.resolve())!=w||s&&tt(new s)!=d||a&&tt(new a)!=M)&&(tt=function(et){var K=u(et),U=K==y?et.constructor:void 0,R=U?h(U):"";if(R)switch(R){case B:return D;case Y:return p;case N:return w;case A:return d;case k:return M}return K}),b.exports=tt},9966:function(b){function c(e,n){return e==null?void 0:e[n]}b.exports=c},3100:function(b,c,e){var n=e(1186),o=e(3053),f=e(744),s=e(213),a=e(1156),u=e(9171);function h(p,y,w){y=n(y,p);for(var d=-1,M=y.length,D=!1;++d<M;){var B=u(y[d]);if(!(D=p!=null&&w(p,B)))break;p=p[B]}return D||++d!=M?D:(M=p==null?0:p.length,!!M&&a(M)&&s(B,M)&&(f(p)||o(p)))}b.exports=h},5015:function(b){var c="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",f=e+n+o,s="\\ufe0e\\ufe0f",a="\\u200d",u=RegExp("["+a+c+f+s+"]");function h(p){return u.test(p)}b.exports=h},4696:function(b,c,e){var n=e(5294);function o(){this.__data__=n?n(null):{},this.size=0}b.exports=o},6824:function(b){function c(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}b.exports=c},3476:function(b,c,e){var n=e(5294),o="__lodash_hash_undefined__",f=Object.prototype,s=f.hasOwnProperty;function a(u){var h=this.__data__;if(n){var p=h[u];return p===o?void 0:p}return s.call(h,u)?h[u]:void 0}b.exports=a},3122:function(b,c,e){var n=e(5294),o=Object.prototype,f=o.hasOwnProperty;function s(a){var u=this.__data__;return n?u[a]!==void 0:f.call(u,a)}b.exports=s},7279:function(b,c,e){var n=e(5294),o="__lodash_hash_undefined__";function f(s,a){var u=this.__data__;return this.size+=this.has(s)?0:1,u[s]=n&&a===void 0?o:a,this}b.exports=f},9264:function(b){var c=Object.prototype,e=c.hasOwnProperty;function n(o){var f=o.length,s=new o.constructor(f);return f&&typeof o[0]=="string"&&e.call(o,"index")&&(s.index=o.index,s.input=o.input),s}b.exports=n},7541:function(b,c,e){var n=e(188),o=e(7984),f=e(8583),s=e(8757),a=e(8358),u="[object Boolean]",h="[object Date]",p="[object Map]",y="[object Number]",w="[object RegExp]",d="[object Set]",M="[object String]",D="[object Symbol]",B="[object ArrayBuffer]",Y="[object DataView]",N="[object Float32Array]",A="[object Float64Array]",k="[object Int8Array]",tt="[object Int16Array]",et="[object Int32Array]",K="[object Uint8Array]",U="[object Uint8ClampedArray]",R="[object Uint16Array]",g="[object Uint32Array]";function C(W,z,G){var nt=W.constructor;switch(z){case B:return n(W);case u:case h:return new nt(+W);case Y:return o(W,G);case N:case A:case k:case tt:case et:case K:case U:case R:case g:return a(W,G);case p:return new nt;case y:case M:return new nt(W);case w:return f(W);case d:return new nt;case D:return s(W)}}b.exports=C},4084:function(b,c,e){var n=e(5024),o=e(9217),f=e(7975);function s(a){return typeof a.constructor=="function"&&!f(a)?n(o(a)):{}}b.exports=s},8133:function(b,c,e){var n=e(1869),o=e(3053),f=e(744),s=n?n.isConcatSpreadable:void 0;function a(u){return f(u)||o(u)||!!(s&&u&&u[s])}b.exports=a},213:function(b){var c=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(o,f){var s=typeof o;return f=f??c,!!f&&(s=="number"||s!="symbol"&&e.test(o))&&o>-1&&o%1==0&&o<f}b.exports=n},8138:function(b,c,e){var n=e(3607),o=e(4665),f=e(213),s=e(816);function a(u,h,p){if(!s(p))return!1;var y=typeof h;return(y=="number"?o(p)&&f(h,p.length):y=="string"&&h in p)?n(p[h],u):!1}b.exports=a},6773:function(b,c,e){var n=e(744),o=e(5029),f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(u,h){if(n(u))return!1;var p=typeof u;return p=="number"||p=="symbol"||p=="boolean"||u==null||o(u)?!0:s.test(u)||!f.test(u)||h!=null&&u in Object(h)}b.exports=a},4358:function(b){function c(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}b.exports=c},9379:function(b,c,e){var n=e(4218),o=function(){var s=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function f(s){return!!o&&o in s}b.exports=f},7975:function(b){var c=Object.prototype;function e(n){var o=n&&n.constructor,f=typeof o=="function"&&o.prototype||c;return n===f}b.exports=e},8411:function(b,c,e){var n=e(816);function o(f){return f===f&&!n(f)}b.exports=o},4251:function(b){function c(){this.__data__=[],this.size=0}b.exports=c},4968:function(b,c,e){var n=e(7971),o=Array.prototype,f=o.splice;function s(a){var u=this.__data__,h=n(u,a);if(h<0)return!1;var p=u.length-1;return h==p?u.pop():f.call(u,h,1),--this.size,!0}b.exports=s},8290:function(b,c,e){var n=e(7971);function o(f){var s=this.__data__,a=n(s,f);return a<0?void 0:s[a][1]}b.exports=o},8068:function(b,c,e){var n=e(7971);function o(f){return n(this.__data__,f)>-1}b.exports=o},4238:function(b,c,e){var n=e(7971);function o(f,s){var a=this.__data__,u=n(a,f);return u<0?(++this.size,a.push([f,s])):a[u][1]=s,this}b.exports=o},5365:function(b,c,e){var n=e(6414),o=e(9746),f=e(164);function s(){this.size=0,this.__data__={hash:new n,map:new(f||o),string:new n}}b.exports=s},3765:function(b,c,e){var n=e(9819);function o(f){var s=n(this,f).delete(f);return this.size-=s?1:0,s}b.exports=o},2608:function(b,c,e){var n=e(9819);function o(f){return n(this,f).get(f)}b.exports=o},203:function(b,c,e){var n=e(9819);function o(f){return n(this,f).has(f)}b.exports=o},1298:function(b,c,e){var n=e(9819);function o(f,s){var a=n(this,f),u=a.size;return a.set(f,s),this.size+=a.size==u?0:1,this}b.exports=o},3383:function(b){function c(e){var n=-1,o=Array(e.size);return e.forEach(function(f,s){o[++n]=[s,f]}),o}b.exports=c},4122:function(b){function c(e,n){return function(o){return o==null?!1:o[e]===n&&(n!==void 0||e in Object(o))}}b.exports=c},6332:function(b,c,e){var n=e(2858),o=500;function f(s){var a=n(s,function(h){return u.size===o&&u.clear(),h}),u=a.cache;return a}b.exports=f},5294:function(b,c,e){var n=e(3893),o=n(Object,"create");b.exports=o},3730:function(b,c,e){var n=e(1030),o=n(Object.keys,Object);b.exports=o},7817:function(b){function c(e){var n=[];if(e!=null)for(var o in Object(e))n.push(o);return n}b.exports=c},2495:function(b,c,e){b=e.nmd(b);var n=e(7675),o=c&&!c.nodeType&&c,f=o&&!0&&b&&!b.nodeType&&b,s=f&&f.exports===o,a=s&&n.process,u=function(){try{var h=f&&f.require&&f.require("util").types;return h||a&&a.binding&&a.binding("util")}catch{}}();b.exports=u},4702:function(b){var c=Object.prototype,e=c.toString;function n(o){return e.call(o)}b.exports=n},1030:function(b){function c(e,n){return function(o){return e(n(o))}}b.exports=c},9652:function(b,c,e){var n=e(9628),o=Math.max;function f(s,a,u){return a=o(a===void 0?s.length-1:a,0),function(){for(var h=arguments,p=-1,y=o(h.length-a,0),w=Array(y);++p<y;)w[p]=h[a+p];p=-1;for(var d=Array(a+1);++p<a;)d[p]=h[p];return d[a]=u(w),n(s,this,d)}}b.exports=f},3152:function(b,c,e){var n=e(7675),o=typeof self=="object"&&self&&self.Object===Object&&self,f=n||o||Function("return this")();b.exports=f},7052:function(b){function c(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}b.exports=c},4776:function(b){var c="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,c),this}b.exports=e},393:function(b){function c(e){return this.__data__.has(e)}b.exports=c},9679:function(b){function c(e){var n=-1,o=Array(e.size);return e.forEach(function(f){o[++n]=f}),o}b.exports=c},1152:function(b,c,e){var n=e(3989),o=e(8437),f=o(n);b.exports=f},8437:function(b){var c=800,e=16,n=Date.now;function o(f){var s=0,a=0;return function(){var u=n(),h=e-(u-a);if(a=u,h>0){if(++s>=c)return arguments[0]}else s=0;return f.apply(void 0,arguments)}}b.exports=o},1119:function(b,c,e){var n=e(9746);function o(){this.__data__=new n,this.size=0}b.exports=o},4399:function(b){function c(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o}b.exports=c},1897:function(b){function c(e){return this.__data__.get(e)}b.exports=c},558:function(b){function c(e){return this.__data__.has(e)}b.exports=c},4841:function(b,c,e){var n=e(9746),o=e(164),f=e(2166),s=200;function a(u,h){var p=this.__data__;if(p instanceof n){var y=p.__data__;if(!o||y.length<s-1)return y.push([u,h]),this.size=++p.size,this;p=this.__data__=new f(y)}return p.set(u,h),this.size=p.size,this}b.exports=a},9237:function(b){function c(e,n,o){for(var f=o-1,s=e.length;++f<s;)if(e[f]===n)return f;return-1}b.exports=c},9405:function(b,c,e){var n=e(6539),o=e(5015),f=e(844);function s(a){return o(a)?f(a):n(a)}b.exports=s},493:function(b,c,e){var n=e(6332),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,s=n(function(a){var u=[];return a.charCodeAt(0)===46&&u.push(""),a.replace(o,function(h,p,y,w){u.push(y?w.replace(f,"$1"):p||h)}),u});b.exports=s},9171:function(b,c,e){var n=e(5029),o=1/0;function f(s){if(typeof s=="string"||n(s))return s;var a=s+"";return a=="0"&&1/s==-o?"-0":a}b.exports=f},3256:function(b){var c=Function.prototype,e=c.toString;function n(o){if(o!=null){try{return e.call(o)}catch{}try{return o+""}catch{}}return""}b.exports=n},5333:function(b){var c=/\s/;function e(n){for(var o=n.length;o--&&c.test(n.charAt(o)););return o}b.exports=e},844:function(b){var c="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",f=e+n+o,s="\\ufe0e\\ufe0f",a="["+c+"]",u="["+f+"]",h="\\ud83c[\\udffb-\\udfff]",p="(?:"+u+"|"+h+")",y="[^"+c+"]",w="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",M="\\u200d",D=p+"?",B="["+s+"]?",Y="(?:"+M+"(?:"+[y,w,d].join("|")+")"+B+D+")*",N=B+D+Y,A="(?:"+[y+u+"?",u,w,d,a].join("|")+")",k=RegExp(h+"(?="+h+")|"+A+N,"g");function tt(et){for(var K=k.lastIndex=0;k.test(et);)++K;return K}b.exports=tt},6833:function(b,c,e){var n=e(9045),o=4;function f(s){return n(s,o)}b.exports=f},250:function(b,c,e){var n=e(9045),o=1,f=4;function s(a){return n(a,o|f)}b.exports=s},3503:function(b){function c(e){return function(){return e}}b.exports=c},8548:function(b,c,e){var n=e(2918),o=e(3607),f=e(8138),s=e(6730),a=Object.prototype,u=a.hasOwnProperty,h=n(function(p,y){p=Object(p);var w=-1,d=y.length,M=d>2?y[2]:void 0;for(M&&f(y[0],y[1],M)&&(d=1);++w<d;)for(var D=y[w],B=s(D),Y=-1,N=B.length;++Y<N;){var A=B[Y],k=p[A];(k===void 0||o(k,a[A])&&!u.call(p,A))&&(p[A]=D[A])}return p});b.exports=h},6934:function(b,c,e){b.exports=e(9204)},3607:function(b){function c(e,n){return e===n||e!==e&&n!==n}b.exports=c},4725:function(b,c,e){var n=e(6952),o=e(2872),f=e(5979),s=e(744);function a(u,h){var p=s(u)?n:o;return p(u,f(h,3))}b.exports=a},9785:function(b,c,e){var n=e(9554),o=e(9991),f=n(o);b.exports=f},9991:function(b,c,e){var n=e(1533),o=e(5979),f=e(2824),s=Math.max;function a(u,h,p){var y=u==null?0:u.length;if(!y)return-1;var w=p==null?0:f(p);return w<0&&(w=s(y+w,0)),n(u,o(h,3),w)}b.exports=a},151:function(b,c,e){var n=e(9256);function o(f){var s=f==null?0:f.length;return s?n(f,1):[]}b.exports=o},9204:function(b,c,e){var n=e(4809),o=e(4107),f=e(1756),s=e(744);function a(u,h){var p=s(u)?n:o;return p(u,f(h))}b.exports=a},3190:function(b,c,e){var n=e(4018),o=e(1756),f=e(6730);function s(a,u){return a==null?a:n(a,o(u),f)}b.exports=s},4231:function(b,c,e){var n=e(9147);function o(f,s,a){var u=f==null?void 0:n(f,s);return u===void 0?a:u}b.exports=o},9946:function(b,c,e){var n=e(3251),o=e(3100);function f(s,a){return s!=null&&o(s,a,n)}b.exports=f},7879:function(b,c,e){var n=e(2348),o=e(3100);function f(s,a){return s!=null&&o(s,a,n)}b.exports=f},6962:function(b){function c(e){return e}b.exports=c},3053:function(b,c,e){var n=e(4977),o=e(3913),f=Object.prototype,s=f.hasOwnProperty,a=f.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(h){return o(h)&&s.call(h,"callee")&&!a.call(h,"callee")};b.exports=u},744:function(b){var c=Array.isArray;b.exports=c},4665:function(b,c,e){var n=e(9363),o=e(1156);function f(s){return s!=null&&o(s.length)&&!n(s)}b.exports=f},1590:function(b,c,e){var n=e(4665),o=e(3913);function f(s){return o(s)&&n(s)}b.exports=f},7835:function(b,c,e){b=e.nmd(b);var n=e(3152),o=e(5950),f=c&&!c.nodeType&&c,s=f&&!0&&b&&!b.nodeType&&b,a=s&&s.exports===f,u=a?n.Buffer:void 0,h=u?u.isBuffer:void 0,p=h||o;b.exports=p},1627:function(b,c,e){var n=e(6019),o=e(6139),f=e(3053),s=e(744),a=e(4665),u=e(7835),h=e(7975),p=e(8397),y="[object Map]",w="[object Set]",d=Object.prototype,M=d.hasOwnProperty;function D(B){if(B==null)return!0;if(a(B)&&(s(B)||typeof B=="string"||typeof B.splice=="function"||u(B)||p(B)||f(B)))return!B.length;var Y=o(B);if(Y==y||Y==w)return!B.size;if(h(B))return!n(B).length;for(var N in B)if(M.call(B,N))return!1;return!0}b.exports=D},9363:function(b,c,e){var n=e(6756),o=e(816),f="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",u="[object Proxy]";function h(p){if(!o(p))return!1;var y=n(p);return y==s||y==a||y==f||y==u}b.exports=h},1156:function(b){var c=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=c}b.exports=e},1626:function(b,c,e){var n=e(5005),o=e(8342),f=e(2495),s=f&&f.isMap,a=s?o(s):n;b.exports=a},816:function(b){function c(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}b.exports=c},3913:function(b){function c(e){return e!=null&&typeof e=="object"}b.exports=c},9308:function(b,c,e){var n=e(6756),o=e(9217),f=e(3913),s="[object Object]",a=Function.prototype,u=Object.prototype,h=a.toString,p=u.hasOwnProperty,y=h.call(Object);function w(d){if(!f(d)||n(d)!=s)return!1;var M=o(d);if(M===null)return!0;var D=p.call(M,"constructor")&&M.constructor;return typeof D=="function"&&D instanceof D&&h.call(D)==y}b.exports=w},5226:function(b,c,e){var n=e(8652),o=e(8342),f=e(2495),s=f&&f.isSet,a=s?o(s):n;b.exports=a},7941:function(b,c,e){var n=e(6756),o=e(744),f=e(3913),s="[object String]";function a(u){return typeof u=="string"||!o(u)&&f(u)&&n(u)==s}b.exports=a},5029:function(b,c,e){var n=e(6756),o=e(3913),f="[object Symbol]";function s(a){return typeof a=="symbol"||o(a)&&n(a)==f}b.exports=s},8397:function(b,c,e){var n=e(766),o=e(8342),f=e(2495),s=f&&f.isTypedArray,a=s?o(s):n;b.exports=a},6513:function(b){function c(e){return e===void 0}b.exports=c},5451:function(b,c,e){var n=e(3333),o=e(6019),f=e(4665);function s(a){return f(a)?n(a):o(a)}b.exports=s},6730:function(b,c,e){var n=e(3333),o=e(3988),f=e(4665);function s(a){return f(a)?n(a,!0):o(a)}b.exports=s},611:function(b){function c(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}b.exports=c},9392:function(b,c,e){b=e.nmd(b);var n;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var o,f="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",h="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",y=500,w="__lodash_placeholder__",d=1,M=2,D=4,B=1,Y=2,N=1,A=2,k=4,tt=8,et=16,K=32,U=64,R=128,g=256,C=512,W=30,z="...",G=800,nt=16,j=1,q=2,vt=3,mt=1/0,wt=9007199254740991,At=17976931348623157e292,Kt=NaN,jt=4294967295,me=jt-1,zt=jt>>>1,$t=[["ary",R],["bind",N],["bindKey",A],["curry",tt],["curryRight",et],["flip",C],["partial",K],["partialRight",U],["rearg",g]],Pt="[object Arguments]",Ft="[object Array]",se="[object AsyncFunction]",de="[object Boolean]",Ie="[object Date]",Oe="[object DOMException]",Qt="[object Error]",$e="[object Function]",rn="[object GeneratorFunction]",ln="[object Map]",fn="[object Number]",Pe="[object Null]",un="[object Object]",cn="[object Promise]",sn="[object Proxy]",hn="[object RegExp]",Vn="[object Set]",Or="[object String]",Hn="[object Symbol]",pe="[object Undefined]",bt="[object WeakMap]",Ze="[object WeakSet]",hr="[object ArrayBuffer]",ge="[object DataView]",Ne="[object Float32Array]",Ut="[object Float64Array]",I="[object Int8Array]",Et="[object Int16Array]",ct="[object Int32Array]",St="[object Uint8Array]",xt="[object Uint8ClampedArray]",Ot="[object Uint16Array]",_t="[object Uint32Array]",Bt=/\b__p \+= '';/g,re=/\b(__p \+=) '' \+/g,Gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,De=/&(?:amp|lt|gt|quot|#39);/g,te=/[&<>"']/g,he=RegExp(De.source),He=RegExp(te.source),en=/<%-([\s\S]+?)%>/g,qe=/<%([\s\S]+?)%>/g,ze=/<%=([\s\S]+?)%>/g,xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,je=/^\w*$/,Me=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ue=/[\\^$.*+?()[\]{}|]/g,Sn=RegExp(Ue.source),Ke=/^\s+/,mn=/\s/,Bn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zn=/\{\n\/\* \[wrapped with (.+)\] \*/,ir=/,? & /,Sr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tn=/[()=,{}\[\]\/\s]/,On=/\\(\\)?/g,Un=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vr=/\w*$/,Tr=/^[-+]0x[0-9a-f]+$/i,ur=/^0b[01]+$/i,zr=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Kn=/^(?:0|[1-9]\d*)$/,or=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Dn=/($^)/,Ar=/['\n\r\u2028\u2029\\]/g,_r="\\ud800-\\udfff",Kr="\\u0300-\\u036f",Cr="\\ufe20-\\ufe2f",Pr="\\u20d0-\\u20ff",si=Kr+Cr+Pr,En="\\u2700-\\u27bf",br="a-z\\xdf-\\xf6\\xf8-\\xff",Hr="\\xac\\xb1\\xd7\\xf7",Q="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",X="\\u2000-\\u206f",$=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",m="A-Z\\xc0-\\xd6\\xd8-\\xde",x="\\ufe0e\\ufe0f",S=Hr+Q+X+$,it="['’]",at="["+_r+"]",ht="["+S+"]",ut="["+si+"]",Nt="\\d+",Rt="["+En+"]",Zt="["+br+"]",we="[^"+_r+S+Nt+En+br+m+"]",le="\\ud83c[\\udffb-\\udfff]",We="(?:"+ut+"|"+le+")",Je="[^"+_r+"]",Xt="(?:\\ud83c[\\udde6-\\uddff]){2}",ne="[\\ud800-\\udbff][\\udc00-\\udfff]",ye="["+m+"]",Xe="\\u200d",Le="(?:"+Zt+"|"+we+")",zn="(?:"+ye+"|"+we+")",Wn="(?:"+it+"(?:d|ll|m|re|s|t|ve))?",yn="(?:"+it+"(?:D|LL|M|RE|S|T|VE))?",Pn=We+"?",V="["+x+"]?",rt="(?:"+Xe+"(?:"+[Je,Xt,ne].join("|")+")"+V+Pn+")*",lt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Jt=V+Pn+rt,ie="(?:"+[Rt,Xt,ne].join("|")+")"+Jt,ue="(?:"+[Je+ut+"?",ut,Xt,ne,at].join("|")+")",qt=RegExp(it,"g"),ae=RegExp(ut,"g"),_e=RegExp(le+"(?="+le+")|"+ue+Jt,"g"),Re=RegExp([ye+"?"+Zt+"+"+Wn+"(?="+[ht,ye,"$"].join("|")+")",zn+"+"+yn+"(?="+[ht,ye+Le,"$"].join("|")+")",ye+"?"+Le+"+"+Wn,ye+"+"+yn,kt,lt,Nt,ie].join("|"),"g"),Ve=RegExp("["+Xe+_r+si+x+"]"),Qe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_n=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xn=-1,pn={};pn[Ne]=pn[Ut]=pn[I]=pn[Et]=pn[ct]=pn[St]=pn[xt]=pn[Ot]=pn[_t]=!0,pn[Pt]=pn[Ft]=pn[hr]=pn[de]=pn[ge]=pn[Ie]=pn[Qt]=pn[$e]=pn[ln]=pn[fn]=pn[un]=pn[hn]=pn[Vn]=pn[Or]=pn[bt]=!1;var gn={};gn[Pt]=gn[Ft]=gn[hr]=gn[ge]=gn[de]=gn[Ie]=gn[Ne]=gn[Ut]=gn[I]=gn[Et]=gn[ct]=gn[ln]=gn[fn]=gn[un]=gn[hn]=gn[Vn]=gn[Or]=gn[Hn]=gn[St]=gn[xt]=gn[Ot]=gn[_t]=!0,gn[Qt]=gn[$e]=gn[bt]=!1;var sr={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Wr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ii=parseFloat,dr=parseInt,ci=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g,Si=typeof self=="object"&&self&&self.Object===Object&&self,wr=ci||Si||Function("return this")(),Br=c&&!c.nodeType&&c,Qr=Br&&!0&&b&&!b.nodeType&&b,ti=Qr&&Qr.exports===Br,mi=ti&&ci.process,jn=function(){try{var gt=Qr&&Qr.require&&Qr.require("util").types;return gt||mi&&mi.binding&&mi.binding("util")}catch{}}(),uo=jn&&jn.isArrayBuffer,E=jn&&jn.isDate,P=jn&&jn.isMap,H=jn&&jn.isRegExp,Z=jn&&jn.isSet,st=jn&&jn.isTypedArray;function ot(gt,Dt,Wt){switch(Wt.length){case 0:return gt.call(Dt);case 1:return gt.call(Dt,Wt[0]);case 2:return gt.call(Dt,Wt[0],Wt[1]);case 3:return gt.call(Dt,Wt[0],Wt[1],Wt[2])}return gt.apply(Dt,Wt)}function ft(gt,Dt,Wt,ve){for(var Ae=-1,Be=gt==null?0:gt.length;++Ae<Be;){var Mn=gt[Ae];Dt(ve,Mn,Wt(Mn),gt)}return ve}function Lt(gt,Dt){for(var Wt=-1,ve=gt==null?0:gt.length;++Wt<ve&&Dt(gt[Wt],Wt,gt)!==!1;);return gt}function Ct(gt,Dt){for(var Wt=gt==null?0:gt.length;Wt--&&Dt(gt[Wt],Wt,gt)!==!1;);return gt}function Ht(gt,Dt){for(var Wt=-1,ve=gt==null?0:gt.length;++Wt<ve;)if(!Dt(gt[Wt],Wt,gt))return!1;return!0}function ce(gt,Dt){for(var Wt=-1,ve=gt==null?0:gt.length,Ae=0,Be=[];++Wt<ve;){var Mn=gt[Wt];Dt(Mn,Wt,gt)&&(Be[Ae++]=Mn)}return Be}function be(gt,Dt){var Wt=gt==null?0:gt.length;return!!Wt&&Gn(gt,Dt,0)>-1}function oe(gt,Dt,Wt){for(var ve=-1,Ae=gt==null?0:gt.length;++ve<Ae;)if(Wt(Dt,gt[ve]))return!0;return!1}function Ee(gt,Dt){for(var Wt=-1,ve=gt==null?0:gt.length,Ae=Array(ve);++Wt<ve;)Ae[Wt]=Dt(gt[Wt],Wt,gt);return Ae}function wn(gt,Dt){for(var Wt=-1,ve=Dt.length,Ae=gt.length;++Wt<ve;)gt[Ae+Wt]=Dt[Wt];return gt}function Qn(gt,Dt,Wt,ve){var Ae=-1,Be=gt==null?0:gt.length;for(ve&&Be&&(Wt=gt[++Ae]);++Ae<Be;)Wt=Dt(Wt,gt[Ae],Ae,gt);return Wt}function Nn(gt,Dt,Wt,ve){var Ae=gt==null?0:gt.length;for(ve&&Ae&&(Wt=gt[--Ae]);Ae--;)Wt=Dt(Wt,gt[Ae],Ae,gt);return Wt}function Lr(gt,Dt){for(var Wt=-1,ve=gt==null?0:gt.length;++Wt<ve;)if(Dt(gt[Wt],Wt,gt))return!0;return!1}var pr=ni("length");function ei(gt){return gt.split("")}function di(gt){return gt.match(Sr)||[]}function Yn(gt,Dt,Wt){var ve;return Wt(gt,function(Ae,Be,Mn){if(Dt(Ae,Be,Mn))return ve=Be,!1}),ve}function Fr(gt,Dt,Wt,ve){for(var Ae=gt.length,Be=Wt+(ve?1:-1);ve?Be--:++Be<Ae;)if(Dt(gt[Be],Be,gt))return Be;return-1}function Gn(gt,Dt,Wt){return Dt===Dt?bs(gt,Dt,Wt):Fr(gt,Qi,Wt)}function gr(gt,Dt,Wt,ve){for(var Ae=Wt-1,Be=gt.length;++Ae<Be;)if(ve(gt[Ae],Dt))return Ae;return-1}function Qi(gt){return gt!==gt}function Zi(gt,Dt){var Wt=gt==null?0:gt.length;return Wt?ri(gt,Dt)/Wt:Kt}function ni(gt){return function(Dt){return Dt==null?o:Dt[gt]}}function Ji(gt){return function(Dt){return gt==null?o:gt[Dt]}}function Ur(gt,Dt,Wt,ve,Ae){return Ae(gt,function(Be,Mn,tn){Wt=ve?(ve=!1,Be):Dt(Wt,Be,Mn,tn)}),Wt}function yi(gt,Dt){var Wt=gt.length;for(gt.sort(Dt);Wt--;)gt[Wt]=gt[Wt].value;return gt}function ri(gt,Dt){for(var Wt,ve=-1,Ae=gt.length;++ve<Ae;){var Be=Dt(gt[ve]);Be!==o&&(Wt=Wt===o?Be:Wt+Be)}return Wt}function Nr(gt,Dt){for(var Wt=-1,ve=Array(gt);++Wt<gt;)ve[Wt]=Dt(Wt);return ve}function Fi(gt,Dt){return Ee(Dt,function(Wt){return[Wt,gt[Wt]]})}function Fn(gt){return gt&&gt.slice(0,es(gt)+1).replace(Ke,"")}function er(gt){return function(Dt){return gt(Dt)}}function ai(gt,Dt){return Ee(Dt,function(Wt){return gt[Wt]})}function Zr(gt,Dt){return gt.has(Dt)}function Ri(gt,Dt){for(var Wt=-1,ve=gt.length;++Wt<ve&&Gn(Dt,gt[Wt],0)>-1;);return Wt}function Jn(gt,Dt){for(var Wt=gt.length;Wt--&&Gn(Dt,gt[Wt],0)>-1;);return Wt}function qi(gt,Dt){for(var Wt=gt.length,ve=0;Wt--;)gt[Wt]===Dt&&++ve;return ve}var Jr=Ji(sr),bi=Ji(Wr);function lo(gt){return"\\"+Yr[gt]}function gs(gt,Dt){return gt==null?o:gt[Dt]}function mo(gt){return Ve.test(gt)}function yo(gt){return Qe.test(gt)}function ms(gt){for(var Dt,Wt=[];!(Dt=gt.next()).done;)Wt.push(Dt.value);return Wt}function Ui(gt){var Dt=-1,Wt=Array(gt.size);return gt.forEach(function(ve,Ae){Wt[++Dt]=[Ae,ve]}),Wt}function ys(gt,Dt){return function(Wt){return gt(Dt(Wt))}}function Ti(gt,Dt){for(var Wt=-1,ve=gt.length,Ae=0,Be=[];++Wt<ve;){var Mn=gt[Wt];(Mn===Dt||Mn===w)&&(gt[Wt]=w,Be[Ae++]=Wt)}return Be}function bo(gt){var Dt=-1,Wt=Array(gt.size);return gt.forEach(function(ve){Wt[++Dt]=ve}),Wt}function ts(gt){var Dt=-1,Wt=Array(gt.size);return gt.forEach(function(ve){Wt[++Dt]=[ve,ve]}),Wt}function bs(gt,Dt,Wt){for(var ve=Wt-1,Ae=gt.length;++ve<Ae;)if(gt[ve]===Dt)return ve;return-1}function qa(gt,Dt,Wt){for(var ve=Wt+1;ve--;)if(gt[ve]===Dt)return ve;return ve}function to(gt){return mo(gt)?ws(gt):pr(gt)}function wi(gt){return mo(gt)?js(gt):ei(gt)}function es(gt){for(var Dt=gt.length;Dt--&&mn.test(gt.charAt(Dt)););return Dt}var tu=Ji($n);function ws(gt){for(var Dt=_e.lastIndex=0;_e.test(gt);)++Dt;return Dt}function js(gt){return gt.match(_e)||[]}function Mt(gt){return gt.match(Re)||[]}var Yt=function gt(Dt){Dt=Dt==null?wr:fe.defaults(wr.Object(),Dt,fe.pick(wr,_n));var Wt=Dt.Array,ve=Dt.Date,Ae=Dt.Error,Be=Dt.Function,Mn=Dt.Math,tn=Dt.Object,kn=Dt.RegExp,nr=Dt.String,vn=Dt.TypeError,mr=Wt.prototype,vi=Be.prototype,Ir=tn.prototype,ui=Dt["__core-js_shared__"],Ei=vi.toString,lr=Ir.hasOwnProperty,li=0,Bl=function(){var r=/[^.]+$/.exec(ui&&ui.keys&&ui.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Qs=Ir.toString,fd=Ei.call(tn),hd=wr._,cd=kn("^"+Ei.call(lr).replace(Ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zs=ti?Dt.Buffer:o,Do=Dt.Symbol,Js=Dt.Uint8Array,kl=Zs?Zs.allocUnsafe:o,qs=ys(tn.getPrototypeOf,tn),zl=tn.create,Wl=Ir.propertyIsEnumerable,ta=mr.splice,Fl=Do?Do.isConcatSpreadable:o,Es=Do?Do.iterator:o,Wo=Do?Do.toStringTag:o,ea=function(){try{var r=Vo(tn,"defineProperty");return r({},"",{}),r}catch{}}(),dd=Dt.clearTimeout!==wr.clearTimeout&&Dt.clearTimeout,vd=ve&&ve.now!==wr.Date.now&&ve.now,pd=Dt.setTimeout!==wr.setTimeout&&Dt.setTimeout,na=Mn.ceil,ra=Mn.floor,eu=tn.getOwnPropertySymbols,gd=Zs?Zs.isBuffer:o,Ul=Dt.isFinite,md=mr.join,yd=ys(tn.keys,tn),qr=Mn.max,pi=Mn.min,bd=ve.now,wd=Dt.parseInt,$l=Mn.random,Ed=mr.reverse,nu=Vo(Dt,"DataView"),_s=Vo(Dt,"Map"),ru=Vo(Dt,"Promise"),ns=Vo(Dt,"Set"),xs=Vo(Dt,"WeakMap"),Ms=Vo(tn,"create"),ia=xs&&new xs,rs={},_d=Ko(nu),xd=Ko(_s),Md=Ko(ru),Od=Ko(ns),Sd=Ko(xs),oa=Do?Do.prototype:o,Os=oa?oa.valueOf:o,Gl=oa?oa.toString:o;function pt(r){if(kr(r)&&!Xn(r)&&!(r instanceof fr)){if(r instanceof $i)return r;if(lr.call(r,"__wrapped__"))return Kf(r)}return new $i(r)}var is=function(){function r(){}return function(l){if(!Rr(l))return{};if(zl)return zl(l);r.prototype=l;var L=new r;return r.prototype=o,L}}();function sa(){}function $i(r,l){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=o}pt.templateSettings={escape:en,evaluate:qe,interpolate:ze,variable:"",imports:{_:pt}},pt.prototype=sa.prototype,pt.prototype.constructor=pt,$i.prototype=is(sa.prototype),$i.prototype.constructor=$i;function fr(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jt,this.__views__=[]}function Td(){var r=new fr(this.__wrapped__);return r.__actions__=Ci(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Ci(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Ci(this.__views__),r}function Cd(){if(this.__filtered__){var r=new fr(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function Pd(){var r=this.__wrapped__.value(),l=this.__dir__,L=Xn(r),J=l<0,dt=L?r.length:0,yt=Uv(0,dt,this.__views__),It=yt.start,Vt=yt.end,ee=Vt-It,Se=J?Vt:It-1,Ce=this.__iteratees__,ke=Ce.length,nn=0,bn=pi(ee,this.__takeCount__);if(!L||!J&&dt==ee&&bn==ee)return vf(r,this.__actions__);var In=[];t:for(;ee--&&nn<bn;){Se+=l;for(var tr=-1,Rn=r[Se];++tr<ke;){var ar=Ce[tr],cr=ar.iteratee,zi=ar.type,Mi=cr(Rn);if(zi==q)Rn=Mi;else if(!Mi){if(zi==j)continue t;break t}}In[nn++]=Rn}return In}fr.prototype=is(sa.prototype),fr.prototype.constructor=fr;function Fo(r){var l=-1,L=r==null?0:r.length;for(this.clear();++l<L;){var J=r[l];this.set(J[0],J[1])}}function Ld(){this.__data__=Ms?Ms(null):{},this.size=0}function Dd(r){var l=this.has(r)&&delete this.__data__[r];return this.size-=l?1:0,l}function Nd(r){var l=this.__data__;if(Ms){var L=l[r];return L===p?o:L}return lr.call(l,r)?l[r]:o}function Ad(r){var l=this.__data__;return Ms?l[r]!==o:lr.call(l,r)}function Id(r,l){var L=this.__data__;return this.size+=this.has(r)?0:1,L[r]=Ms&&l===o?p:l,this}Fo.prototype.clear=Ld,Fo.prototype.delete=Dd,Fo.prototype.get=Nd,Fo.prototype.has=Ad,Fo.prototype.set=Id;function wo(r){var l=-1,L=r==null?0:r.length;for(this.clear();++l<L;){var J=r[l];this.set(J[0],J[1])}}function Rd(){this.__data__=[],this.size=0}function Bd(r){var l=this.__data__,L=aa(l,r);if(L<0)return!1;var J=l.length-1;return L==J?l.pop():ta.call(l,L,1),--this.size,!0}function kd(r){var l=this.__data__,L=aa(l,r);return L<0?o:l[L][1]}function zd(r){return aa(this.__data__,r)>-1}function Wd(r,l){var L=this.__data__,J=aa(L,r);return J<0?(++this.size,L.push([r,l])):L[J][1]=l,this}wo.prototype.clear=Rd,wo.prototype.delete=Bd,wo.prototype.get=kd,wo.prototype.has=zd,wo.prototype.set=Wd;function Eo(r){var l=-1,L=r==null?0:r.length;for(this.clear();++l<L;){var J=r[l];this.set(J[0],J[1])}}function Fd(){this.size=0,this.__data__={hash:new Fo,map:new(_s||wo),string:new Fo}}function Ud(r){var l=ba(this,r).delete(r);return this.size-=l?1:0,l}function $d(r){return ba(this,r).get(r)}function Gd(r){return ba(this,r).has(r)}function Vd(r,l){var L=ba(this,r),J=L.size;return L.set(r,l),this.size+=L.size==J?0:1,this}Eo.prototype.clear=Fd,Eo.prototype.delete=Ud,Eo.prototype.get=$d,Eo.prototype.has=Gd,Eo.prototype.set=Vd;function Uo(r){var l=-1,L=r==null?0:r.length;for(this.__data__=new Eo;++l<L;)this.add(r[l])}function Kd(r){return this.__data__.set(r,p),this}function Hd(r){return this.__data__.has(r)}Uo.prototype.add=Uo.prototype.push=Kd,Uo.prototype.has=Hd;function eo(r){var l=this.__data__=new wo(r);this.size=l.size}function Yd(){this.__data__=new wo,this.size=0}function Xd(r){var l=this.__data__,L=l.delete(r);return this.size=l.size,L}function jd(r){return this.__data__.get(r)}function Qd(r){return this.__data__.has(r)}function Zd(r,l){var L=this.__data__;if(L instanceof wo){var J=L.__data__;if(!_s||J.length<s-1)return J.push([r,l]),this.size=++L.size,this;L=this.__data__=new Eo(J)}return L.set(r,l),this.size=L.size,this}eo.prototype.clear=Yd,eo.prototype.delete=Xd,eo.prototype.get=jd,eo.prototype.has=Qd,eo.prototype.set=Zd;function Vl(r,l){var L=Xn(r),J=!L&&Ho(r),dt=!L&&!J&&Bo(r),yt=!L&&!J&&!dt&&us(r),It=L||J||dt||yt,Vt=It?Nr(r.length,nr):[],ee=Vt.length;for(var Se in r)(l||lr.call(r,Se))&&!(It&&(Se=="length"||dt&&(Se=="offset"||Se=="parent")||yt&&(Se=="buffer"||Se=="byteLength"||Se=="byteOffset")||Oo(Se,ee)))&&Vt.push(Se);return Vt}function Kl(r){var l=r.length;return l?r[vu(0,l-1)]:o}function Jd(r,l){return wa(Ci(r),$o(l,0,r.length))}function qd(r){return wa(Ci(r))}function iu(r,l,L){(L!==o&&!no(r[l],L)||L===o&&!(l in r))&&_o(r,l,L)}function Ss(r,l,L){var J=r[l];(!(lr.call(r,l)&&no(J,L))||L===o&&!(l in r))&&_o(r,l,L)}function aa(r,l){for(var L=r.length;L--;)if(no(r[L][0],l))return L;return-1}function tv(r,l,L,J){return No(r,function(dt,yt,It){l(J,dt,L(dt),It)}),J}function Hl(r,l){return r&&ho(l,ii(l),r)}function ev(r,l){return r&&ho(l,Li(l),r)}function _o(r,l,L){l=="__proto__"&&ea?ea(r,l,{configurable:!0,enumerable:!0,value:L,writable:!0}):r[l]=L}function ou(r,l){for(var L=-1,J=l.length,dt=Wt(J),yt=r==null;++L<J;)dt[L]=yt?o:Wu(r,l[L]);return dt}function $o(r,l,L){return r===r&&(L!==o&&(r=r<=L?r:L),l!==o&&(r=r>=l?r:l)),r}function Gi(r,l,L,J,dt,yt){var It,Vt=l&d,ee=l&M,Se=l&D;if(L&&(It=dt?L(r,J,dt,yt):L(r)),It!==o)return It;if(!Rr(r))return r;var Ce=Xn(r);if(Ce){if(It=Gv(r),!Vt)return Ci(r,It)}else{var ke=gi(r),nn=ke==$e||ke==rn;if(Bo(r))return mf(r,Vt);if(ke==un||ke==Pt||nn&&!dt){if(It=ee||nn?{}:Bf(r),!Vt)return ee?Nv(r,ev(It,r)):Dv(r,Hl(It,r))}else{if(!gn[ke])return dt?r:{};It=Vv(r,ke,Vt)}}yt||(yt=new eo);var bn=yt.get(r);if(bn)return bn;yt.set(r,It),hh(r)?r.forEach(function(Rn){It.add(Gi(Rn,l,L,Rn,r,yt))}):lh(r)&&r.forEach(function(Rn,ar){It.set(ar,Gi(Rn,l,L,ar,r,yt))});var In=Se?ee?Ou:Mu:ee?Li:ii,tr=Ce?o:In(r);return Lt(tr||r,function(Rn,ar){tr&&(ar=Rn,Rn=r[ar]),Ss(It,ar,Gi(Rn,l,L,ar,r,yt))}),It}function nv(r){var l=ii(r);return function(L){return Yl(L,r,l)}}function Yl(r,l,L){var J=L.length;if(r==null)return!J;for(r=tn(r);J--;){var dt=L[J],yt=l[dt],It=r[dt];if(It===o&&!(dt in r)||!yt(It))return!1}return!0}function Xl(r,l,L){if(typeof r!="function")throw new vn(u);return As(function(){r.apply(o,L)},l)}function Ts(r,l,L,J){var dt=-1,yt=be,It=!0,Vt=r.length,ee=[],Se=l.length;if(!Vt)return ee;L&&(l=Ee(l,er(L))),J?(yt=oe,It=!1):l.length>=s&&(yt=Zr,It=!1,l=new Uo(l));t:for(;++dt<Vt;){var Ce=r[dt],ke=L==null?Ce:L(Ce);if(Ce=J||Ce!==0?Ce:0,It&&ke===ke){for(var nn=Se;nn--;)if(l[nn]===ke)continue t;ee.push(Ce)}else yt(l,ke,J)||ee.push(Ce)}return ee}var No=_f(fo),jl=_f(au,!0);function rv(r,l){var L=!0;return No(r,function(J,dt,yt){return L=!!l(J,dt,yt),L}),L}function ua(r,l,L){for(var J=-1,dt=r.length;++J<dt;){var yt=r[J],It=l(yt);if(It!=null&&(Vt===o?It===It&&!ki(It):L(It,Vt)))var Vt=It,ee=yt}return ee}function iv(r,l,L,J){var dt=r.length;for(L=qn(L),L<0&&(L=-L>dt?0:dt+L),J=J===o||J>dt?dt:qn(J),J<0&&(J+=dt),J=L>J?0:dh(J);L<J;)r[L++]=l;return r}function Ql(r,l){var L=[];return No(r,function(J,dt,yt){l(J,dt,yt)&&L.push(J)}),L}function fi(r,l,L,J,dt){var yt=-1,It=r.length;for(L||(L=Hv),dt||(dt=[]);++yt<It;){var Vt=r[yt];l>0&&L(Vt)?l>1?fi(Vt,l-1,L,J,dt):wn(dt,Vt):J||(dt[dt.length]=Vt)}return dt}var su=xf(),Zl=xf(!0);function fo(r,l){return r&&su(r,l,ii)}function au(r,l){return r&&Zl(r,l,ii)}function la(r,l){return ce(l,function(L){return So(r[L])})}function Go(r,l){l=Io(l,r);for(var L=0,J=l.length;r!=null&&L<J;)r=r[co(l[L++])];return L&&L==J?r:o}function Jl(r,l,L){var J=l(r);return Xn(r)?J:wn(J,L(r))}function _i(r){return r==null?r===o?pe:Pe:Wo&&Wo in tn(r)?Fv(r):qv(r)}function uu(r,l){return r>l}function ov(r,l){return r!=null&&lr.call(r,l)}function sv(r,l){return r!=null&&l in tn(r)}function av(r,l,L){return r>=pi(l,L)&&r<qr(l,L)}function lu(r,l,L){for(var J=L?oe:be,dt=r[0].length,yt=r.length,It=yt,Vt=Wt(yt),ee=1/0,Se=[];It--;){var Ce=r[It];It&&l&&(Ce=Ee(Ce,er(l))),ee=pi(Ce.length,ee),Vt[It]=!L&&(l||dt>=120&&Ce.length>=120)?new Uo(It&&Ce):o}Ce=r[0];var ke=-1,nn=Vt[0];t:for(;++ke<dt&&Se.length<ee;){var bn=Ce[ke],In=l?l(bn):bn;if(bn=L||bn!==0?bn:0,!(nn?Zr(nn,In):J(Se,In,L))){for(It=yt;--It;){var tr=Vt[It];if(!(tr?Zr(tr,In):J(r[It],In,L)))continue t}nn&&nn.push(In),Se.push(bn)}}return Se}function uv(r,l,L,J){return fo(r,function(dt,yt,It){l(J,L(dt),yt,It)}),J}function Cs(r,l,L){l=Io(l,r),r=Ff(r,l);var J=r==null?r:r[co(Ki(l))];return J==null?o:ot(J,r,L)}function ql(r){return kr(r)&&_i(r)==Pt}function lv(r){return kr(r)&&_i(r)==hr}function fv(r){return kr(r)&&_i(r)==Ie}function Ps(r,l,L,J,dt){return r===l?!0:r==null||l==null||!kr(r)&&!kr(l)?r!==r&&l!==l:hv(r,l,L,J,Ps,dt)}function hv(r,l,L,J,dt,yt){var It=Xn(r),Vt=Xn(l),ee=It?Ft:gi(r),Se=Vt?Ft:gi(l);ee=ee==Pt?un:ee,Se=Se==Pt?un:Se;var Ce=ee==un,ke=Se==un,nn=ee==Se;if(nn&&Bo(r)){if(!Bo(l))return!1;It=!0,Ce=!1}if(nn&&!Ce)return yt||(yt=new eo),It||us(r)?Af(r,l,L,J,dt,yt):zv(r,l,ee,L,J,dt,yt);if(!(L&B)){var bn=Ce&&lr.call(r,"__wrapped__"),In=ke&&lr.call(l,"__wrapped__");if(bn||In){var tr=bn?r.value():r,Rn=In?l.value():l;return yt||(yt=new eo),dt(tr,Rn,L,J,yt)}}return nn?(yt||(yt=new eo),Wv(r,l,L,J,dt,yt)):!1}function cv(r){return kr(r)&&gi(r)==ln}function fu(r,l,L,J){var dt=L.length,yt=dt,It=!J;if(r==null)return!yt;for(r=tn(r);dt--;){var Vt=L[dt];if(It&&Vt[2]?Vt[1]!==r[Vt[0]]:!(Vt[0]in r))return!1}for(;++dt<yt;){Vt=L[dt];var ee=Vt[0],Se=r[ee],Ce=Vt[1];if(It&&Vt[2]){if(Se===o&&!(ee in r))return!1}else{var ke=new eo;if(J)var nn=J(Se,Ce,ee,r,l,ke);if(!(nn===o?Ps(Ce,Se,B|Y,J,ke):nn))return!1}}return!0}function tf(r){if(!Rr(r)||Xv(r))return!1;var l=So(r)?cd:zr;return l.test(Ko(r))}function dv(r){return kr(r)&&_i(r)==hn}function vv(r){return kr(r)&&gi(r)==Vn}function pv(r){return kr(r)&&Sa(r.length)&&!!pn[_i(r)]}function ef(r){return typeof r=="function"?r:r==null?Di:typeof r=="object"?Xn(r)?of(r[0],r[1]):rf(r):Mh(r)}function hu(r){if(!Ns(r))return yd(r);var l=[];for(var L in tn(r))lr.call(r,L)&&L!="constructor"&&l.push(L);return l}function gv(r){if(!Rr(r))return Jv(r);var l=Ns(r),L=[];for(var J in r)J=="constructor"&&(l||!lr.call(r,J))||L.push(J);return L}function cu(r,l){return r<l}function nf(r,l){var L=-1,J=Pi(r)?Wt(r.length):[];return No(r,function(dt,yt,It){J[++L]=l(dt,yt,It)}),J}function rf(r){var l=Tu(r);return l.length==1&&l[0][2]?zf(l[0][0],l[0][1]):function(L){return L===r||fu(L,r,l)}}function of(r,l){return Pu(r)&&kf(l)?zf(co(r),l):function(L){var J=Wu(L,r);return J===o&&J===l?Fu(L,r):Ps(l,J,B|Y)}}function fa(r,l,L,J,dt){r!==l&&su(l,function(yt,It){if(dt||(dt=new eo),Rr(yt))mv(r,l,It,L,fa,J,dt);else{var Vt=J?J(Du(r,It),yt,It+"",r,l,dt):o;Vt===o&&(Vt=yt),iu(r,It,Vt)}},Li)}function mv(r,l,L,J,dt,yt,It){var Vt=Du(r,L),ee=Du(l,L),Se=It.get(ee);if(Se){iu(r,L,Se);return}var Ce=yt?yt(Vt,ee,L+"",r,l,It):o,ke=Ce===o;if(ke){var nn=Xn(ee),bn=!nn&&Bo(ee),In=!nn&&!bn&&us(ee);Ce=ee,nn||bn||In?Xn(Vt)?Ce=Vt:$r(Vt)?Ce=Ci(Vt):bn?(ke=!1,Ce=mf(ee,!0)):In?(ke=!1,Ce=yf(ee,!0)):Ce=[]:Is(ee)||Ho(ee)?(Ce=Vt,Ho(Vt)?Ce=vh(Vt):(!Rr(Vt)||So(Vt))&&(Ce=Bf(ee))):ke=!1}ke&&(It.set(ee,Ce),dt(Ce,ee,J,yt,It),It.delete(ee)),iu(r,L,Ce)}function sf(r,l){var L=r.length;if(L)return l+=l<0?L:0,Oo(l,L)?r[l]:o}function af(r,l,L){l.length?l=Ee(l,function(yt){return Xn(yt)?function(It){return Go(It,yt.length===1?yt[0]:yt)}:yt}):l=[Di];var J=-1;l=Ee(l,er(An()));var dt=nf(r,function(yt,It,Vt){var ee=Ee(l,function(Se){return Se(yt)});return{criteria:ee,index:++J,value:yt}});return yi(dt,function(yt,It){return Lv(yt,It,L)})}function yv(r,l){return uf(r,l,function(L,J){return Fu(r,J)})}function uf(r,l,L){for(var J=-1,dt=l.length,yt={};++J<dt;){var It=l[J],Vt=Go(r,It);L(Vt,It)&&Ls(yt,Io(It,r),Vt)}return yt}function bv(r){return function(l){return Go(l,r)}}function du(r,l,L,J){var dt=J?gr:Gn,yt=-1,It=l.length,Vt=r;for(r===l&&(l=Ci(l)),L&&(Vt=Ee(r,er(L)));++yt<It;)for(var ee=0,Se=l[yt],Ce=L?L(Se):Se;(ee=dt(Vt,Ce,ee,J))>-1;)Vt!==r&&ta.call(Vt,ee,1),ta.call(r,ee,1);return r}function lf(r,l){for(var L=r?l.length:0,J=L-1;L--;){var dt=l[L];if(L==J||dt!==yt){var yt=dt;Oo(dt)?ta.call(r,dt,1):mu(r,dt)}}return r}function vu(r,l){return r+ra($l()*(l-r+1))}function wv(r,l,L,J){for(var dt=-1,yt=qr(na((l-r)/(L||1)),0),It=Wt(yt);yt--;)It[J?yt:++dt]=r,r+=L;return It}function pu(r,l){var L="";if(!r||l<1||l>wt)return L;do l%2&&(L+=r),l=ra(l/2),l&&(r+=r);while(l);return L}function rr(r,l){return Nu(Wf(r,l,Di),r+"")}function Ev(r){return Kl(ls(r))}function _v(r,l){var L=ls(r);return wa(L,$o(l,0,L.length))}function Ls(r,l,L,J){if(!Rr(r))return r;l=Io(l,r);for(var dt=-1,yt=l.length,It=yt-1,Vt=r;Vt!=null&&++dt<yt;){var ee=co(l[dt]),Se=L;if(ee==="__proto__"||ee==="constructor"||ee==="prototype")return r;if(dt!=It){var Ce=Vt[ee];Se=J?J(Ce,ee,Vt):o,Se===o&&(Se=Rr(Ce)?Ce:Oo(l[dt+1])?[]:{})}Ss(Vt,ee,Se),Vt=Vt[ee]}return r}var ff=ia?function(r,l){return ia.set(r,l),r}:Di,xv=ea?function(r,l){return ea(r,"toString",{configurable:!0,enumerable:!1,value:$u(l),writable:!0})}:Di;function Mv(r){return wa(ls(r))}function Vi(r,l,L){var J=-1,dt=r.length;l<0&&(l=-l>dt?0:dt+l),L=L>dt?dt:L,L<0&&(L+=dt),dt=l>L?0:L-l>>>0,l>>>=0;for(var yt=Wt(dt);++J<dt;)yt[J]=r[J+l];return yt}function Ov(r,l){var L;return No(r,function(J,dt,yt){return L=l(J,dt,yt),!L}),!!L}function ha(r,l,L){var J=0,dt=r==null?J:r.length;if(typeof l=="number"&&l===l&&dt<=zt){for(;J<dt;){var yt=J+dt>>>1,It=r[yt];It!==null&&!ki(It)&&(L?It<=l:It<l)?J=yt+1:dt=yt}return dt}return gu(r,l,Di,L)}function gu(r,l,L,J){var dt=0,yt=r==null?0:r.length;if(yt===0)return 0;l=L(l);for(var It=l!==l,Vt=l===null,ee=ki(l),Se=l===o;dt<yt;){var Ce=ra((dt+yt)/2),ke=L(r[Ce]),nn=ke!==o,bn=ke===null,In=ke===ke,tr=ki(ke);if(It)var Rn=J||In;else Se?Rn=In&&(J||nn):Vt?Rn=In&&nn&&(J||!bn):ee?Rn=In&&nn&&!bn&&(J||!tr):bn||tr?Rn=!1:Rn=J?ke<=l:ke<l;Rn?dt=Ce+1:yt=Ce}return pi(yt,me)}function hf(r,l){for(var L=-1,J=r.length,dt=0,yt=[];++L<J;){var It=r[L],Vt=l?l(It):It;if(!L||!no(Vt,ee)){var ee=Vt;yt[dt++]=It===0?0:It}}return yt}function cf(r){return typeof r=="number"?r:ki(r)?Kt:+r}function Bi(r){if(typeof r=="string")return r;if(Xn(r))return Ee(r,Bi)+"";if(ki(r))return Gl?Gl.call(r):"";var l=r+"";return l=="0"&&1/r==-mt?"-0":l}function Ao(r,l,L){var J=-1,dt=be,yt=r.length,It=!0,Vt=[],ee=Vt;if(L)It=!1,dt=oe;else if(yt>=s){var Se=l?null:Bv(r);if(Se)return bo(Se);It=!1,dt=Zr,ee=new Uo}else ee=l?[]:Vt;t:for(;++J<yt;){var Ce=r[J],ke=l?l(Ce):Ce;if(Ce=L||Ce!==0?Ce:0,It&&ke===ke){for(var nn=ee.length;nn--;)if(ee[nn]===ke)continue t;l&&ee.push(ke),Vt.push(Ce)}else dt(ee,ke,L)||(ee!==Vt&&ee.push(ke),Vt.push(Ce))}return Vt}function mu(r,l){return l=Io(l,r),r=Ff(r,l),r==null||delete r[co(Ki(l))]}function df(r,l,L,J){return Ls(r,l,L(Go(r,l)),J)}function ca(r,l,L,J){for(var dt=r.length,yt=J?dt:-1;(J?yt--:++yt<dt)&&l(r[yt],yt,r););return L?Vi(r,J?0:yt,J?yt+1:dt):Vi(r,J?yt+1:0,J?dt:yt)}function vf(r,l){var L=r;return L instanceof fr&&(L=L.value()),Qn(l,function(J,dt){return dt.func.apply(dt.thisArg,wn([J],dt.args))},L)}function yu(r,l,L){var J=r.length;if(J<2)return J?Ao(r[0]):[];for(var dt=-1,yt=Wt(J);++dt<J;)for(var It=r[dt],Vt=-1;++Vt<J;)Vt!=dt&&(yt[dt]=Ts(yt[dt]||It,r[Vt],l,L));return Ao(fi(yt,1),l,L)}function pf(r,l,L){for(var J=-1,dt=r.length,yt=l.length,It={};++J<dt;){var Vt=J<yt?l[J]:o;L(It,r[J],Vt)}return It}function bu(r){return $r(r)?r:[]}function wu(r){return typeof r=="function"?r:Di}function Io(r,l){return Xn(r)?r:Pu(r,l)?[r]:Vf(Er(r))}var Sv=rr;function Ro(r,l,L){var J=r.length;return L=L===o?J:L,!l&&L>=J?r:Vi(r,l,L)}var gf=dd||function(r){return wr.clearTimeout(r)};function mf(r,l){if(l)return r.slice();var L=r.length,J=kl?kl(L):new r.constructor(L);return r.copy(J),J}function Eu(r){var l=new r.constructor(r.byteLength);return new Js(l).set(new Js(r)),l}function Tv(r,l){var L=l?Eu(r.buffer):r.buffer;return new r.constructor(L,r.byteOffset,r.byteLength)}function Cv(r){var l=new r.constructor(r.source,vr.exec(r));return l.lastIndex=r.lastIndex,l}function Pv(r){return Os?tn(Os.call(r)):{}}function yf(r,l){var L=l?Eu(r.buffer):r.buffer;return new r.constructor(L,r.byteOffset,r.length)}function bf(r,l){if(r!==l){var L=r!==o,J=r===null,dt=r===r,yt=ki(r),It=l!==o,Vt=l===null,ee=l===l,Se=ki(l);if(!Vt&&!Se&&!yt&&r>l||yt&&It&&ee&&!Vt&&!Se||J&&It&&ee||!L&&ee||!dt)return 1;if(!J&&!yt&&!Se&&r<l||Se&&L&&dt&&!J&&!yt||Vt&&L&&dt||!It&&dt||!ee)return-1}return 0}function Lv(r,l,L){for(var J=-1,dt=r.criteria,yt=l.criteria,It=dt.length,Vt=L.length;++J<It;){var ee=bf(dt[J],yt[J]);if(ee){if(J>=Vt)return ee;var Se=L[J];return ee*(Se=="desc"?-1:1)}}return r.index-l.index}function wf(r,l,L,J){for(var dt=-1,yt=r.length,It=L.length,Vt=-1,ee=l.length,Se=qr(yt-It,0),Ce=Wt(ee+Se),ke=!J;++Vt<ee;)Ce[Vt]=l[Vt];for(;++dt<It;)(ke||dt<yt)&&(Ce[L[dt]]=r[dt]);for(;Se--;)Ce[Vt++]=r[dt++];return Ce}function Ef(r,l,L,J){for(var dt=-1,yt=r.length,It=-1,Vt=L.length,ee=-1,Se=l.length,Ce=qr(yt-Vt,0),ke=Wt(Ce+Se),nn=!J;++dt<Ce;)ke[dt]=r[dt];for(var bn=dt;++ee<Se;)ke[bn+ee]=l[ee];for(;++It<Vt;)(nn||dt<yt)&&(ke[bn+L[It]]=r[dt++]);return ke}function Ci(r,l){var L=-1,J=r.length;for(l||(l=Wt(J));++L<J;)l[L]=r[L];return l}function ho(r,l,L,J){var dt=!L;L||(L={});for(var yt=-1,It=l.length;++yt<It;){var Vt=l[yt],ee=J?J(L[Vt],r[Vt],Vt,L,r):o;ee===o&&(ee=r[Vt]),dt?_o(L,Vt,ee):Ss(L,Vt,ee)}return L}function Dv(r,l){return ho(r,Cu(r),l)}function Nv(r,l){return ho(r,If(r),l)}function da(r,l){return function(L,J){var dt=Xn(L)?ft:tv,yt=l?l():{};return dt(L,r,An(J,2),yt)}}function os(r){return rr(function(l,L){var J=-1,dt=L.length,yt=dt>1?L[dt-1]:o,It=dt>2?L[2]:o;for(yt=r.length>3&&typeof yt=="function"?(dt--,yt):o,It&&xi(L[0],L[1],It)&&(yt=dt<3?o:yt,dt=1),l=tn(l);++J<dt;){var Vt=L[J];Vt&&r(l,Vt,J,yt)}return l})}function _f(r,l){return function(L,J){if(L==null)return L;if(!Pi(L))return r(L,J);for(var dt=L.length,yt=l?dt:-1,It=tn(L);(l?yt--:++yt<dt)&&J(It[yt],yt,It)!==!1;);return L}}function xf(r){return function(l,L,J){for(var dt=-1,yt=tn(l),It=J(l),Vt=It.length;Vt--;){var ee=It[r?Vt:++dt];if(L(yt[ee],ee,yt)===!1)break}return l}}function Av(r,l,L){var J=l&N,dt=Ds(r);function yt(){var It=this&&this!==wr&&this instanceof yt?dt:r;return It.apply(J?L:this,arguments)}return yt}function Mf(r){return function(l){l=Er(l);var L=mo(l)?wi(l):o,J=L?L[0]:l.charAt(0),dt=L?Ro(L,1).join(""):l.slice(1);return J[r]()+dt}}function ss(r){return function(l){return Qn(_h(Eh(l).replace(qt,"")),r,"")}}function Ds(r){return function(){var l=arguments;switch(l.length){case 0:return new r;case 1:return new r(l[0]);case 2:return new r(l[0],l[1]);case 3:return new r(l[0],l[1],l[2]);case 4:return new r(l[0],l[1],l[2],l[3]);case 5:return new r(l[0],l[1],l[2],l[3],l[4]);case 6:return new r(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new r(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var L=is(r.prototype),J=r.apply(L,l);return Rr(J)?J:L}}function Iv(r,l,L){var J=Ds(r);function dt(){for(var yt=arguments.length,It=Wt(yt),Vt=yt,ee=as(dt);Vt--;)It[Vt]=arguments[Vt];var Se=yt<3&&It[0]!==ee&&It[yt-1]!==ee?[]:Ti(It,ee);if(yt-=Se.length,yt<L)return Pf(r,l,va,dt.placeholder,o,It,Se,o,o,L-yt);var Ce=this&&this!==wr&&this instanceof dt?J:r;return ot(Ce,this,It)}return dt}function Of(r){return function(l,L,J){var dt=tn(l);if(!Pi(l)){var yt=An(L,3);l=ii(l),L=function(Vt){return yt(dt[Vt],Vt,dt)}}var It=r(l,L,J);return It>-1?dt[yt?l[It]:It]:o}}function Sf(r){return Mo(function(l){var L=l.length,J=L,dt=$i.prototype.thru;for(r&&l.reverse();J--;){var yt=l[J];if(typeof yt!="function")throw new vn(u);if(dt&&!It&&ya(yt)=="wrapper")var It=new $i([],!0)}for(J=It?J:L;++J<L;){yt=l[J];var Vt=ya(yt),ee=Vt=="wrapper"?Su(yt):o;ee&&Lu(ee[0])&&ee[1]==(R|tt|K|g)&&!ee[4].length&&ee[9]==1?It=It[ya(ee[0])].apply(It,ee[3]):It=yt.length==1&&Lu(yt)?It[Vt]():It.thru(yt)}return function(){var Se=arguments,Ce=Se[0];if(It&&Se.length==1&&Xn(Ce))return It.plant(Ce).value();for(var ke=0,nn=L?l[ke].apply(this,Se):Ce;++ke<L;)nn=l[ke].call(this,nn);return nn}})}function va(r,l,L,J,dt,yt,It,Vt,ee,Se){var Ce=l&R,ke=l&N,nn=l&A,bn=l&(tt|et),In=l&C,tr=nn?o:Ds(r);function Rn(){for(var ar=arguments.length,cr=Wt(ar),zi=ar;zi--;)cr[zi]=arguments[zi];if(bn)var Mi=as(Rn),Wi=qi(cr,Mi);if(J&&(cr=wf(cr,J,dt,bn)),yt&&(cr=Ef(cr,yt,It,bn)),ar-=Wi,bn&&ar<Se){var Gr=Ti(cr,Mi);return Pf(r,l,va,Rn.placeholder,L,cr,Gr,Vt,ee,Se-ar)}var ro=ke?L:this,Co=nn?ro[r]:r;return ar=cr.length,Vt?cr=tp(cr,Vt):In&&ar>1&&cr.reverse(),Ce&&ee<ar&&(cr.length=ee),this&&this!==wr&&this instanceof Rn&&(Co=tr||Ds(Co)),Co.apply(ro,cr)}return Rn}function Tf(r,l){return function(L,J){return uv(L,r,l(J),{})}}function pa(r,l){return function(L,J){var dt;if(L===o&&J===o)return l;if(L!==o&&(dt=L),J!==o){if(dt===o)return J;typeof L=="string"||typeof J=="string"?(L=Bi(L),J=Bi(J)):(L=cf(L),J=cf(J)),dt=r(L,J)}return dt}}function _u(r){return Mo(function(l){return l=Ee(l,er(An())),rr(function(L){var J=this;return r(l,function(dt){return ot(dt,J,L)})})})}function ga(r,l){l=l===o?" ":Bi(l);var L=l.length;if(L<2)return L?pu(l,r):l;var J=pu(l,na(r/to(l)));return mo(l)?Ro(wi(J),0,r).join(""):J.slice(0,r)}function Rv(r,l,L,J){var dt=l&N,yt=Ds(r);function It(){for(var Vt=-1,ee=arguments.length,Se=-1,Ce=J.length,ke=Wt(Ce+ee),nn=this&&this!==wr&&this instanceof It?yt:r;++Se<Ce;)ke[Se]=J[Se];for(;ee--;)ke[Se++]=arguments[++Vt];return ot(nn,dt?L:this,ke)}return It}function Cf(r){return function(l,L,J){return J&&typeof J!="number"&&xi(l,L,J)&&(L=J=o),l=To(l),L===o?(L=l,l=0):L=To(L),J=J===o?l<L?1:-1:To(J),wv(l,L,J,r)}}function ma(r){return function(l,L){return typeof l=="string"&&typeof L=="string"||(l=Hi(l),L=Hi(L)),r(l,L)}}function Pf(r,l,L,J,dt,yt,It,Vt,ee,Se){var Ce=l&tt,ke=Ce?It:o,nn=Ce?o:It,bn=Ce?yt:o,In=Ce?o:yt;l|=Ce?K:U,l&=~(Ce?U:K),l&k||(l&=~(N|A));var tr=[r,l,dt,bn,ke,In,nn,Vt,ee,Se],Rn=L.apply(o,tr);return Lu(r)&&Uf(Rn,tr),Rn.placeholder=J,$f(Rn,r,l)}function xu(r){var l=Mn[r];return function(L,J){if(L=Hi(L),J=J==null?0:pi(qn(J),292),J&&Ul(L)){var dt=(Er(L)+"e").split("e"),yt=l(dt[0]+"e"+(+dt[1]+J));return dt=(Er(yt)+"e").split("e"),+(dt[0]+"e"+(+dt[1]-J))}return l(L)}}var Bv=ns&&1/bo(new ns([,-0]))[1]==mt?function(r){return new ns(r)}:Ku;function Lf(r){return function(l){var L=gi(l);return L==ln?Ui(l):L==Vn?ts(l):Fi(l,r(l))}}function xo(r,l,L,J,dt,yt,It,Vt){var ee=l&A;if(!ee&&typeof r!="function")throw new vn(u);var Se=J?J.length:0;if(Se||(l&=~(K|U),J=dt=o),It=It===o?It:qr(qn(It),0),Vt=Vt===o?Vt:qn(Vt),Se-=dt?dt.length:0,l&U){var Ce=J,ke=dt;J=dt=o}var nn=ee?o:Su(r),bn=[r,l,L,J,dt,Ce,ke,yt,It,Vt];if(nn&&Zv(bn,nn),r=bn[0],l=bn[1],L=bn[2],J=bn[3],dt=bn[4],Vt=bn[9]=bn[9]===o?ee?0:r.length:qr(bn[9]-Se,0),!Vt&&l&(tt|et)&&(l&=~(tt|et)),!l||l==N)var In=Av(r,l,L);else l==tt||l==et?In=Iv(r,l,Vt):(l==K||l==(N|K))&&!dt.length?In=Rv(r,l,L,J):In=va.apply(o,bn);var tr=nn?ff:Uf;return $f(tr(In,bn),r,l)}function Df(r,l,L,J){return r===o||no(r,Ir[L])&&!lr.call(J,L)?l:r}function Nf(r,l,L,J,dt,yt){return Rr(r)&&Rr(l)&&(yt.set(l,r),fa(r,l,o,Nf,yt),yt.delete(l)),r}function kv(r){return Is(r)?o:r}function Af(r,l,L,J,dt,yt){var It=L&B,Vt=r.length,ee=l.length;if(Vt!=ee&&!(It&&ee>Vt))return!1;var Se=yt.get(r),Ce=yt.get(l);if(Se&&Ce)return Se==l&&Ce==r;var ke=-1,nn=!0,bn=L&Y?new Uo:o;for(yt.set(r,l),yt.set(l,r);++ke<Vt;){var In=r[ke],tr=l[ke];if(J)var Rn=It?J(tr,In,ke,l,r,yt):J(In,tr,ke,r,l,yt);if(Rn!==o){if(Rn)continue;nn=!1;break}if(bn){if(!Lr(l,function(ar,cr){if(!Zr(bn,cr)&&(In===ar||dt(In,ar,L,J,yt)))return bn.push(cr)})){nn=!1;break}}else if(!(In===tr||dt(In,tr,L,J,yt))){nn=!1;break}}return yt.delete(r),yt.delete(l),nn}function zv(r,l,L,J,dt,yt,It){switch(L){case ge:if(r.byteLength!=l.byteLength||r.byteOffset!=l.byteOffset)return!1;r=r.buffer,l=l.buffer;case hr:return!(r.byteLength!=l.byteLength||!yt(new Js(r),new Js(l)));case de:case Ie:case fn:return no(+r,+l);case Qt:return r.name==l.name&&r.message==l.message;case hn:case Or:return r==l+"";case ln:var Vt=Ui;case Vn:var ee=J&B;if(Vt||(Vt=bo),r.size!=l.size&&!ee)return!1;var Se=It.get(r);if(Se)return Se==l;J|=Y,It.set(r,l);var Ce=Af(Vt(r),Vt(l),J,dt,yt,It);return It.delete(r),Ce;case Hn:if(Os)return Os.call(r)==Os.call(l)}return!1}function Wv(r,l,L,J,dt,yt){var It=L&B,Vt=Mu(r),ee=Vt.length,Se=Mu(l),Ce=Se.length;if(ee!=Ce&&!It)return!1;for(var ke=ee;ke--;){var nn=Vt[ke];if(!(It?nn in l:lr.call(l,nn)))return!1}var bn=yt.get(r),In=yt.get(l);if(bn&&In)return bn==l&&In==r;var tr=!0;yt.set(r,l),yt.set(l,r);for(var Rn=It;++ke<ee;){nn=Vt[ke];var ar=r[nn],cr=l[nn];if(J)var zi=It?J(cr,ar,nn,l,r,yt):J(ar,cr,nn,r,l,yt);if(!(zi===o?ar===cr||dt(ar,cr,L,J,yt):zi)){tr=!1;break}Rn||(Rn=nn=="constructor")}if(tr&&!Rn){var Mi=r.constructor,Wi=l.constructor;Mi!=Wi&&"constructor"in r&&"constructor"in l&&!(typeof Mi=="function"&&Mi instanceof Mi&&typeof Wi=="function"&&Wi instanceof Wi)&&(tr=!1)}return yt.delete(r),yt.delete(l),tr}function Mo(r){return Nu(Wf(r,o,Xf),r+"")}function Mu(r){return Jl(r,ii,Cu)}function Ou(r){return Jl(r,Li,If)}var Su=ia?function(r){return ia.get(r)}:Ku;function ya(r){for(var l=r.name+"",L=rs[l],J=lr.call(rs,l)?L.length:0;J--;){var dt=L[J],yt=dt.func;if(yt==null||yt==r)return dt.name}return l}function as(r){var l=lr.call(pt,"placeholder")?pt:r;return l.placeholder}function An(){var r=pt.iteratee||Gu;return r=r===Gu?ef:r,arguments.length?r(arguments[0],arguments[1]):r}function ba(r,l){var L=r.__data__;return Yv(l)?L[typeof l=="string"?"string":"hash"]:L.map}function Tu(r){for(var l=ii(r),L=l.length;L--;){var J=l[L],dt=r[J];l[L]=[J,dt,kf(dt)]}return l}function Vo(r,l){var L=gs(r,l);return tf(L)?L:o}function Fv(r){var l=lr.call(r,Wo),L=r[Wo];try{r[Wo]=o;var J=!0}catch{}var dt=Qs.call(r);return J&&(l?r[Wo]=L:delete r[Wo]),dt}var Cu=eu?function(r){return r==null?[]:(r=tn(r),ce(eu(r),function(l){return Wl.call(r,l)}))}:Hu,If=eu?function(r){for(var l=[];r;)wn(l,Cu(r)),r=qs(r);return l}:Hu,gi=_i;(nu&&gi(new nu(new ArrayBuffer(1)))!=ge||_s&&gi(new _s)!=ln||ru&&gi(ru.resolve())!=cn||ns&&gi(new ns)!=Vn||xs&&gi(new xs)!=bt)&&(gi=function(r){var l=_i(r),L=l==un?r.constructor:o,J=L?Ko(L):"";if(J)switch(J){case _d:return ge;case xd:return ln;case Md:return cn;case Od:return Vn;case Sd:return bt}return l});function Uv(r,l,L){for(var J=-1,dt=L.length;++J<dt;){var yt=L[J],It=yt.size;switch(yt.type){case"drop":r+=It;break;case"dropRight":l-=It;break;case"take":l=pi(l,r+It);break;case"takeRight":r=qr(r,l-It);break}}return{start:r,end:l}}function $v(r){var l=r.match(Zn);return l?l[1].split(ir):[]}function Rf(r,l,L){l=Io(l,r);for(var J=-1,dt=l.length,yt=!1;++J<dt;){var It=co(l[J]);if(!(yt=r!=null&&L(r,It)))break;r=r[It]}return yt||++J!=dt?yt:(dt=r==null?0:r.length,!!dt&&Sa(dt)&&Oo(It,dt)&&(Xn(r)||Ho(r)))}function Gv(r){var l=r.length,L=new r.constructor(l);return l&&typeof r[0]=="string"&&lr.call(r,"index")&&(L.index=r.index,L.input=r.input),L}function Bf(r){return typeof r.constructor=="function"&&!Ns(r)?is(qs(r)):{}}function Vv(r,l,L){var J=r.constructor;switch(l){case hr:return Eu(r);case de:case Ie:return new J(+r);case ge:return Tv(r,L);case Ne:case Ut:case I:case Et:case ct:case St:case xt:case Ot:case _t:return yf(r,L);case ln:return new J;case fn:case Or:return new J(r);case hn:return Cv(r);case Vn:return new J;case Hn:return Pv(r)}}function Kv(r,l){var L=l.length;if(!L)return r;var J=L-1;return l[J]=(L>1?"& ":"")+l[J],l=l.join(L>2?", ":" "),r.replace(Bn,`{
/* [wrapped with `+l+`] */
`)}function Hv(r){return Xn(r)||Ho(r)||!!(Fl&&r&&r[Fl])}function Oo(r,l){var L=typeof r;return l=l??wt,!!l&&(L=="number"||L!="symbol"&&Kn.test(r))&&r>-1&&r%1==0&&r<l}function xi(r,l,L){if(!Rr(L))return!1;var J=typeof l;return(J=="number"?Pi(L)&&Oo(l,L.length):J=="string"&&l in L)?no(L[l],r):!1}function Pu(r,l){if(Xn(r))return!1;var L=typeof r;return L=="number"||L=="symbol"||L=="boolean"||r==null||ki(r)?!0:je.test(r)||!xe.test(r)||l!=null&&r in tn(l)}function Yv(r){var l=typeof r;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?r!=="__proto__":r===null}function Lu(r){var l=ya(r),L=pt[l];if(typeof L!="function"||!(l in fr.prototype))return!1;if(r===L)return!0;var J=Su(L);return!!J&&r===J[0]}function Xv(r){return!!Bl&&Bl in r}var jv=ui?So:Yu;function Ns(r){var l=r&&r.constructor,L=typeof l=="function"&&l.prototype||Ir;return r===L}function kf(r){return r===r&&!Rr(r)}function zf(r,l){return function(L){return L==null?!1:L[r]===l&&(l!==o||r in tn(L))}}function Qv(r){var l=Ma(r,function(J){return L.size===y&&L.clear(),J}),L=l.cache;return l}function Zv(r,l){var L=r[1],J=l[1],dt=L|J,yt=dt<(N|A|R),It=J==R&&L==tt||J==R&&L==g&&r[7].length<=l[8]||J==(R|g)&&l[7].length<=l[8]&&L==tt;if(!(yt||It))return r;J&N&&(r[2]=l[2],dt|=L&N?0:k);var Vt=l[3];if(Vt){var ee=r[3];r[3]=ee?wf(ee,Vt,l[4]):Vt,r[4]=ee?Ti(r[3],w):l[4]}return Vt=l[5],Vt&&(ee=r[5],r[5]=ee?Ef(ee,Vt,l[6]):Vt,r[6]=ee?Ti(r[5],w):l[6]),Vt=l[7],Vt&&(r[7]=Vt),J&R&&(r[8]=r[8]==null?l[8]:pi(r[8],l[8])),r[9]==null&&(r[9]=l[9]),r[0]=l[0],r[1]=dt,r}function Jv(r){var l=[];if(r!=null)for(var L in tn(r))l.push(L);return l}function qv(r){return Qs.call(r)}function Wf(r,l,L){return l=qr(l===o?r.length-1:l,0),function(){for(var J=arguments,dt=-1,yt=qr(J.length-l,0),It=Wt(yt);++dt<yt;)It[dt]=J[l+dt];dt=-1;for(var Vt=Wt(l+1);++dt<l;)Vt[dt]=J[dt];return Vt[l]=L(It),ot(r,this,Vt)}}function Ff(r,l){return l.length<2?r:Go(r,Vi(l,0,-1))}function tp(r,l){for(var L=r.length,J=pi(l.length,L),dt=Ci(r);J--;){var yt=l[J];r[J]=Oo(yt,L)?dt[yt]:o}return r}function Du(r,l){if(!(l==="constructor"&&typeof r[l]=="function")&&l!="__proto__")return r[l]}var Uf=Gf(ff),As=pd||function(r,l){return wr.setTimeout(r,l)},Nu=Gf(xv);function $f(r,l,L){var J=l+"";return Nu(r,Kv(J,ep($v(J),L)))}function Gf(r){var l=0,L=0;return function(){var J=bd(),dt=nt-(J-L);if(L=J,dt>0){if(++l>=G)return arguments[0]}else l=0;return r.apply(o,arguments)}}function wa(r,l){var L=-1,J=r.length,dt=J-1;for(l=l===o?J:l;++L<l;){var yt=vu(L,dt),It=r[yt];r[yt]=r[L],r[L]=It}return r.length=l,r}var Vf=Qv(function(r){var l=[];return r.charCodeAt(0)===46&&l.push(""),r.replace(Me,function(L,J,dt,yt){l.push(dt?yt.replace(On,"$1"):J||L)}),l});function co(r){if(typeof r=="string"||ki(r))return r;var l=r+"";return l=="0"&&1/r==-mt?"-0":l}function Ko(r){if(r!=null){try{return Ei.call(r)}catch{}try{return r+""}catch{}}return""}function ep(r,l){return Lt($t,function(L){var J="_."+L[0];l&L[1]&&!be(r,J)&&r.push(J)}),r.sort()}function Kf(r){if(r instanceof fr)return r.clone();var l=new $i(r.__wrapped__,r.__chain__);return l.__actions__=Ci(r.__actions__),l.__index__=r.__index__,l.__values__=r.__values__,l}function np(r,l,L){(L?xi(r,l,L):l===o)?l=1:l=qr(qn(l),0);var J=r==null?0:r.length;if(!J||l<1)return[];for(var dt=0,yt=0,It=Wt(na(J/l));dt<J;)It[yt++]=Vi(r,dt,dt+=l);return It}function rp(r){for(var l=-1,L=r==null?0:r.length,J=0,dt=[];++l<L;){var yt=r[l];yt&&(dt[J++]=yt)}return dt}function ip(){var r=arguments.length;if(!r)return[];for(var l=Wt(r-1),L=arguments[0],J=r;J--;)l[J-1]=arguments[J];return wn(Xn(L)?Ci(L):[L],fi(l,1))}var op=rr(function(r,l){return $r(r)?Ts(r,fi(l,1,$r,!0)):[]}),sp=rr(function(r,l){var L=Ki(l);return $r(L)&&(L=o),$r(r)?Ts(r,fi(l,1,$r,!0),An(L,2)):[]}),ap=rr(function(r,l){var L=Ki(l);return $r(L)&&(L=o),$r(r)?Ts(r,fi(l,1,$r,!0),o,L):[]});function up(r,l,L){var J=r==null?0:r.length;return J?(l=L||l===o?1:qn(l),Vi(r,l<0?0:l,J)):[]}function lp(r,l,L){var J=r==null?0:r.length;return J?(l=L||l===o?1:qn(l),l=J-l,Vi(r,0,l<0?0:l)):[]}function fp(r,l){return r&&r.length?ca(r,An(l,3),!0,!0):[]}function hp(r,l){return r&&r.length?ca(r,An(l,3),!0):[]}function cp(r,l,L,J){var dt=r==null?0:r.length;return dt?(L&&typeof L!="number"&&xi(r,l,L)&&(L=0,J=dt),iv(r,l,L,J)):[]}function Hf(r,l,L){var J=r==null?0:r.length;if(!J)return-1;var dt=L==null?0:qn(L);return dt<0&&(dt=qr(J+dt,0)),Fr(r,An(l,3),dt)}function Yf(r,l,L){var J=r==null?0:r.length;if(!J)return-1;var dt=J-1;return L!==o&&(dt=qn(L),dt=L<0?qr(J+dt,0):pi(dt,J-1)),Fr(r,An(l,3),dt,!0)}function Xf(r){var l=r==null?0:r.length;return l?fi(r,1):[]}function dp(r){var l=r==null?0:r.length;return l?fi(r,mt):[]}function vp(r,l){var L=r==null?0:r.length;return L?(l=l===o?1:qn(l),fi(r,l)):[]}function pp(r){for(var l=-1,L=r==null?0:r.length,J={};++l<L;){var dt=r[l];J[dt[0]]=dt[1]}return J}function jf(r){return r&&r.length?r[0]:o}function gp(r,l,L){var J=r==null?0:r.length;if(!J)return-1;var dt=L==null?0:qn(L);return dt<0&&(dt=qr(J+dt,0)),Gn(r,l,dt)}function mp(r){var l=r==null?0:r.length;return l?Vi(r,0,-1):[]}var yp=rr(function(r){var l=Ee(r,bu);return l.length&&l[0]===r[0]?lu(l):[]}),bp=rr(function(r){var l=Ki(r),L=Ee(r,bu);return l===Ki(L)?l=o:L.pop(),L.length&&L[0]===r[0]?lu(L,An(l,2)):[]}),wp=rr(function(r){var l=Ki(r),L=Ee(r,bu);return l=typeof l=="function"?l:o,l&&L.pop(),L.length&&L[0]===r[0]?lu(L,o,l):[]});function Ep(r,l){return r==null?"":md.call(r,l)}function Ki(r){var l=r==null?0:r.length;return l?r[l-1]:o}function _p(r,l,L){var J=r==null?0:r.length;if(!J)return-1;var dt=J;return L!==o&&(dt=qn(L),dt=dt<0?qr(J+dt,0):pi(dt,J-1)),l===l?qa(r,l,dt):Fr(r,Qi,dt,!0)}function xp(r,l){return r&&r.length?sf(r,qn(l)):o}var Mp=rr(Qf);function Qf(r,l){return r&&r.length&&l&&l.length?du(r,l):r}function Op(r,l,L){return r&&r.length&&l&&l.length?du(r,l,An(L,2)):r}function Sp(r,l,L){return r&&r.length&&l&&l.length?du(r,l,o,L):r}var Tp=Mo(function(r,l){var L=r==null?0:r.length,J=ou(r,l);return lf(r,Ee(l,function(dt){return Oo(dt,L)?+dt:dt}).sort(bf)),J});function Cp(r,l){var L=[];if(!(r&&r.length))return L;var J=-1,dt=[],yt=r.length;for(l=An(l,3);++J<yt;){var It=r[J];l(It,J,r)&&(L.push(It),dt.push(J))}return lf(r,dt),L}function Au(r){return r==null?r:Ed.call(r)}function Pp(r,l,L){var J=r==null?0:r.length;return J?(L&&typeof L!="number"&&xi(r,l,L)?(l=0,L=J):(l=l==null?0:qn(l),L=L===o?J:qn(L)),Vi(r,l,L)):[]}function Lp(r,l){return ha(r,l)}function Dp(r,l,L){return gu(r,l,An(L,2))}function Np(r,l){var L=r==null?0:r.length;if(L){var J=ha(r,l);if(J<L&&no(r[J],l))return J}return-1}function Ap(r,l){return ha(r,l,!0)}function Ip(r,l,L){return gu(r,l,An(L,2),!0)}function Rp(r,l){var L=r==null?0:r.length;if(L){var J=ha(r,l,!0)-1;if(no(r[J],l))return J}return-1}function Bp(r){return r&&r.length?hf(r):[]}function kp(r,l){return r&&r.length?hf(r,An(l,2)):[]}function zp(r){var l=r==null?0:r.length;return l?Vi(r,1,l):[]}function Wp(r,l,L){return r&&r.length?(l=L||l===o?1:qn(l),Vi(r,0,l<0?0:l)):[]}function Fp(r,l,L){var J=r==null?0:r.length;return J?(l=L||l===o?1:qn(l),l=J-l,Vi(r,l<0?0:l,J)):[]}function Up(r,l){return r&&r.length?ca(r,An(l,3),!1,!0):[]}function $p(r,l){return r&&r.length?ca(r,An(l,3)):[]}var Gp=rr(function(r){return Ao(fi(r,1,$r,!0))}),Vp=rr(function(r){var l=Ki(r);return $r(l)&&(l=o),Ao(fi(r,1,$r,!0),An(l,2))}),Kp=rr(function(r){var l=Ki(r);return l=typeof l=="function"?l:o,Ao(fi(r,1,$r,!0),o,l)});function Hp(r){return r&&r.length?Ao(r):[]}function Yp(r,l){return r&&r.length?Ao(r,An(l,2)):[]}function Xp(r,l){return l=typeof l=="function"?l:o,r&&r.length?Ao(r,o,l):[]}function Iu(r){if(!(r&&r.length))return[];var l=0;return r=ce(r,function(L){if($r(L))return l=qr(L.length,l),!0}),Nr(l,function(L){return Ee(r,ni(L))})}function Zf(r,l){if(!(r&&r.length))return[];var L=Iu(r);return l==null?L:Ee(L,function(J){return ot(l,o,J)})}var jp=rr(function(r,l){return $r(r)?Ts(r,l):[]}),Qp=rr(function(r){return yu(ce(r,$r))}),Zp=rr(function(r){var l=Ki(r);return $r(l)&&(l=o),yu(ce(r,$r),An(l,2))}),Jp=rr(function(r){var l=Ki(r);return l=typeof l=="function"?l:o,yu(ce(r,$r),o,l)}),qp=rr(Iu);function tg(r,l){return pf(r||[],l||[],Ss)}function eg(r,l){return pf(r||[],l||[],Ls)}var ng=rr(function(r){var l=r.length,L=l>1?r[l-1]:o;return L=typeof L=="function"?(r.pop(),L):o,Zf(r,L)});function Jf(r){var l=pt(r);return l.__chain__=!0,l}function rg(r,l){return l(r),r}function Ea(r,l){return l(r)}var ig=Mo(function(r){var l=r.length,L=l?r[0]:0,J=this.__wrapped__,dt=function(yt){return ou(yt,r)};return l>1||this.__actions__.length||!(J instanceof fr)||!Oo(L)?this.thru(dt):(J=J.slice(L,+L+(l?1:0)),J.__actions__.push({func:Ea,args:[dt],thisArg:o}),new $i(J,this.__chain__).thru(function(yt){return l&&!yt.length&&yt.push(o),yt}))});function og(){return Jf(this)}function sg(){return new $i(this.value(),this.__chain__)}function ag(){this.__values__===o&&(this.__values__=ch(this.value()));var r=this.__index__>=this.__values__.length,l=r?o:this.__values__[this.__index__++];return{done:r,value:l}}function ug(){return this}function lg(r){for(var l,L=this;L instanceof sa;){var J=Kf(L);J.__index__=0,J.__values__=o,l?dt.__wrapped__=J:l=J;var dt=J;L=L.__wrapped__}return dt.__wrapped__=r,l}function fg(){var r=this.__wrapped__;if(r instanceof fr){var l=r;return this.__actions__.length&&(l=new fr(this)),l=l.reverse(),l.__actions__.push({func:Ea,args:[Au],thisArg:o}),new $i(l,this.__chain__)}return this.thru(Au)}function hg(){return vf(this.__wrapped__,this.__actions__)}var cg=da(function(r,l,L){lr.call(r,L)?++r[L]:_o(r,L,1)});function dg(r,l,L){var J=Xn(r)?Ht:rv;return L&&xi(r,l,L)&&(l=o),J(r,An(l,3))}function vg(r,l){var L=Xn(r)?ce:Ql;return L(r,An(l,3))}var pg=Of(Hf),gg=Of(Yf);function mg(r,l){return fi(_a(r,l),1)}function yg(r,l){return fi(_a(r,l),mt)}function bg(r,l,L){return L=L===o?1:qn(L),fi(_a(r,l),L)}function qf(r,l){var L=Xn(r)?Lt:No;return L(r,An(l,3))}function th(r,l){var L=Xn(r)?Ct:jl;return L(r,An(l,3))}var wg=da(function(r,l,L){lr.call(r,L)?r[L].push(l):_o(r,L,[l])});function Eg(r,l,L,J){r=Pi(r)?r:ls(r),L=L&&!J?qn(L):0;var dt=r.length;return L<0&&(L=qr(dt+L,0)),Ta(r)?L<=dt&&r.indexOf(l,L)>-1:!!dt&&Gn(r,l,L)>-1}var _g=rr(function(r,l,L){var J=-1,dt=typeof l=="function",yt=Pi(r)?Wt(r.length):[];return No(r,function(It){yt[++J]=dt?ot(l,It,L):Cs(It,l,L)}),yt}),xg=da(function(r,l,L){_o(r,L,l)});function _a(r,l){var L=Xn(r)?Ee:nf;return L(r,An(l,3))}function Mg(r,l,L,J){return r==null?[]:(Xn(l)||(l=l==null?[]:[l]),L=J?o:L,Xn(L)||(L=L==null?[]:[L]),af(r,l,L))}var Og=da(function(r,l,L){r[L?0:1].push(l)},function(){return[[],[]]});function Sg(r,l,L){var J=Xn(r)?Qn:Ur,dt=arguments.length<3;return J(r,An(l,4),L,dt,No)}function Tg(r,l,L){var J=Xn(r)?Nn:Ur,dt=arguments.length<3;return J(r,An(l,4),L,dt,jl)}function Cg(r,l){var L=Xn(r)?ce:Ql;return L(r,Oa(An(l,3)))}function Pg(r){var l=Xn(r)?Kl:Ev;return l(r)}function Lg(r,l,L){(L?xi(r,l,L):l===o)?l=1:l=qn(l);var J=Xn(r)?Jd:_v;return J(r,l)}function Dg(r){var l=Xn(r)?qd:Mv;return l(r)}function Ng(r){if(r==null)return 0;if(Pi(r))return Ta(r)?to(r):r.length;var l=gi(r);return l==ln||l==Vn?r.size:hu(r).length}function Ag(r,l,L){var J=Xn(r)?Lr:Ov;return L&&xi(r,l,L)&&(l=o),J(r,An(l,3))}var Ig=rr(function(r,l){if(r==null)return[];var L=l.length;return L>1&&xi(r,l[0],l[1])?l=[]:L>2&&xi(l[0],l[1],l[2])&&(l=[l[0]]),af(r,fi(l,1),[])}),xa=vd||function(){return wr.Date.now()};function Rg(r,l){if(typeof l!="function")throw new vn(u);return r=qn(r),function(){if(--r<1)return l.apply(this,arguments)}}function eh(r,l,L){return l=L?o:l,l=r&&l==null?r.length:l,xo(r,R,o,o,o,o,l)}function nh(r,l){var L;if(typeof l!="function")throw new vn(u);return r=qn(r),function(){return--r>0&&(L=l.apply(this,arguments)),r<=1&&(l=o),L}}var Ru=rr(function(r,l,L){var J=N;if(L.length){var dt=Ti(L,as(Ru));J|=K}return xo(r,J,l,L,dt)}),rh=rr(function(r,l,L){var J=N|A;if(L.length){var dt=Ti(L,as(rh));J|=K}return xo(l,J,r,L,dt)});function ih(r,l,L){l=L?o:l;var J=xo(r,tt,o,o,o,o,o,l);return J.placeholder=ih.placeholder,J}function oh(r,l,L){l=L?o:l;var J=xo(r,et,o,o,o,o,o,l);return J.placeholder=oh.placeholder,J}function sh(r,l,L){var J,dt,yt,It,Vt,ee,Se=0,Ce=!1,ke=!1,nn=!0;if(typeof r!="function")throw new vn(u);l=Hi(l)||0,Rr(L)&&(Ce=!!L.leading,ke="maxWait"in L,yt=ke?qr(Hi(L.maxWait)||0,l):yt,nn="trailing"in L?!!L.trailing:nn);function bn(Gr){var ro=J,Co=dt;return J=dt=o,Se=Gr,It=r.apply(Co,ro),It}function In(Gr){return Se=Gr,Vt=As(ar,l),Ce?bn(Gr):It}function tr(Gr){var ro=Gr-ee,Co=Gr-Se,Oh=l-ro;return ke?pi(Oh,yt-Co):Oh}function Rn(Gr){var ro=Gr-ee,Co=Gr-Se;return ee===o||ro>=l||ro<0||ke&&Co>=yt}function ar(){var Gr=xa();if(Rn(Gr))return cr(Gr);Vt=As(ar,tr(Gr))}function cr(Gr){return Vt=o,nn&&J?bn(Gr):(J=dt=o,It)}function zi(){Vt!==o&&gf(Vt),Se=0,J=ee=dt=Vt=o}function Mi(){return Vt===o?It:cr(xa())}function Wi(){var Gr=xa(),ro=Rn(Gr);if(J=arguments,dt=this,ee=Gr,ro){if(Vt===o)return In(ee);if(ke)return gf(Vt),Vt=As(ar,l),bn(ee)}return Vt===o&&(Vt=As(ar,l)),It}return Wi.cancel=zi,Wi.flush=Mi,Wi}var Bg=rr(function(r,l){return Xl(r,1,l)}),kg=rr(function(r,l,L){return Xl(r,Hi(l)||0,L)});function zg(r){return xo(r,C)}function Ma(r,l){if(typeof r!="function"||l!=null&&typeof l!="function")throw new vn(u);var L=function(){var J=arguments,dt=l?l.apply(this,J):J[0],yt=L.cache;if(yt.has(dt))return yt.get(dt);var It=r.apply(this,J);return L.cache=yt.set(dt,It)||yt,It};return L.cache=new(Ma.Cache||Eo),L}Ma.Cache=Eo;function Oa(r){if(typeof r!="function")throw new vn(u);return function(){var l=arguments;switch(l.length){case 0:return!r.call(this);case 1:return!r.call(this,l[0]);case 2:return!r.call(this,l[0],l[1]);case 3:return!r.call(this,l[0],l[1],l[2])}return!r.apply(this,l)}}function Wg(r){return nh(2,r)}var Fg=Sv(function(r,l){l=l.length==1&&Xn(l[0])?Ee(l[0],er(An())):Ee(fi(l,1),er(An()));var L=l.length;return rr(function(J){for(var dt=-1,yt=pi(J.length,L);++dt<yt;)J[dt]=l[dt].call(this,J[dt]);return ot(r,this,J)})}),Bu=rr(function(r,l){var L=Ti(l,as(Bu));return xo(r,K,o,l,L)}),ah=rr(function(r,l){var L=Ti(l,as(ah));return xo(r,U,o,l,L)}),Ug=Mo(function(r,l){return xo(r,g,o,o,o,l)});function $g(r,l){if(typeof r!="function")throw new vn(u);return l=l===o?l:qn(l),rr(r,l)}function Gg(r,l){if(typeof r!="function")throw new vn(u);return l=l==null?0:qr(qn(l),0),rr(function(L){var J=L[l],dt=Ro(L,0,l);return J&&wn(dt,J),ot(r,this,dt)})}function Vg(r,l,L){var J=!0,dt=!0;if(typeof r!="function")throw new vn(u);return Rr(L)&&(J="leading"in L?!!L.leading:J,dt="trailing"in L?!!L.trailing:dt),sh(r,l,{leading:J,maxWait:l,trailing:dt})}function Kg(r){return eh(r,1)}function Hg(r,l){return Bu(wu(l),r)}function Yg(){if(!arguments.length)return[];var r=arguments[0];return Xn(r)?r:[r]}function Xg(r){return Gi(r,D)}function jg(r,l){return l=typeof l=="function"?l:o,Gi(r,D,l)}function Qg(r){return Gi(r,d|D)}function Zg(r,l){return l=typeof l=="function"?l:o,Gi(r,d|D,l)}function Jg(r,l){return l==null||Yl(r,l,ii(l))}function no(r,l){return r===l||r!==r&&l!==l}var qg=ma(uu),tm=ma(function(r,l){return r>=l}),Ho=ql(function(){return arguments}())?ql:function(r){return kr(r)&&lr.call(r,"callee")&&!Wl.call(r,"callee")},Xn=Wt.isArray,em=uo?er(uo):lv;function Pi(r){return r!=null&&Sa(r.length)&&!So(r)}function $r(r){return kr(r)&&Pi(r)}function nm(r){return r===!0||r===!1||kr(r)&&_i(r)==de}var Bo=gd||Yu,rm=E?er(E):fv;function im(r){return kr(r)&&r.nodeType===1&&!Is(r)}function om(r){if(r==null)return!0;if(Pi(r)&&(Xn(r)||typeof r=="string"||typeof r.splice=="function"||Bo(r)||us(r)||Ho(r)))return!r.length;var l=gi(r);if(l==ln||l==Vn)return!r.size;if(Ns(r))return!hu(r).length;for(var L in r)if(lr.call(r,L))return!1;return!0}function sm(r,l){return Ps(r,l)}function am(r,l,L){L=typeof L=="function"?L:o;var J=L?L(r,l):o;return J===o?Ps(r,l,o,L):!!J}function ku(r){if(!kr(r))return!1;var l=_i(r);return l==Qt||l==Oe||typeof r.message=="string"&&typeof r.name=="string"&&!Is(r)}function um(r){return typeof r=="number"&&Ul(r)}function So(r){if(!Rr(r))return!1;var l=_i(r);return l==$e||l==rn||l==se||l==sn}function uh(r){return typeof r=="number"&&r==qn(r)}function Sa(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=wt}function Rr(r){var l=typeof r;return r!=null&&(l=="object"||l=="function")}function kr(r){return r!=null&&typeof r=="object"}var lh=P?er(P):cv;function lm(r,l){return r===l||fu(r,l,Tu(l))}function fm(r,l,L){return L=typeof L=="function"?L:o,fu(r,l,Tu(l),L)}function hm(r){return fh(r)&&r!=+r}function cm(r){if(jv(r))throw new Ae(a);return tf(r)}function dm(r){return r===null}function vm(r){return r==null}function fh(r){return typeof r=="number"||kr(r)&&_i(r)==fn}function Is(r){if(!kr(r)||_i(r)!=un)return!1;var l=qs(r);if(l===null)return!0;var L=lr.call(l,"constructor")&&l.constructor;return typeof L=="function"&&L instanceof L&&Ei.call(L)==fd}var zu=H?er(H):dv;function pm(r){return uh(r)&&r>=-wt&&r<=wt}var hh=Z?er(Z):vv;function Ta(r){return typeof r=="string"||!Xn(r)&&kr(r)&&_i(r)==Or}function ki(r){return typeof r=="symbol"||kr(r)&&_i(r)==Hn}var us=st?er(st):pv;function gm(r){return r===o}function mm(r){return kr(r)&&gi(r)==bt}function ym(r){return kr(r)&&_i(r)==Ze}var bm=ma(cu),wm=ma(function(r,l){return r<=l});function ch(r){if(!r)return[];if(Pi(r))return Ta(r)?wi(r):Ci(r);if(Es&&r[Es])return ms(r[Es]());var l=gi(r),L=l==ln?Ui:l==Vn?bo:ls;return L(r)}function To(r){if(!r)return r===0?r:0;if(r=Hi(r),r===mt||r===-mt){var l=r<0?-1:1;return l*At}return r===r?r:0}function qn(r){var l=To(r),L=l%1;return l===l?L?l-L:l:0}function dh(r){return r?$o(qn(r),0,jt):0}function Hi(r){if(typeof r=="number")return r;if(ki(r))return Kt;if(Rr(r)){var l=typeof r.valueOf=="function"?r.valueOf():r;r=Rr(l)?l+"":l}if(typeof r!="string")return r===0?r:+r;r=Fn(r);var L=ur.test(r);return L||Ye.test(r)?dr(r.slice(2),L?2:8):Tr.test(r)?Kt:+r}function vh(r){return ho(r,Li(r))}function Em(r){return r?$o(qn(r),-wt,wt):r===0?r:0}function Er(r){return r==null?"":Bi(r)}var _m=os(function(r,l){if(Ns(l)||Pi(l)){ho(l,ii(l),r);return}for(var L in l)lr.call(l,L)&&Ss(r,L,l[L])}),ph=os(function(r,l){ho(l,Li(l),r)}),Ca=os(function(r,l,L,J){ho(l,Li(l),r,J)}),xm=os(function(r,l,L,J){ho(l,ii(l),r,J)}),Mm=Mo(ou);function Om(r,l){var L=is(r);return l==null?L:Hl(L,l)}var Sm=rr(function(r,l){r=tn(r);var L=-1,J=l.length,dt=J>2?l[2]:o;for(dt&&xi(l[0],l[1],dt)&&(J=1);++L<J;)for(var yt=l[L],It=Li(yt),Vt=-1,ee=It.length;++Vt<ee;){var Se=It[Vt],Ce=r[Se];(Ce===o||no(Ce,Ir[Se])&&!lr.call(r,Se))&&(r[Se]=yt[Se])}return r}),Tm=rr(function(r){return r.push(o,Nf),ot(gh,o,r)});function Cm(r,l){return Yn(r,An(l,3),fo)}function Pm(r,l){return Yn(r,An(l,3),au)}function Lm(r,l){return r==null?r:su(r,An(l,3),Li)}function Dm(r,l){return r==null?r:Zl(r,An(l,3),Li)}function Nm(r,l){return r&&fo(r,An(l,3))}function Am(r,l){return r&&au(r,An(l,3))}function Im(r){return r==null?[]:la(r,ii(r))}function Rm(r){return r==null?[]:la(r,Li(r))}function Wu(r,l,L){var J=r==null?o:Go(r,l);return J===o?L:J}function Bm(r,l){return r!=null&&Rf(r,l,ov)}function Fu(r,l){return r!=null&&Rf(r,l,sv)}var km=Tf(function(r,l,L){l!=null&&typeof l.toString!="function"&&(l=Qs.call(l)),r[l]=L},$u(Di)),zm=Tf(function(r,l,L){l!=null&&typeof l.toString!="function"&&(l=Qs.call(l)),lr.call(r,l)?r[l].push(L):r[l]=[L]},An),Wm=rr(Cs);function ii(r){return Pi(r)?Vl(r):hu(r)}function Li(r){return Pi(r)?Vl(r,!0):gv(r)}function Fm(r,l){var L={};return l=An(l,3),fo(r,function(J,dt,yt){_o(L,l(J,dt,yt),J)}),L}function Um(r,l){var L={};return l=An(l,3),fo(r,function(J,dt,yt){_o(L,dt,l(J,dt,yt))}),L}var $m=os(function(r,l,L){fa(r,l,L)}),gh=os(function(r,l,L,J){fa(r,l,L,J)}),Gm=Mo(function(r,l){var L={};if(r==null)return L;var J=!1;l=Ee(l,function(yt){return yt=Io(yt,r),J||(J=yt.length>1),yt}),ho(r,Ou(r),L),J&&(L=Gi(L,d|M|D,kv));for(var dt=l.length;dt--;)mu(L,l[dt]);return L});function Vm(r,l){return mh(r,Oa(An(l)))}var Km=Mo(function(r,l){return r==null?{}:yv(r,l)});function mh(r,l){if(r==null)return{};var L=Ee(Ou(r),function(J){return[J]});return l=An(l),uf(r,L,function(J,dt){return l(J,dt[0])})}function Hm(r,l,L){l=Io(l,r);var J=-1,dt=l.length;for(dt||(dt=1,r=o);++J<dt;){var yt=r==null?o:r[co(l[J])];yt===o&&(J=dt,yt=L),r=So(yt)?yt.call(r):yt}return r}function Ym(r,l,L){return r==null?r:Ls(r,l,L)}function Xm(r,l,L,J){return J=typeof J=="function"?J:o,r==null?r:Ls(r,l,L,J)}var yh=Lf(ii),bh=Lf(Li);function jm(r,l,L){var J=Xn(r),dt=J||Bo(r)||us(r);if(l=An(l,4),L==null){var yt=r&&r.constructor;dt?L=J?new yt:[]:Rr(r)?L=So(yt)?is(qs(r)):{}:L={}}return(dt?Lt:fo)(r,function(It,Vt,ee){return l(L,It,Vt,ee)}),L}function Qm(r,l){return r==null?!0:mu(r,l)}function Zm(r,l,L){return r==null?r:df(r,l,wu(L))}function Jm(r,l,L,J){return J=typeof J=="function"?J:o,r==null?r:df(r,l,wu(L),J)}function ls(r){return r==null?[]:ai(r,ii(r))}function qm(r){return r==null?[]:ai(r,Li(r))}function t0(r,l,L){return L===o&&(L=l,l=o),L!==o&&(L=Hi(L),L=L===L?L:0),l!==o&&(l=Hi(l),l=l===l?l:0),$o(Hi(r),l,L)}function e0(r,l,L){return l=To(l),L===o?(L=l,l=0):L=To(L),r=Hi(r),av(r,l,L)}function n0(r,l,L){if(L&&typeof L!="boolean"&&xi(r,l,L)&&(l=L=o),L===o&&(typeof l=="boolean"?(L=l,l=o):typeof r=="boolean"&&(L=r,r=o)),r===o&&l===o?(r=0,l=1):(r=To(r),l===o?(l=r,r=0):l=To(l)),r>l){var J=r;r=l,l=J}if(L||r%1||l%1){var dt=$l();return pi(r+dt*(l-r+Ii("1e-"+((dt+"").length-1))),l)}return vu(r,l)}var r0=ss(function(r,l,L){return l=l.toLowerCase(),r+(L?wh(l):l)});function wh(r){return Uu(Er(r).toLowerCase())}function Eh(r){return r=Er(r),r&&r.replace(or,Jr).replace(ae,"")}function i0(r,l,L){r=Er(r),l=Bi(l);var J=r.length;L=L===o?J:$o(qn(L),0,J);var dt=L;return L-=l.length,L>=0&&r.slice(L,dt)==l}function o0(r){return r=Er(r),r&&He.test(r)?r.replace(te,bi):r}function s0(r){return r=Er(r),r&&Sn.test(r)?r.replace(Ue,"\\$&"):r}var a0=ss(function(r,l,L){return r+(L?"-":"")+l.toLowerCase()}),u0=ss(function(r,l,L){return r+(L?" ":"")+l.toLowerCase()}),l0=Mf("toLowerCase");function f0(r,l,L){r=Er(r),l=qn(l);var J=l?to(r):0;if(!l||J>=l)return r;var dt=(l-J)/2;return ga(ra(dt),L)+r+ga(na(dt),L)}function h0(r,l,L){r=Er(r),l=qn(l);var J=l?to(r):0;return l&&J<l?r+ga(l-J,L):r}function c0(r,l,L){r=Er(r),l=qn(l);var J=l?to(r):0;return l&&J<l?ga(l-J,L)+r:r}function d0(r,l,L){return L||l==null?l=0:l&&(l=+l),wd(Er(r).replace(Ke,""),l||0)}function v0(r,l,L){return(L?xi(r,l,L):l===o)?l=1:l=qn(l),pu(Er(r),l)}function p0(){var r=arguments,l=Er(r[0]);return r.length<3?l:l.replace(r[1],r[2])}var g0=ss(function(r,l,L){return r+(L?"_":"")+l.toLowerCase()});function m0(r,l,L){return L&&typeof L!="number"&&xi(r,l,L)&&(l=L=o),L=L===o?jt:L>>>0,L?(r=Er(r),r&&(typeof l=="string"||l!=null&&!zu(l))&&(l=Bi(l),!l&&mo(r))?Ro(wi(r),0,L):r.split(l,L)):[]}var y0=ss(function(r,l,L){return r+(L?" ":"")+Uu(l)});function b0(r,l,L){return r=Er(r),L=L==null?0:$o(qn(L),0,r.length),l=Bi(l),r.slice(L,L+l.length)==l}function w0(r,l,L){var J=pt.templateSettings;L&&xi(r,l,L)&&(l=o),r=Er(r),l=Ca({},l,J,Df);var dt=Ca({},l.imports,J.imports,Df),yt=ii(dt),It=ai(dt,yt),Vt,ee,Se=0,Ce=l.interpolate||Dn,ke="__p += '",nn=kn((l.escape||Dn).source+"|"+Ce.source+"|"+(Ce===ze?Un:Dn).source+"|"+(l.evaluate||Dn).source+"|$","g"),bn="//# sourceURL="+(lr.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xn+"]")+`
`;r.replace(nn,function(Rn,ar,cr,zi,Mi,Wi){return cr||(cr=zi),ke+=r.slice(Se,Wi).replace(Ar,lo),ar&&(Vt=!0,ke+=`' +
__e(`+ar+`) +
'`),Mi&&(ee=!0,ke+=`';
`+Mi+`;
__p += '`),cr&&(ke+=`' +
((__t = (`+cr+`)) == null ? '' : __t) +
'`),Se=Wi+Rn.length,Rn}),ke+=`';
`;var In=lr.call(l,"variable")&&l.variable;if(!In)ke=`with (obj) {
`+ke+`
}
`;else if(Tn.test(In))throw new Ae(h);ke=(ee?ke.replace(Bt,""):ke).replace(re,"$1").replace(Gt,"$1;"),ke="function("+(In||"obj")+`) {
`+(In?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Vt?", __e = _.escape":"")+(ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ke+`return __p
}`;var tr=xh(function(){return Be(yt,bn+"return "+ke).apply(o,It)});if(tr.source=ke,ku(tr))throw tr;return tr}function E0(r){return Er(r).toLowerCase()}function _0(r){return Er(r).toUpperCase()}function x0(r,l,L){if(r=Er(r),r&&(L||l===o))return Fn(r);if(!r||!(l=Bi(l)))return r;var J=wi(r),dt=wi(l),yt=Ri(J,dt),It=Jn(J,dt)+1;return Ro(J,yt,It).join("")}function M0(r,l,L){if(r=Er(r),r&&(L||l===o))return r.slice(0,es(r)+1);if(!r||!(l=Bi(l)))return r;var J=wi(r),dt=Jn(J,wi(l))+1;return Ro(J,0,dt).join("")}function O0(r,l,L){if(r=Er(r),r&&(L||l===o))return r.replace(Ke,"");if(!r||!(l=Bi(l)))return r;var J=wi(r),dt=Ri(J,wi(l));return Ro(J,dt).join("")}function S0(r,l){var L=W,J=z;if(Rr(l)){var dt="separator"in l?l.separator:dt;L="length"in l?qn(l.length):L,J="omission"in l?Bi(l.omission):J}r=Er(r);var yt=r.length;if(mo(r)){var It=wi(r);yt=It.length}if(L>=yt)return r;var Vt=L-to(J);if(Vt<1)return J;var ee=It?Ro(It,0,Vt).join(""):r.slice(0,Vt);if(dt===o)return ee+J;if(It&&(Vt+=ee.length-Vt),zu(dt)){if(r.slice(Vt).search(dt)){var Se,Ce=ee;for(dt.global||(dt=kn(dt.source,Er(vr.exec(dt))+"g")),dt.lastIndex=0;Se=dt.exec(Ce);)var ke=Se.index;ee=ee.slice(0,ke===o?Vt:ke)}}else if(r.indexOf(Bi(dt),Vt)!=Vt){var nn=ee.lastIndexOf(dt);nn>-1&&(ee=ee.slice(0,nn))}return ee+J}function T0(r){return r=Er(r),r&&he.test(r)?r.replace(De,tu):r}var C0=ss(function(r,l,L){return r+(L?" ":"")+l.toUpperCase()}),Uu=Mf("toUpperCase");function _h(r,l,L){return r=Er(r),l=L?o:l,l===o?yo(r)?Mt(r):di(r):r.match(l)||[]}var xh=rr(function(r,l){try{return ot(r,o,l)}catch(L){return ku(L)?L:new Ae(L)}}),P0=Mo(function(r,l){return Lt(l,function(L){L=co(L),_o(r,L,Ru(r[L],r))}),r});function L0(r){var l=r==null?0:r.length,L=An();return r=l?Ee(r,function(J){if(typeof J[1]!="function")throw new vn(u);return[L(J[0]),J[1]]}):[],rr(function(J){for(var dt=-1;++dt<l;){var yt=r[dt];if(ot(yt[0],this,J))return ot(yt[1],this,J)}})}function D0(r){return nv(Gi(r,d))}function $u(r){return function(){return r}}function N0(r,l){return r==null||r!==r?l:r}var A0=Sf(),I0=Sf(!0);function Di(r){return r}function Gu(r){return ef(typeof r=="function"?r:Gi(r,d))}function R0(r){return rf(Gi(r,d))}function B0(r,l){return of(r,Gi(l,d))}var k0=rr(function(r,l){return function(L){return Cs(L,r,l)}}),z0=rr(function(r,l){return function(L){return Cs(r,L,l)}});function Vu(r,l,L){var J=ii(l),dt=la(l,J);L==null&&!(Rr(l)&&(dt.length||!J.length))&&(L=l,l=r,r=this,dt=la(l,ii(l)));var yt=!(Rr(L)&&"chain"in L)||!!L.chain,It=So(r);return Lt(dt,function(Vt){var ee=l[Vt];r[Vt]=ee,It&&(r.prototype[Vt]=function(){var Se=this.__chain__;if(yt||Se){var Ce=r(this.__wrapped__),ke=Ce.__actions__=Ci(this.__actions__);return ke.push({func:ee,args:arguments,thisArg:r}),Ce.__chain__=Se,Ce}return ee.apply(r,wn([this.value()],arguments))})}),r}function W0(){return wr._===this&&(wr._=hd),this}function Ku(){}function F0(r){return r=qn(r),rr(function(l){return sf(l,r)})}var U0=_u(Ee),$0=_u(Ht),G0=_u(Lr);function Mh(r){return Pu(r)?ni(co(r)):bv(r)}function V0(r){return function(l){return r==null?o:Go(r,l)}}var K0=Cf(),H0=Cf(!0);function Hu(){return[]}function Yu(){return!1}function Y0(){return{}}function X0(){return""}function j0(){return!0}function Q0(r,l){if(r=qn(r),r<1||r>wt)return[];var L=jt,J=pi(r,jt);l=An(l),r-=jt;for(var dt=Nr(J,l);++L<r;)l(L);return dt}function Z0(r){return Xn(r)?Ee(r,co):ki(r)?[r]:Ci(Vf(Er(r)))}function J0(r){var l=++li;return Er(r)+l}var q0=pa(function(r,l){return r+l},0),ty=xu("ceil"),ey=pa(function(r,l){return r/l},1),ny=xu("floor");function ry(r){return r&&r.length?ua(r,Di,uu):o}function iy(r,l){return r&&r.length?ua(r,An(l,2),uu):o}function oy(r){return Zi(r,Di)}function sy(r,l){return Zi(r,An(l,2))}function ay(r){return r&&r.length?ua(r,Di,cu):o}function uy(r,l){return r&&r.length?ua(r,An(l,2),cu):o}var ly=pa(function(r,l){return r*l},1),fy=xu("round"),hy=pa(function(r,l){return r-l},0);function cy(r){return r&&r.length?ri(r,Di):0}function dy(r,l){return r&&r.length?ri(r,An(l,2)):0}return pt.after=Rg,pt.ary=eh,pt.assign=_m,pt.assignIn=ph,pt.assignInWith=Ca,pt.assignWith=xm,pt.at=Mm,pt.before=nh,pt.bind=Ru,pt.bindAll=P0,pt.bindKey=rh,pt.castArray=Yg,pt.chain=Jf,pt.chunk=np,pt.compact=rp,pt.concat=ip,pt.cond=L0,pt.conforms=D0,pt.constant=$u,pt.countBy=cg,pt.create=Om,pt.curry=ih,pt.curryRight=oh,pt.debounce=sh,pt.defaults=Sm,pt.defaultsDeep=Tm,pt.defer=Bg,pt.delay=kg,pt.difference=op,pt.differenceBy=sp,pt.differenceWith=ap,pt.drop=up,pt.dropRight=lp,pt.dropRightWhile=fp,pt.dropWhile=hp,pt.fill=cp,pt.filter=vg,pt.flatMap=mg,pt.flatMapDeep=yg,pt.flatMapDepth=bg,pt.flatten=Xf,pt.flattenDeep=dp,pt.flattenDepth=vp,pt.flip=zg,pt.flow=A0,pt.flowRight=I0,pt.fromPairs=pp,pt.functions=Im,pt.functionsIn=Rm,pt.groupBy=wg,pt.initial=mp,pt.intersection=yp,pt.intersectionBy=bp,pt.intersectionWith=wp,pt.invert=km,pt.invertBy=zm,pt.invokeMap=_g,pt.iteratee=Gu,pt.keyBy=xg,pt.keys=ii,pt.keysIn=Li,pt.map=_a,pt.mapKeys=Fm,pt.mapValues=Um,pt.matches=R0,pt.matchesProperty=B0,pt.memoize=Ma,pt.merge=$m,pt.mergeWith=gh,pt.method=k0,pt.methodOf=z0,pt.mixin=Vu,pt.negate=Oa,pt.nthArg=F0,pt.omit=Gm,pt.omitBy=Vm,pt.once=Wg,pt.orderBy=Mg,pt.over=U0,pt.overArgs=Fg,pt.overEvery=$0,pt.overSome=G0,pt.partial=Bu,pt.partialRight=ah,pt.partition=Og,pt.pick=Km,pt.pickBy=mh,pt.property=Mh,pt.propertyOf=V0,pt.pull=Mp,pt.pullAll=Qf,pt.pullAllBy=Op,pt.pullAllWith=Sp,pt.pullAt=Tp,pt.range=K0,pt.rangeRight=H0,pt.rearg=Ug,pt.reject=Cg,pt.remove=Cp,pt.rest=$g,pt.reverse=Au,pt.sampleSize=Lg,pt.set=Ym,pt.setWith=Xm,pt.shuffle=Dg,pt.slice=Pp,pt.sortBy=Ig,pt.sortedUniq=Bp,pt.sortedUniqBy=kp,pt.split=m0,pt.spread=Gg,pt.tail=zp,pt.take=Wp,pt.takeRight=Fp,pt.takeRightWhile=Up,pt.takeWhile=$p,pt.tap=rg,pt.throttle=Vg,pt.thru=Ea,pt.toArray=ch,pt.toPairs=yh,pt.toPairsIn=bh,pt.toPath=Z0,pt.toPlainObject=vh,pt.transform=jm,pt.unary=Kg,pt.union=Gp,pt.unionBy=Vp,pt.unionWith=Kp,pt.uniq=Hp,pt.uniqBy=Yp,pt.uniqWith=Xp,pt.unset=Qm,pt.unzip=Iu,pt.unzipWith=Zf,pt.update=Zm,pt.updateWith=Jm,pt.values=ls,pt.valuesIn=qm,pt.without=jp,pt.words=_h,pt.wrap=Hg,pt.xor=Qp,pt.xorBy=Zp,pt.xorWith=Jp,pt.zip=qp,pt.zipObject=tg,pt.zipObjectDeep=eg,pt.zipWith=ng,pt.entries=yh,pt.entriesIn=bh,pt.extend=ph,pt.extendWith=Ca,Vu(pt,pt),pt.add=q0,pt.attempt=xh,pt.camelCase=r0,pt.capitalize=wh,pt.ceil=ty,pt.clamp=t0,pt.clone=Xg,pt.cloneDeep=Qg,pt.cloneDeepWith=Zg,pt.cloneWith=jg,pt.conformsTo=Jg,pt.deburr=Eh,pt.defaultTo=N0,pt.divide=ey,pt.endsWith=i0,pt.eq=no,pt.escape=o0,pt.escapeRegExp=s0,pt.every=dg,pt.find=pg,pt.findIndex=Hf,pt.findKey=Cm,pt.findLast=gg,pt.findLastIndex=Yf,pt.findLastKey=Pm,pt.floor=ny,pt.forEach=qf,pt.forEachRight=th,pt.forIn=Lm,pt.forInRight=Dm,pt.forOwn=Nm,pt.forOwnRight=Am,pt.get=Wu,pt.gt=qg,pt.gte=tm,pt.has=Bm,pt.hasIn=Fu,pt.head=jf,pt.identity=Di,pt.includes=Eg,pt.indexOf=gp,pt.inRange=e0,pt.invoke=Wm,pt.isArguments=Ho,pt.isArray=Xn,pt.isArrayBuffer=em,pt.isArrayLike=Pi,pt.isArrayLikeObject=$r,pt.isBoolean=nm,pt.isBuffer=Bo,pt.isDate=rm,pt.isElement=im,pt.isEmpty=om,pt.isEqual=sm,pt.isEqualWith=am,pt.isError=ku,pt.isFinite=um,pt.isFunction=So,pt.isInteger=uh,pt.isLength=Sa,pt.isMap=lh,pt.isMatch=lm,pt.isMatchWith=fm,pt.isNaN=hm,pt.isNative=cm,pt.isNil=vm,pt.isNull=dm,pt.isNumber=fh,pt.isObject=Rr,pt.isObjectLike=kr,pt.isPlainObject=Is,pt.isRegExp=zu,pt.isSafeInteger=pm,pt.isSet=hh,pt.isString=Ta,pt.isSymbol=ki,pt.isTypedArray=us,pt.isUndefined=gm,pt.isWeakMap=mm,pt.isWeakSet=ym,pt.join=Ep,pt.kebabCase=a0,pt.last=Ki,pt.lastIndexOf=_p,pt.lowerCase=u0,pt.lowerFirst=l0,pt.lt=bm,pt.lte=wm,pt.max=ry,pt.maxBy=iy,pt.mean=oy,pt.meanBy=sy,pt.min=ay,pt.minBy=uy,pt.stubArray=Hu,pt.stubFalse=Yu,pt.stubObject=Y0,pt.stubString=X0,pt.stubTrue=j0,pt.multiply=ly,pt.nth=xp,pt.noConflict=W0,pt.noop=Ku,pt.now=xa,pt.pad=f0,pt.padEnd=h0,pt.padStart=c0,pt.parseInt=d0,pt.random=n0,pt.reduce=Sg,pt.reduceRight=Tg,pt.repeat=v0,pt.replace=p0,pt.result=Hm,pt.round=fy,pt.runInContext=gt,pt.sample=Pg,pt.size=Ng,pt.snakeCase=g0,pt.some=Ag,pt.sortedIndex=Lp,pt.sortedIndexBy=Dp,pt.sortedIndexOf=Np,pt.sortedLastIndex=Ap,pt.sortedLastIndexBy=Ip,pt.sortedLastIndexOf=Rp,pt.startCase=y0,pt.startsWith=b0,pt.subtract=hy,pt.sum=cy,pt.sumBy=dy,pt.template=w0,pt.times=Q0,pt.toFinite=To,pt.toInteger=qn,pt.toLength=dh,pt.toLower=E0,pt.toNumber=Hi,pt.toSafeInteger=Em,pt.toString=Er,pt.toUpper=_0,pt.trim=x0,pt.trimEnd=M0,pt.trimStart=O0,pt.truncate=S0,pt.unescape=T0,pt.uniqueId=J0,pt.upperCase=C0,pt.upperFirst=Uu,pt.each=qf,pt.eachRight=th,pt.first=jf,Vu(pt,function(){var r={};return fo(pt,function(l,L){lr.call(pt.prototype,L)||(r[L]=l)}),r}(),{chain:!1}),pt.VERSION=f,Lt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){pt[r].placeholder=pt}),Lt(["drop","take"],function(r,l){fr.prototype[r]=function(L){L=L===o?1:qr(qn(L),0);var J=this.__filtered__&&!l?new fr(this):this.clone();return J.__filtered__?J.__takeCount__=pi(L,J.__takeCount__):J.__views__.push({size:pi(L,jt),type:r+(J.__dir__<0?"Right":"")}),J},fr.prototype[r+"Right"]=function(L){return this.reverse()[r](L).reverse()}}),Lt(["filter","map","takeWhile"],function(r,l){var L=l+1,J=L==j||L==vt;fr.prototype[r]=function(dt){var yt=this.clone();return yt.__iteratees__.push({iteratee:An(dt,3),type:L}),yt.__filtered__=yt.__filtered__||J,yt}}),Lt(["head","last"],function(r,l){var L="take"+(l?"Right":"");fr.prototype[r]=function(){return this[L](1).value()[0]}}),Lt(["initial","tail"],function(r,l){var L="drop"+(l?"":"Right");fr.prototype[r]=function(){return this.__filtered__?new fr(this):this[L](1)}}),fr.prototype.compact=function(){return this.filter(Di)},fr.prototype.find=function(r){return this.filter(r).head()},fr.prototype.findLast=function(r){return this.reverse().find(r)},fr.prototype.invokeMap=rr(function(r,l){return typeof r=="function"?new fr(this):this.map(function(L){return Cs(L,r,l)})}),fr.prototype.reject=function(r){return this.filter(Oa(An(r)))},fr.prototype.slice=function(r,l){r=qn(r);var L=this;return L.__filtered__&&(r>0||l<0)?new fr(L):(r<0?L=L.takeRight(-r):r&&(L=L.drop(r)),l!==o&&(l=qn(l),L=l<0?L.dropRight(-l):L.take(l-r)),L)},fr.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},fr.prototype.toArray=function(){return this.take(jt)},fo(fr.prototype,function(r,l){var L=/^(?:filter|find|map|reject)|While$/.test(l),J=/^(?:head|last)$/.test(l),dt=pt[J?"take"+(l=="last"?"Right":""):l],yt=J||/^find/.test(l);dt&&(pt.prototype[l]=function(){var It=this.__wrapped__,Vt=J?[1]:arguments,ee=It instanceof fr,Se=Vt[0],Ce=ee||Xn(It),ke=function(ar){var cr=dt.apply(pt,wn([ar],Vt));return J&&nn?cr[0]:cr};Ce&&L&&typeof Se=="function"&&Se.length!=1&&(ee=Ce=!1);var nn=this.__chain__,bn=!!this.__actions__.length,In=yt&&!nn,tr=ee&&!bn;if(!yt&&Ce){It=tr?It:new fr(this);var Rn=r.apply(It,Vt);return Rn.__actions__.push({func:Ea,args:[ke],thisArg:o}),new $i(Rn,nn)}return In&&tr?r.apply(this,Vt):(Rn=this.thru(ke),In?J?Rn.value()[0]:Rn.value():Rn)})}),Lt(["pop","push","shift","sort","splice","unshift"],function(r){var l=mr[r],L=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",J=/^(?:pop|shift)$/.test(r);pt.prototype[r]=function(){var dt=arguments;if(J&&!this.__chain__){var yt=this.value();return l.apply(Xn(yt)?yt:[],dt)}return this[L](function(It){return l.apply(Xn(It)?It:[],dt)})}}),fo(fr.prototype,function(r,l){var L=pt[l];if(L){var J=L.name+"";lr.call(rs,J)||(rs[J]=[]),rs[J].push({name:l,func:L})}}),rs[va(o,A).name]=[{name:"wrapper",func:o}],fr.prototype.clone=Td,fr.prototype.reverse=Cd,fr.prototype.value=Pd,pt.prototype.at=ig,pt.prototype.chain=og,pt.prototype.commit=sg,pt.prototype.next=ag,pt.prototype.plant=lg,pt.prototype.reverse=fg,pt.prototype.toJSON=pt.prototype.valueOf=pt.prototype.value=hg,pt.prototype.first=pt.prototype.head,Es&&(pt.prototype[Es]=ug),pt},fe=Yt();wr._=fe,n=(function(){return fe}).call(c,e,c,b),n!==o&&(b.exports=n)}).call(this)},9924:function(b,c,e){var n=e(5010),o=e(5979),f=e(5487),s=e(744);function a(u,h){var p=s(u)?n:f;return p(u,o(h,3))}b.exports=a},642:function(b,c,e){var n=e(2813),o=e(1585),f=e(5979);function s(a,u){var h={};return u=f(u,3),o(a,function(p,y,w){n(h,y,u(p,y,w))}),h}b.exports=s},5987:function(b,c,e){var n=e(2659),o=e(302),f=e(6962);function s(a){return a&&a.length?n(a,f,o):void 0}b.exports=s},2858:function(b,c,e){var n=e(2166),o="Expected a function";function f(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new TypeError(o);var u=function(){var h=arguments,p=a?a.apply(this,h):h[0],y=u.cache;if(y.has(p))return y.get(p);var w=s.apply(this,h);return u.cache=y.set(p,w)||y,w};return u.cache=new(f.Cache||n),u}f.Cache=n,b.exports=f},8440:function(b,c,e){var n=e(97),o=e(3323),f=o(function(s,a,u){n(s,a,u)});b.exports=f},3376:function(b,c,e){var n=e(2659),o=e(3757),f=e(6962);function s(a){return a&&a.length?n(a,f,o):void 0}b.exports=s},3296:function(b,c,e){var n=e(2659),o=e(5979),f=e(3757);function s(a,u){return a&&a.length?n(a,o(u,2),f):void 0}b.exports=s},9958:function(b){function c(){}b.exports=c},5795:function(b,c,e){var n=e(3152),o=function(){return n.Date.now()};b.exports=o},9409:function(b,c,e){var n=e(8832),o=e(522),f=o(function(s,a){return s==null?{}:n(s,a)});b.exports=f},5769:function(b,c,e){var n=e(2310),o=e(6916),f=e(6773),s=e(9171);function a(u){return f(u)?n(s(u)):o(u)}b.exports=a},859:function(b,c,e){var n=e(6106),o=n();b.exports=o},6473:function(b,c,e){var n=e(9861),o=e(4107),f=e(5979),s=e(739),a=e(744);function u(h,p,y){var w=a(h)?n:s,d=arguments.length<3;return w(h,f(p,4),y,d,o)}b.exports=u},617:function(b,c,e){var n=e(6019),o=e(6139),f=e(4665),s=e(7941),a=e(9405),u="[object Map]",h="[object Set]";function p(y){if(y==null)return 0;if(f(y))return s(y)?a(y):y.length;var w=o(y);return w==u||w==h?y.size:n(y).length}b.exports=p},351:function(b,c,e){var n=e(9256),o=e(8506),f=e(2918),s=e(8138),a=f(function(u,h){if(u==null)return[];var p=h.length;return p>1&&s(u,h[0],h[1])?h=[]:p>2&&s(h[0],h[1],h[2])&&(h=[h[0]]),o(u,n(h,1),[])});b.exports=a},4134:function(b){function c(){return[]}b.exports=c},5950:function(b){function c(){return!1}b.exports=c},7341:function(b,c,e){var n=e(168),o=1/0,f=17976931348623157e292;function s(a){if(!a)return a===0?a:0;if(a=n(a),a===o||a===-o){var u=a<0?-1:1;return u*f}return a===a?a:0}b.exports=s},2824:function(b,c,e){var n=e(7341);function o(f){var s=n(f),a=s%1;return s===s?a?s-a:s:0}b.exports=o},168:function(b,c,e){var n=e(3927),o=e(816),f=e(5029),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,h=/^0o[0-7]+$/i,p=parseInt;function y(w){if(typeof w=="number")return w;if(f(w))return s;if(o(w)){var d=typeof w.valueOf=="function"?w.valueOf():w;w=o(d)?d+"":d}if(typeof w!="string")return w===0?w:+w;w=n(w);var M=u.test(w);return M||h.test(w)?p(w.slice(2),M?2:8):a.test(w)?s:+w}b.exports=y},480:function(b,c,e){var n=e(5378),o=e(6730);function f(s){return n(s,o(s))}b.exports=f},4140:function(b,c,e){var n=e(230);function o(f){return f==null?"":n(f)}b.exports=o},1116:function(b,c,e){var n=e(4809),o=e(5024),f=e(1585),s=e(5979),a=e(9217),u=e(744),h=e(7835),p=e(9363),y=e(816),w=e(8397);function d(M,D,B){var Y=u(M),N=Y||h(M)||w(M);if(D=s(D,4),B==null){var A=M&&M.constructor;N?B=Y?new A:[]:y(M)?B=p(A)?o(a(M)):{}:B={}}return(N?n:f)(M,function(k,tt,et){return D(B,k,tt,et)}),B}b.exports=d},4065:function(b,c,e){var n=e(9256),o=e(2918),f=e(9098),s=e(1590),a=o(function(u){return f(n(u,1,s,!0))});b.exports=a},5708:function(b,c,e){var n=e(4140),o=0;function f(s){var a=++o;return n(s)+a}b.exports=f},1229:function(b,c,e){var n=e(720),o=e(5451);function f(s){return s==null?[]:n(s,o(s))}b.exports=f},5441:function(b,c,e){var n=e(348),o=e(4484);function f(s,a){return o(s||[],a||[],n)}b.exports=f},9370:function(b,c,e){e.r(c)},3706:function(b,c,e){e.r(c)},6828:function(b,c,e){e.r(c)},8031:function(b,c,e){e.r(c)},9253:function(b,c,e){e.r(c)},9868:function(b,c,e){e.r(c)},5053:function(b,c,e){e.r(c),e.d(c,{default:function(){return s}});var n=e(4634);function o(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,n.isAnyArray)(a))throw new TypeError("input must be an array");if(a.length===0)throw new TypeError("input must not be empty");var h=u.fromIndex,p=h===void 0?0:h,y=u.toIndex,w=y===void 0?a.length:y;if(p<0||p>=a.length||!Number.isInteger(p))throw new Error("fromIndex must be a positive integer smaller than length");if(w<=p||w>a.length||!Number.isInteger(w))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var d=a[p],M=p+1;M<w;M++)a[M]>d&&(d=a[M]);return d}function f(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,n.isAnyArray)(a))throw new TypeError("input must be an array");if(a.length===0)throw new TypeError("input must not be empty");var h=u.fromIndex,p=h===void 0?0:h,y=u.toIndex,w=y===void 0?a.length:y;if(p<0||p>=a.length||!Number.isInteger(p))throw new Error("fromIndex must be a positive integer smaller than length");if(w<=p||w>a.length||!Number.isInteger(w))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var d=a[p],M=p+1;M<w;M++)a[M]<d&&(d=a[M]);return d}function s(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,n.isAnyArray)(a)){if(a.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var h;if(u.output!==void 0){if(!(0,n.isAnyArray)(u.output))throw new TypeError("output option must be an array if specified");h=u.output}else h=new Array(a.length);var p=f(a),y=o(a);if(p===y)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var w=u.min,d=w===void 0?u.autoMinMax?p:0:w,M=u.max,D=M===void 0?u.autoMinMax?y:1:M;if(d>=D)throw new RangeError("min option must be smaller than max option");for(var B=(D-d)/(y-p),Y=0;Y<a.length;Y++)h[Y]=(a[Y]-p)*B+d;return h}}},v={};function O(b){var c=v[b];if(c!==void 0)return c.exports;var e=v[b]={id:b,loaded:!1,exports:{}};return i[b].call(e.exports,e,e.exports,O),e.loaded=!0,e.exports}(function(){O.d=function(b,c){for(var e in c)O.o(c,e)&&!O.o(b,e)&&Object.defineProperty(b,e,{enumerable:!0,get:c[e]})}})(),function(){O.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){O.o=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)}}(),function(){O.r=function(b){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})}}(),function(){O.nmd=function(b){return b.paths=[],b.children||(b.children=[]),b}}();var F=O(262);return F}()})})(ud);var ld=ud.exports;class vl extends ld.Node{constructor(t){super(t)}draw(t){const i=document.createElement("div");i.innerHTML=`
    <div class="border rounded py-2 px-2 position-absolute d-flex flex-column justify-content-center" style="background-color: var(--el-color-info-light-9); width: 144px; height: 100px; cursor: pointer; user-select: none;" >
      {{TEMPLATE}}
      <div class="text-center mt-2">${t.options.name}</div>
    </div>
  `.replaceAll("{{TEMPLATE}}",t.options.type==="root"?`<div class="text-center"><img src="${t.options.logoUrl}" style="height: 48px" /></div>`:`<div class="text-center h3 mb-0">${t.options.volume}</div>`);const v=i.getElementsByTagName("div")[0];return t.options.type==="root"&&v.classList.add("bg-blue-lt"),t.options.type==="inFlow"&&v.classList.add("bg-lime-lt"),t.options.type==="outFlow"&&v.classList.add("bg-pink-lt"),v.style.left=`${t.left}px`,v.style.top=`${t.top}px`,v}}const C2=T=>(Cc("data-v-803e449f"),T=T(),Pc(),T),P2={class:"mb-3"},L2=C2(()=>Tt("div",{class:"h2 mb-2"},"Asset Flow",-1)),D2={class:"row"},N2={class:"col-md-12 my-2"},A2=jr({__name:"AssetFlowView",props:{data:Object},setup(T){const t=T,i=Ni(null);return Ka(()=>{var c,e,n,o,f,s,a,u;const v=i.value;if(!v)return;const O=Array(),F=Array();O.push({id:"root",type:"root",left:400,top:300,logoUrl:(c=t.data)==null?void 0:c.logoUrl,name:(e=t.data)==null?void 0:e.name,Class:vl}),(f=(o=(n=t.data)==null?void 0:n.assetFlow)==null?void 0:o.asset_flow)==null||f.inFlow.forEach((h,p)=>{O.push({id:`inFlow-${p}`,type:"inFlow",left:100,top:p*120+50,name:h.entities,volume:"$"+Us(h.totalValue),Class:vl}),F.push({source:`inFlow-${p}`,target:"root",arrow:!0,type:"node"})}),(u=(a=(s=t.data)==null?void 0:s.assetFlow)==null?void 0:a.asset_flow)==null||u.outFlow.forEach((h,p)=>{O.push({id:`outFlow-${p}`,type:"outFlow",left:700,top:p*120+50,name:h.entities,volume:"$"+Us(h.totalValue),Class:vl}),F.push({source:"root",target:`outFlow-${p}`,arrow:!0,type:"node"})}),new ld.Canvas({root:v,zoomable:!0,draggable:!0,moveable:!0}).draw({nodes:O,edges:F})}),(v,O)=>(Fe(),an("div",P2,[L2,Tt("div",D2,[Tt("div",N2,[Te(yr,{subheader:"<span class='badge bg-lime-lt'>IN FLOW</span> <span class='badge bg-pink-lt'>OUT FLOW</span>"},{default:dn(()=>[Tt("div",{class:"w-100 chart-canvas",style:{"min-height":"180px","aspect-ratio":"16/9"},ref_key:"flow",ref:i},null,512)]),_:1})])])]))}}),I2=Ha(A2,[["__scopeId","data-v-803e449f"]]),R2=T=>(Cc("data-v-1a9fc2dc"),T=T(),Pc(),T),B2={class:"mb-3"},k2={class:"row"},z2={class:"col-md-12 my-2"},W2={class:"row"},F2={class:"col-md-4"},U2=R2(()=>Tt("div",{class:"h5 text-center mb-5"},"Crypto distribution",-1)),$2={class:"col-md-8"},G2={class:"small"},V2=jr({__name:"PORView",props:{data:Object},setup(T){const t=T,i=oo(()=>{var v,O,F;return(F=(O=(v=t.data)==null?void 0:v.por)==null?void 0:O.por)==null?void 0:F.balanceDetails.reduce((b,c)=>b+c.balanceUSDT,0)});return(v,O)=>{const F=Mr("apexchart"),b=Mr("el-table-column"),c=Mr("el-table");return Fe(),an("div",B2,[Tt("div",k2,[Tt("div",z2,[Te(yr,null,{default:dn(()=>{var e,n,o,f,s,a,u,h,p;return[Tt("div",W2,[Tt("div",F2,[U2,Te(F,{class:"d-flex justify-content-center",type:"pie","max-height":"300px",options:{labels:(o=(n=(e=T.data)==null?void 0:e.por)==null?void 0:n.por)==null?void 0:o.balanceDetails.map(y=>String(y.symbol)),legend:{labels:{colors:"#FFFFFF"}}},series:(a=(s=(f=T.data)==null?void 0:f.por)==null?void 0:s.por)==null?void 0:a.balanceDetails.map(y=>Number(y.balanceUSDT))},null,8,["options","series"])]),Tt("div",$2,[Te(c,{border:!0,data:(p=(h=(u=T.data)==null?void 0:u.por)==null?void 0:h.por)==null?void 0:p.balanceDetails},{default:dn(()=>[Te(b,{label:"Symbol"},{default:dn(y=>[Tt("div",null,on(y.row.symbol),1)]),_:1}),Te(b,{label:"Token Balance"},{default:dn(y=>[Tt("div",null,on(Cn(Us)(y.row.tokenBalance)),1),Tt("div",G2,"≈ "+on(Cn(Us)(y.row.balanceUSDT))+" USDT",1)]),_:1}),Te(b,{label:"Change"},{default:dn(y=>[Tt("div",{class:Fs({"text-success":y.row.tokenBalanceChange>=0,"text-danger":y.row.tokenBalanceChange<0})},[go(on(y.row.tokenBalanceChange.toFixed(2))+"% ",1),y.row.tokenBalanceChange>=0?(Fe(),xr(Cn(Lh),{key:0,size:16})):(Fe(),xr(Cn(Ph),{key:1,size:16}))],2),y.row.symbol.toLowerCase()!=="others"?(Fe(),an("div",{key:0,class:Fs(["small",{"text-success":y.row.balanceUSDTChange>=0,"text-danger":y.row.balanceUSDTChange<0}])},[go(" ≈ "+on(y.row.balanceUSDTChange.toFixed(2))+"% USDT ",1),y.row.balanceUSDTChange>=0?(Fe(),xr(Cn(Lh),{key:0,size:16})):(Fe(),xr(Cn(Ph),{key:1,size:16}))],2)):Ln("",!0)]),_:1}),Te(b,{label:"Ratio"},{default:dn(y=>[go(on((y.row.balanceUSDT/i.value*100).toFixed(2))+"% ",1)]),_:1})]),_:1},8,["data"])])])]}),_:1})])])])}}}),K2=Ha(V2,[["__scopeId","data-v-1a9fc2dc"]]),H2={class:"container py-2 mt-4",style:{"max-width":"1080px"}},Y2={key:0},X2={key:1,class:"p-3 mx-auto",style:{"max-width":"960px"}},j2=Tt("div",{class:"loading mx-auto mt-5"},null,-1),Q2=[j2],Z2=jr({__name:"CEXView",setup(T){const t=El(),i=Ni({}),v=Ni(!0),O=Ni([{name:"Overview",icon:"bi-house-door"},{name:"Team & Social Media",icon:"bi-people"},{name:"Transaction Monitoring",icon:"bi-cash"},{name:"Asset Flow",icon:"bi-activity"},{name:"Proof of Reserve",icon:"bi-check2-square"}]),F=Ni(0);function b(c){F.value=c,window.scrollTo({top:0,left:0,behavior:"instant"})}return Ka(async()=>{window.scrollTo({top:0,left:0,behavior:"instant"});const c=await Sc.getProjectData(t.params.type,t.params.id,{assetFlow:!0,coinMarketCap:!0,securityScore:!0,por:!0,webReview:!0,transactionMonitoring:!0});i.value=c,v.value=!1}),(c,e)=>(Fe(),an(Xr,null,[Te(Tc),Te(Rc,{views:O.value,"view-idx":F.value,onChangeView:b},null,8,["views","view-idx"]),Tt("div",H2,[v.value?Ln("",!0):(Fe(),an("div",Y2,[Te(Wx,{data:i.value},null,8,["data"]),F.value==0?(Fe(),xr(u2,{key:0,data:i.value},null,8,["data"])):Ln("",!0),F.value==1?(Fe(),xr(p2,{key:1,data:i.value},null,8,["data"])):Ln("",!0),F.value==2?(Fe(),xr(T2,{key:2,data:i.value},null,8,["data"])):Ln("",!0),F.value==3?(Fe(),xr(I2,{key:3,data:i.value},null,8,["data"])):Ln("",!0),F.value==4?(Fe(),xr(K2,{key:4,data:i.value},null,8,["data"])):Ln("",!0)])),v.value?(Fe(),an("div",X2,Q2)):Ln("",!0)])],64))}}),q2=jr({__name:"ProjectView",setup(T){const t=Ni({stablecoin:Th(gx),cex:Th(Z2)}),i=El(),v=oo(()=>i.params.type);return(O,F)=>(Fe(),xr(gy(t.value[v.value])))}});export{q2 as default};
